!function(){var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){(n||!hasProp(e,r))&&(!i||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[r]=t:(e[r]||(e[r]={}),mixin(e[r],t,n,i)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n,i=e.length;for(t=0;i>t;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,s,o,a,l,c,u,h,d,p,f,g=n&&n.split("/"),m=g,v=S.map,y=v&&v["*"];if(e&&"."===e.charAt(0)&&(n?(m=g.slice(0,g.length-1),e=e.split("/"),u=e.length-1,S.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,"")),e=m.concat(e),t(e),e=e.join("/")):0===e.indexOf("./")&&(e=e.substring(2))),i&&v&&(g||y)){o=e.split("/");e:for(a=o.length;a>0;a-=1){if(c=o.slice(0,a).join("/"),g)for(l=g.length;l>0;l-=1)if(s=getOwn(v,g.slice(0,l).join("/")),s&&(s=getOwn(s,c))){h=s,d=a;break e}!p&&y&&getOwn(y,c)&&(p=getOwn(y,c),f=a)}!h&&p&&(h=p,d=f),h&&(o.splice(0,d,h),e=o.join("/"))}return r=getOwn(S.pkgs,e),r?r:e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName?(t.parentNode.removeChild(t),!0):void 0})}function r(e){var t=getOwn(S.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),w.require.undef(e),w.require([e]),!0):void 0}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function o(e,t,i,r){var o,a,l,c,u=null,h=t?t.name:null,d=e,p=!0,f="";return e||(p=!1,e="_@r"+(R+=1)),c=s(e),u=c[0],e=c[1],u&&(u=n(u,h,r),a=getOwn(N,u)),e&&(u?f=a&&a.normalize?a.normalize(e,function(e){return n(e,h,r)}):n(e,h,r):(f=n(e,h,r),c=s(f),u=c[0],f=c[1],i=!0,o=w.nameToUrl(f))),l=!u||a||i?"":"_unnormalized"+(L+=1),{prefix:u,name:f,parentMap:t,unnormalized:!!l,url:o,originalName:d,isDefine:p,id:(u?u+"!"+f:f)+l}}function a(e){var t=e.id,n=getOwn(E,t);return n||(n=E[t]=new w.Module(e)),n}function l(e,t,n){var i=e.id,r=getOwn(E,i);!hasProp(N,i)||r&&!r.defineEmitComplete?(r=a(e),r.error&&"error"===t?n(r.error):r.on(t,n)):"defined"===t&&n(N[i])}function c(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(E,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function u(){globalDefQueue.length&&(apsp.apply(_,[_.length,0].concat(globalDefQueue)),globalDefQueue=[])}function h(e){delete E[e],delete T[e]}function d(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var s=i.id,o=getOwn(E,s);!o||e.depMatched[r]||n[s]||(getOwn(t,s)?(e.defineDep(r,N[s]),e.check()):d(o,t,n))}),n[i]=!0)}function p(){var e,t,n=1e3*S.waitSeconds,s=n&&w.startTime+n<(new Date).getTime(),o=[],a=[],l=!1,u=!0;if(!y){if(y=!0,eachProp(T,function(e){var n=e.map,c=n.id;if(e.enabled&&(n.isDefine||a.push(e),!e.error))if(!e.inited&&s)r(c)?(t=!0,l=!0):(o.push(c),i(c));else if(!e.inited&&e.fetched&&n.isDefine&&(l=!0,!n.prefix))return u=!1}),s&&o.length)return e=makeError("timeout","Load timeout for modules: "+o,null,o),e.contextName=w.contextName,c(e);u&&each(a,function(e){d(e,{},{})}),s&&!t||!l||!isBrowser&&!isWebWorker||k||(k=setTimeout(function(){k=0,p()},50)),y=!1}}function f(e){hasProp(N,e[0])||a(o(e[0],null,!0)).init(e[1],e[2])}function g(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function m(e){var t=e.currentTarget||e.srcElement;return g(t,w.onScriptLoad,"load","onreadystatechange"),g(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(u();_.length;){if(e=_.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}}var y,b,w,x,k,S={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},E={},T={},C={},_=[],N={},A={},O={},R=1,L=1;return x={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=N[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(S.config,e.map.id)||{}},exports:x.exports(e)}}},b=function(e){this.events=getOwn(C,e.id)||{},this.map=e,this.shim=getOwn(S.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?void w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;A[e]||(A[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,s=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(s)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=w.execCb(n,s,i,r)}catch(o){e=o}else r=w.execCb(n,s,i,r);if(this.map.isDefine&&void 0===r&&(t=this.module,t?r=t.exports:this.usingExports&&(r=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else r=s;this.exports=r,this.map.isDefine&&!this.ignore&&(N[n]=r,req.onResourceLoad&&req.onResourceLoad(w,this.map,this.depMaps)),h(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=o(e.prefix);this.depMaps.push(i),l(i,"defined",bind(this,function(i){var r,s,u,d=getOwn(O,this.map.id),p=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,g=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(p=i.normalize(p,function(e){return n(e,f,!0)})||""),s=o(e.prefix+"!"+p,this.map.parentMap),l(s,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),u=getOwn(E,s.id),void(u&&(this.depMaps.push(s),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()))):d?(this.map.url=w.nameToUrl(d),void this.load()):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(E,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&h(e.map.id)}),c(e)}),r.fromText=bind(this,function(n,i){var s=e.name,l=o(s),u=useInteractive;i&&(n=i),u&&(useInteractive=!1),a(l),hasProp(S.config,t)&&(S.config[s]=S.config[t]);try{req.exec(n)}catch(h){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+h,h,[t]))}u&&(useInteractive=!0),this.depMaps.push(l),w.completeLoad(s),g([s],r)}),void i.load(e.name,g,r,S))})),w.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){T[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(x,e.id))return void(this.depExports[t]=r(this));this.depCount+=1,l(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&l(e,"error",bind(this,this.errback))}n=e.id,i=E[n],hasProp(x,n)||!i||i.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(E,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:S,contextName:e,registry:E,defined:N,urlFetched:A,defQueue:_,Module:b,makeModuleMap:o,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=S.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(S[t]||(S[t]={}),mixin(S[t],e,!0,!0)):S[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(O[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),t[n]=e}),S.shim=t),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(S.paths[n]=e.location),S.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(E,function(e,t){e.inited||e.map.unnormalized||(e.map=o(t))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,r){function s(n,i,l){var u,h,d;return r.enableBuildCallback&&i&&isFunction(i)&&(i.__requireJsBuild=!0),"string"==typeof n?isFunction(i)?c(makeError("requireargs","Invalid require call"),l):t&&hasProp(x,n)?x[n](E[t.id]):req.get?req.get(w,n,t,s):(h=o(n,t,!1,!0),u=h.id,hasProp(N,u)?N[u]:c(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),w.nextTick(function(){v(),d=a(o(null,t)),d.skipMap=r.skipMap,d.init(n,i,l,{enabled:!0}),p()}),s)}return r=r||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var i,r=e.lastIndexOf("."),s=e.split("/")[0],o="."===s||".."===s;return-1!==r&&(!o||r>1)&&(i=e.substring(r,e.length),e=e.substring(0,r)),w.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(N,o(e,t,!1,!0).id)},specified:function(e){return e=o(e,t,!1,!0).id,hasProp(N,e)||hasProp(E,e)}}),t||(s.undef=function(e){u();var n=o(e,t,!0),r=getOwn(E,e);i(e),delete N[e],delete A[n.url],delete C[e],eachReverse(_,function(t,n){t[0]===e&&_.splice(n,1)}),r&&(r.events.defined&&(C[e]=r.events),h(e))}),s},enable:function(e){var t=getOwn(E,e.id);t&&a(e).enable()},completeLoad:function(e){var t,n,i,s=getOwn(S.shim,e)||{},o=s.exports;for(u();_.length;){if(n=_.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);f(n)}if(i=getOwn(E,e),!t&&!hasProp(N,e)&&i&&!i.inited){if(!(!S.enforceDefine||o&&getGlobal(o)))return r(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));f([e,s.deps||[],s.exportsFn])}p()},nameToUrl:function(e,t,n){var i,r,s,o,a,l,c,u=getOwn(S.pkgs,e);if(u&&(e=u),c=getOwn(O,e))return w.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))a=e+(t||"");else{for(i=S.paths,r=e.split("/"),s=r.length;s>0;s-=1)if(o=r.slice(0,s).join("/"),l=getOwn(i,o)){isArray(l)&&(l=l[0]),r.splice(0,s,l);break}a=r.join("/"),a+=t||(/^data\:|\?/.test(a)||n?"":".js"),a=("/"===a.charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":S.baseUrl)+a}return S.urlArgs?a+((-1===a.indexOf("?")?"?":"&")+S.urlArgs):a},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=m(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=m(e);return r(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.10",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,s,o=defContextName;return isArray(e)||"string"==typeof e||(s=e,isArray(t)?(e=t,t=n,n=i):e=[]),s&&s.context&&(o=s.context),r=getOwn(contexts,o),r||(r=contexts[o]=req.s.newContext(o)),s&&r.configure(s),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("libs/require",function(){}),requirejs.config({waitSeconds:30,paths:{backbone:"libs/backbone",underscore:"libs/underscore",jquery:"libs/jquery",marionette:"libs/backbone.marionette","backbone.radio":"libs/backbone.radio",Handlebars:"libs/handlebars",hbs:"libs/hbs",i18n:"libs/i18n",i18nprecompile:"libs/i18nprecompile",json2:"libs/json2",velocity:"libs/velocity","jquery.viewport":"libs/jquery.viewport",async:"libs/async",stellar:"libs/stellar",templates:"./templates"},shim:{backbone:{deps:["jquery","underscore"],exports:"Backbone"},velocity:{deps:["jquery"]},"jquery.viewport":{deps:["jquery"]},stellar:{deps:["jquery"]}},hbs:{templateExtension:"html",disableI18n:!0,disableHelpers:!1}}),define("config",function(){}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(at.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return W.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t=ft[e]={};return Z.each(e.match(pt)||[],function(e,n){t[n]=!0}),t}function o(){Q.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+Math.random()}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(wt,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:bt.test(n)?Z.parseJSON(n):n}catch(r){}yt.set(e,t,n)}else n=void 0;return n}function c(){return!0}function u(){return!1}function h(){try{return Q.activeElement}catch(e){}}function d(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=It.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,i=e.length;i>n;n++)vt.set(e[n],"globalEval",!t||vt.get(t[n],"globalEval"))}function m(e,t){var n,i,r,s,o,a,l,c;if(1===t.nodeType){if(vt.hasData(e)&&(s=vt.access(e),o=vt.set(t,s),c=s.events)){delete o.handle,o.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)Z.event.add(t,r,c[r][n])}yt.hasData(e)&&(a=yt.access(e),l=Z.extend({},a),yt.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Et.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var i,r=Z(n.createElement(t)).appendTo(n.body),s=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:Z.css(r[0],"display");return r.detach(),s}function w(e){var t=Q,n=jt[e];return n||(n=b(e,t),"none"!==n&&n||(qt=(qt||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=qt[0].contentDocument,t.write(),t.close(),n=b(e,t),qt.detach()),jt[e]=n),n}function x(e,t,n){var i,r,s,o,a=e.style;return n=n||Ft(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(""!==o||Z.contains(e.ownerDocument,e)||(o=Z.style(e,t)),$t.test(o)&&Dt.test(t)&&(i=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=i,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Yt.length;r--;)if(t=Yt[r]+n,t in e)return t;return i}function E(e,t,n){var i=Ut.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function T(e,t,n,i,r){for(var s=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=Z.css(e,n+kt[s],!0,r)),i?("content"===n&&(o-=Z.css(e,"padding"+kt[s],!0,r)),"margin"!==n&&(o-=Z.css(e,"border"+kt[s]+"Width",!0,r))):(o+=Z.css(e,"padding"+kt[s],!0,r),"padding"!==n&&(o+=Z.css(e,"border"+kt[s]+"Width",!0,r)));return o}function C(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=Ft(e),o="border-box"===Z.css(e,"boxSizing",!1,s);if(0>=r||null==r){if(r=x(e,t,s),(0>r||null==r)&&(r=e.style[t]),$t.test(r))return r;i=o&&(X.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+T(e,t,n||(o?"border":"content"),i,s)+"px"}function _(e,t){for(var n,i,r,s=[],o=0,a=e.length;a>o;o++)i=e[o],i.style&&(s[o]=vt.get(i,"olddisplay"),n=i.style.display,t?(s[o]||"none"!==n||(i.style.display=""),""===i.style.display&&St(i)&&(s[o]=vt.access(i,"olddisplay",w(i.nodeName)))):(r=St(i),"none"===n&&r||vt.set(i,"olddisplay",r?n:Z.css(i,"display"))));for(o=0;a>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[o]||"":"none"));return e}function N(e,t,n,i,r){return new N.prototype.init(e,t,n,i,r)}function A(){return setTimeout(function(){Xt=void 0}),Xt=Z.now()}function O(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=kt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function R(e,t,n){for(var i,r=(nn[t]||[]).concat(nn["*"]),s=0,o=r.length;o>s;s++)if(i=r[s].call(n,t,e))return i}function L(e,t,n){var i,r,s,o,a,l,c,u,h=this,d={},p=e.style,f=e.nodeType&&St(e),g=vt.get(e,"fxshow");n.queue||(a=Z._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=Z.css(e,"display"),u="none"===c?vt.get(e,"olddisplay")||w(e.nodeName):c,"inline"===u&&"none"===Z.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Jt.exec(r)){if(delete t[i],s=s||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}d[i]=g&&g[i]||Z.style(e,i)}else c=void 0;if(Z.isEmptyObject(d))"inline"===("none"===c?w(e.nodeName):c)&&(p.display=c);else{g?"hidden"in g&&(f=g.hidden):g=vt.access(e,"fxshow",{}),s&&(g.hidden=!f),f?Z(e).show():h.done(function(){Z(e).hide()}),h.done(function(){var t;vt.remove(e,"fxshow");for(t in d)Z.style(e,t,d[t])});for(i in d)o=R(f?g[i]:0,i,h),i in g||(g[i]=o.start,f&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function M(e,t){var n,i,r,s,o;for(n in e)if(i=Z.camelCase(n),r=t[i],s=e[n],Z.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),o=Z.cssHooks[i],o&&"expand"in o){s=o.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=r)}else t[i]=r}function V(e,t,n){var i,r,s=0,o=tn.length,a=Z.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Xt||A(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,s=1-i,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(s);return a.notifyWith(e,[c,s,n]),1>s&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xt||A(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Z.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(M(u,c.opts.specialEasing);o>s;s++)if(i=tn[s].call(c,e,u,c.opts))return i;return Z.map(u,R,c),Z.isFunction(c.opts.start)&&c.opts.start.call(e,c),Z.fx.timer(Z.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,s=t.toLowerCase().match(pt)||[];if(Z.isFunction(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function I(e,t,n,i){function r(a){var l;return s[a]=!0,Z.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||o||s[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var s={},o=e===kn;return r(t.dataTypes[0])||!s["*"]&&r("*")}function H(e,t){var n,i,r=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&Z.extend(!0,e,i),e}function B(e,t,n){for(var i,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)s=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}return s?(s!==l[0]&&l.unshift(s),n[s]):void 0}function q(e,t,n,i){var r,s,o,a,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=c[l+" "+s]||c["* "+s],!o)for(r in c)if(a=r.split(" "),a[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){o===!0?o=c[r]:c[r]!==!0&&(s=a[0],u.unshift(a[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function j(e,t,n,i){var r;if(Z.isArray(t))Z.each(t,function(t,r){n||Cn.test(e)?i(e,r):j(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Z.type(t))i(e,t);else for(r in t)j(e+"["+r+"]",t[r],n,i)}function D(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var $=[],F=$.slice,z=$.concat,U=$.push,W=$.indexOf,G={},K=G.toString,Y=G.hasOwnProperty,X={},Q=e.document,J="2.1.1",Z=function(e,t){return new Z.fn.init(e,t)},et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tt=/^-ms-/,nt=/-([\da-z])/gi,it=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:J,constructor:Z,selector:"",length:0,toArray:function(){return F.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:F.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(F.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:$.sort,splice:$.splice},Z.extend=Z.fn.extend=function(){var e,t,n,i,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||Z.isFunction(o)||(o={}),a===l&&(o=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)n=o[t],i=e[t],o!==i&&(c&&i&&(Z.isPlainObject(i)||(r=Z.isArray(i)))?(r?(r=!1,s=n&&Z.isArray(n)?n:[]):s=n&&Z.isPlainObject(n)?n:{},o[t]=Z.extend(c,s,i)):void 0!==i&&(o[t]=i));return o},Z.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!Y.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?G[K.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,it)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,s=0,o=e.length,a=n(e);if(i){if(a)for(;o>s&&(r=t.apply(e[s],i),r!==!1);s++);else for(s in e)if(r=t.apply(e[s],i),r===!1)break}else if(a)for(;o>s&&(r=t.call(e[s],s,e[s]),r!==!1);s++);else for(s in e)if(r=t.call(e[s],s,e[s]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(et,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?Z.merge(i,"string"==typeof e?[e]:e):U.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:W.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],s=0,o=e.length,a=!n;o>s;s++)i=!t(e[s],s),i!==a&&r.push(e[s]);return r},map:function(e,t,i){var r,s=0,o=e.length,a=n(e),l=[];if(a)for(;o>s;s++)r=t(e[s],s,i),null!=r&&l.push(r);else for(s in e)r=t(e[s],s,i),null!=r&&l.push(r);return z.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(i=F.call(arguments,2),r=function(){return e.apply(t||this,i.concat(F.call(arguments)))},r.guid=e.guid=e.guid||Z.guid++,r):void 0},now:Date.now,support:X}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()});var rt=function(e){function t(e,t,n,i){var r,s,o,a,l,c,h,p,f,g;if((t?t.ownerDocument||t:j)!==L&&R(t),t=t||L,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(V&&!i){if(r=yt.exec(e))if(o=r[1]){if(9===a){if(s=t.getElementById(o),!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&B(t,s)&&s.id===o)return n.push(s),n}else{if(r[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((o=r[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(o)),n}if(x.qsa&&(!P||!P.test(e))){if(p=h=q,f=t,g=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=T(e),(h=t.getAttribute("id"))?p=h.replace(wt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+d(c[l]);f=bt.test(e)&&u(t.parentNode)||t,g=c.join(",")}if(g)try{return Z.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{h||t.removeAttribute("id")}}}return _(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[q]=!0,e}function r(e){var t=L.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)k.attrHandle[n[i]]=t
}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,s=e([],n.length,t),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&typeof e.getElementsByTagName!==G&&e}function h(){}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,s=$++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,s)}:function(t,n,o){var a,l,c=[D,s];if(o){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[q]||(t[q]={}),(a=l[i])&&a[0]===D&&a[1]===s)return c[2]=a[2];if(l[i]=c,c[2]=e(t,n,o))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var r=0,s=n.length;s>r;r++)t(e,n[r],i);return i}function m(e,t,n,i,r){for(var s,o=[],a=0,l=e.length,c=null!=t;l>a;a++)(s=e[a])&&(!n||n(s,i,r))&&(o.push(s),c&&t.push(a));return o}function v(e,t,n,r,s,o){return r&&!r[q]&&(r=v(r)),s&&!s[q]&&(s=v(s,o)),i(function(i,o,a,l){var c,u,h,d=[],p=[],f=o.length,v=i||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:m(v,d,e,a,l),b=n?s||(i?e:f||r)?[]:o:y;if(n&&n(y,b,a,l),r)for(c=m(b,p),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(b[p[u]]=!(y[p[u]]=h));if(i){if(s||e){if(s){for(c=[],u=b.length;u--;)(h=b[u])&&c.push(y[u]=h);s(null,b=[],c,l)}for(u=b.length;u--;)(h=b[u])&&(c=s?tt.call(i,h):d[u])>-1&&(i[c]=!(o[c]=h))}}else b=m(b===o?b.splice(f,b.length):b),s?s(null,o,b,l):Z.apply(o,b)})}function y(e){for(var t,n,i,r=e.length,s=k.relative[e[0].type],o=s||k.relative[" "],a=s?1:0,l=p(function(e){return e===t},o,!0),c=p(function(e){return tt.call(t,e)>-1},o,!0),u=[function(e,n,i){return!s&&(i||n!==N)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>a;a++)if(n=k.relative[e[a].type])u=[p(f(u),n)];else{if(n=k.filter[e[a].type].apply(null,e[a].matches),n[q]){for(i=++a;r>i&&!k.relative[e[i].type];i++);return v(a>1&&f(u),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(lt,"$1"),n,i>a&&y(e.slice(a,i)),r>i&&y(e=e.slice(i)),r>i&&d(e))}u.push(n)}return f(u)}function b(e,n){var r=n.length>0,s=e.length>0,o=function(i,o,a,l,c){var u,h,d,p=0,f="0",g=i&&[],v=[],y=N,b=i||s&&k.find.TAG("*",c),w=D+=null==y?1:Math.random()||.1,x=b.length;for(c&&(N=o!==L&&o);f!==x&&null!=(u=b[f]);f++){if(s&&u){for(h=0;d=e[h++];)if(d(u,o,a)){l.push(u);break}c&&(D=w)}r&&((u=!d&&u)&&p--,i&&g.push(u))}if(p+=f,r&&f!==p){for(h=0;d=n[h++];)d(g,v,o,a);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=Q.call(l));v=m(v)}Z.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(D=w,N=y),g};return r?i(o):o}var w,x,k,S,E,T,C,_,N,A,O,R,L,M,V,P,I,H,B,q="sizzle"+-new Date,j=e.document,D=0,$=0,F=n(),z=n(),U=n(),W=function(e,t){return e===t&&(O=!0),0},G="undefined",K=1<<31,Y={}.hasOwnProperty,X=[],Q=X.pop,J=X.push,Z=X.push,et=X.slice,tt=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=rt.replace("w","w#"),ot="\\["+it+"*("+rt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+st+"))|)"+it+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ht=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(at),pt=new RegExp("^"+st+"$"),ft={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),kt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Z.apply(X=et.call(j.childNodes),j.childNodes),X[j.childNodes.length].nodeType}catch(St){Z={apply:X.length?function(e,t){J.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},E=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},R=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:j,i=n.defaultView;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,M=n.documentElement,V=!E(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){R()},!1):i.attachEvent&&i.attachEvent("onunload",function(){R()})),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(n.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),x.getById=r(function(e){return M.appendChild(e).id=q,!n.getElementsByName||!n.getElementsByName(q).length}),x.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==G&&V){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(xt,kt);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(xt,kt);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=x.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==G?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},k.find.CLASS=x.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==G&&V?t.getElementsByClassName(e):void 0},I=[],P=[],(x.qsa=vt.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&P.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+it+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||P.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(x.matchesSelector=vt.test(H=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(e){x.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),I.push("!=",at)}),P=P.length&&new RegExp(P.join("|")),I=I.length&&new RegExp(I.join("|")),t=vt.test(M.compareDocumentPosition),B=t||vt.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return O=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===j&&B(j,e)?-1:t===n||t.ownerDocument===j&&B(j,t)?1:A?tt.call(A,e)-tt.call(A,t):0:4&i?-1:1)}:function(e,t){if(e===t)return O=!0,0;var i,r=0,s=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!s||!a)return e===n?-1:t===n?1:s?-1:a?1:A?tt.call(A,e)-tt.call(A,t):0;if(s===a)return o(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?o(l[r],c[r]):l[r]===j?-1:c[r]===j?1:0},n):L},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==L&&R(e),n=n.replace(ht,"='$1']"),!(!x.matchesSelector||!V||I&&I.test(n)||P&&P.test(n)))try{var i=H.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&R(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&R(e);var n=k.attrHandle[t.toLowerCase()],i=n&&Y.call(k.attrHandle,t.toLowerCase())?n(e,t,!V):void 0;return void 0!==i?i:x.attributes||!V?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(O=!x.detectDuplicates,A=!x.sortStable&&e.slice(0),e.sort(W),O){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return A=null,e},S=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=S(t);return n},k=t.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,kt),e[3]=(e[3]||e[4]||e[5]||"").replace(xt,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&dt.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,kt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var s=t.attr(r,e);return null==s?"!="===n:n?(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s+" ").indexOf(i)>-1:"|="===n?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,p,f,g=s!==o?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(m){if(s){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&y){for(u=m[q]||(m[q]={}),c=u[e]||[],p=c[0]===D&&c[1],d=c[0]===D&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){u[e]=[D,p,d];break}}else if(y&&(c=(t[q]||(t[q]={}))[e])&&c[0]===D)d=c[1];else for(;(h=++p&&h&&h[g]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[q]||(h[q]={}))[e]=[D,d]),h!==t)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,n){var r,s=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[q]?s(n):s.length>1?(r=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=s(e,n),o=r.length;o--;)i=tt.call(e,r[o]),e[i]=!(t[i]=r[o])}):function(e){return s(e,0,r)}):s}},pseudos:{not:i(function(e){var t=[],n=[],r=C(e.replace(lt,"$1"));return r[q]?i(function(e,t,n,i){for(var s,o=r(e,null,i,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,kt).toLowerCase(),function(t){var n;do if(n=V?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return h.prototype=k.filters=k.pseudos,k.setFilters=new h,T=t.tokenize=function(e,n){var i,r,s,o,a,l,c,u=z[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=k.preFilter;a;){(!i||(r=ct.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),i=!1,(r=ut.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(lt," ")}),a=a.slice(i.length));for(o in k.filter)!(r=ft[o].exec(a))||c[o]&&!(r=c[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):z(e,l).slice(0)},C=t.compile=function(e,t){var n,i=[],r=[],s=U[e+" "];if(!s){for(t||(t=T(e)),n=t.length;n--;)s=y(t[n]),s[q]?i.push(s):r.push(s);s=U(e,b(r,i)),s.selector=e}return s},_=t.select=function(e,t,n,i){var r,s,o,a,l,c="function"==typeof e&&e,h=!i&&T(e=c.selector||e);if(n=n||[],1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&x.getById&&9===t.nodeType&&V&&k.relative[s[1].type]){if(t=(k.find.ID(o.matches[0].replace(xt,kt),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(r=ft.needsContext.test(e)?0:s.length;r--&&(o=s[r],!k.relative[a=o.type]);)if((l=k.find[a])&&(i=l(o.matches[0].replace(xt,kt),bt.test(s[0].type)&&u(t.parentNode)||t))){if(s.splice(r,1),e=i.length&&d(s),!e)return Z.apply(n,i),n;break}}return(c||C(e,h))(i,t,!V,n,bt.test(e)&&u(t.parentNode)||t),n},x.sortStable=q.split("").sort(W).join("")===q,x.detectDuplicates=!!O,R(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(nt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);Z.find=rt,Z.expr=rt.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=rt.uniqueSort,Z.text=rt.getText,Z.isXMLDoc=rt.isXML,Z.contains=rt.contains;var st=Z.expr.match.needsContext,ot=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?Z.find.matchesSelector(i,e)?[i]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(r[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,r[t],i);return i=this.pushStack(n>1?Z.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&st.test(e)?Z(e):e||[],!1).length}});var lt,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ut=Z.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ct.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||lt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),ot.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=Q.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof lt.ready?lt.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ut.prototype=Z.fn,lt=Z(Q);var ht=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&Z(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,s=[],o=st.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?Z.unique(s):s)},index:function(e){return e?"string"==typeof e?W.call(Z(e),this[0]):W.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var r=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Z.filter(i,r)),this.length>1&&(dt[e]||Z.unique(r),ht.test(e)&&r.reverse()),this.pushStack(r)}});var pt=/\S+/g,ft={};Z.Callbacks=function(e){e="string"==typeof e?ft[e]||s(e):Z.extend({},e);var t,n,i,r,o,a,l=[],c=!e.once&&[],u=function(s){for(t=e.memory&&s,n=!0,a=r||0,r=0,o=l.length,i=!0;l&&o>a;a++)if(l[a].apply(s[0],s[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(c?c.length&&u(c.shift()):t?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function s(t){Z.each(t,function(t,n){var i=Z.type(n);"function"===i?e.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),i?o=l.length:t&&(r=n,u(t))}return this},remove:function(){return l&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,l,n))>-1;)l.splice(n,1),i&&(o>=n&&o--,a>=n&&a--)}),this},has:function(e){return e?Z.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||h.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],i?c.push(t):u(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,s){var o=Z.isFunction(e[t])&&e[t];r[s[1]](function(){var e=o&&o.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,i):i}},r={};return i.pipe=i.then,Z.each(t,function(e,s){var o=s[2],a=s[3];i[s[1]]=o.add,a&&o.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?i:this,arguments),this},r[s[0]+"With"]=o.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,s=F.call(arguments),o=s.length,a=1!==o||e&&Z.isFunction(e.promise)?o:0,l=1===a?e:Z.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?F.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)s[r]&&Z.isFunction(s[r].promise)?s[r].promise().done(c(r,i,s)).fail(l.reject).progress(c(r,n,t)):--a;return a||l.resolveWith(i,s),l.promise()}});var gt;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(gt.resolveWith(Q,[Z]),Z.fn.triggerHandler&&(Z(Q).triggerHandler("ready"),Z(Q).off("ready"))))}}),Z.ready.promise=function(t){return gt||(gt=Z.Deferred(),"complete"===Q.readyState?setTimeout(Z.ready):(Q.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1))),gt.promise(t)},Z.ready.promise();var mt=Z.access=function(e,t,n,i,r,s,o){var a=0,l=e.length,c=null==n;if("object"===Z.type(n)){r=!0;for(a in n)Z.access(e,t,a,n[a],!0,s,o)}else if(void 0!==i&&(r=!0,Z.isFunction(i)||(o=!0),c&&(o?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(Z(e),n)})),t))for(;l>a;a++)t(e[a],n,o?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):s};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),s=this.cache[r];if("string"==typeof t)s[t]=n;else if(Z.isEmptyObject(s))Z.extend(this.cache[r],t);else for(i in t)s[i]=t[i];return s},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,s=this.key(e),o=this.cache[s];if(void 0===t)this.cache[s]={};else{Z.isArray(t)?i=t.concat(t.map(Z.camelCase)):(r=Z.camelCase(t),t in o?i=[t,r]:(i=r,i=i in o?[i]:i.match(pt)||[])),n=i.length;for(;n--;)delete o[i[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var vt=new a,yt=new a,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;Z.extend({hasData:function(e){return yt.hasData(e)||vt.hasData(e)},data:function(e,t,n){return yt.access(e,t,n)},removeData:function(e,t){yt.remove(e,t)},_data:function(e,t,n){return vt.access(e,t,n)},_removeData:function(e,t){vt.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,i,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=yt.get(s),1===s.nodeType&&!vt.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=Z.camelCase(i.slice(5)),l(s,i,r[i])));vt.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){yt.set(this,e)}):mt(this,function(t){var n,i=Z.camelCase(e);if(s&&void 0===t){if(n=yt.get(s,e),void 0!==n)return n;if(n=yt.get(s,i),void 0!==n)return n;if(n=l(s,i,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,i);yt.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&yt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){yt.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=vt.get(e,t),n&&(!i||Z.isArray(n)?i=vt.access(e,t,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,r=n.shift(),s=Z._queueHooks(e,t),o=function(){Z.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,o,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return vt.get(e,n)||vt.access(e,n,{empty:Z.Callbacks("once memory").add(function(){vt.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=Z.Deferred(),s=this,o=this.length,a=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=vt.get(s[o],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,kt=["Top","Right","Bottom","Left"],St=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Et=/^(?:checkbox|radio)$/i;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),X.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Tt="undefined";X.focusinBubbles="onfocusin"in e;var Ct=/^key/,_t=/^(?:mouse|pointer|contextmenu)|click/,Nt=/^(?:focusinfocus|focusoutblur)$/,At=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,i,r){var s,o,a,l,c,u,h,d,p,f,g,m=vt.get(e);if(m)for(n.handler&&(s=n,n=s.handler,r=s.selector),n.guid||(n.guid=Z.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof Z!==Tt&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pt)||[""],c=t.length;c--;)a=At.exec(t[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(h=Z.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=Z.event.special[p]||{},u=Z.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:f.join(".")},s),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(e,i,f,o)!==!1||e.addEventListener&&e.addEventListener(p,o,!1)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),Z.event.global[p]=!0)},remove:function(e,t,n,i,r){var s,o,a,l,c,u,h,d,p,f,g,m=vt.hasData(e)&&vt.get(e);if(m&&(l=m.events)){for(t=(t||"").match(pt)||[""],c=t.length;c--;)if(a=At.exec(t[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(h=Z.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)u=d[s],!r&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));o&&!d.length&&(h.teardown&&h.teardown.call(e,f,m.handle)!==!1||Z.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)Z.event.remove(e,p+t[c],n,i,!0);Z.isEmptyObject(l)&&(delete m.handle,vt.remove(e,"events"))}},trigger:function(t,n,i,r){var s,o,a,l,c,u,h,d=[i||Q],p=Y.call(t,"type")?t.type:t,f=Y.call(t,"namespace")?t.namespace.split("."):[];if(o=a=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!Nt.test(p+Z.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[Z.expando]?t:new Z.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:Z.makeArray(n,[t]),h=Z.event.special[p]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!Z.isWindow(i)){for(l=h.delegateType||p,Nt.test(l+p)||(o=o.parentNode);o;o=o.parentNode)d.push(o),a=o;a===(i.ownerDocument||Q)&&d.push(a.defaultView||a.parentWindow||e)}for(s=0;(o=d[s++])&&!t.isPropagationStopped();)t.type=s>1?l:h.bindType||p,u=(vt.get(o,"events")||{})[t.type]&&vt.get(o,"handle"),u&&u.apply(o,n),u=c&&o[c],u&&u.apply&&Z.acceptData(o)&&(t.result=u.apply(o,n),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!Z.acceptData(i)||c&&Z.isFunction(i[p])&&!Z.isWindow(i)&&(a=i[c],a&&(i[c]=null),Z.event.triggered=p,i[p](),Z.event.triggered=void 0,a&&(i[c]=a)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,i,r,s,o=[],a=F.call(arguments),l=(vt.get(this,"events")||{})[e.type]||[],c=Z.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=Z.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,i=((Z.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));
return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,s,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;a>n;n++)s=t[n],r=s.selector+" ",void 0===i[r]&&(i[r]=s.needsContext?Z(r,this).index(l)>=0:Z.find(r,this,null,[l]).length),i[r]&&i.push(s);i.length&&o.push({elem:l,handlers:i})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Q,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i,r=e.type,s=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=_t.test(r)?this.mouseHooks:Ct.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new Z.Event(s),t=i.length;t--;)n=i[t],e[n]=s[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,t):Z.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:u):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,s=e.handleObj;return(!r||r!==i&&!Z.contains(i,r))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),X.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=vt.access(i,t);r||i.addEventListener(e,n,!0),vt.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=vt.access(i,t)-1;r?vt.access(i,t,r):(i.removeEventListener(e,n,!0),vt.remove(i,t))}}}),Z.fn.extend({on:function(e,t,n,i,r){var s,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=u;else if(!i)return this;return 1===r&&(s=i,i=function(e){return Z().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Z(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=u),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var Ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rt=/<([\w:]+)/,Lt=/<|&#?\w+;/,Mt=/<(?:script|style|link)/i,Vt=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^$|\/(?:java|ecma)script/i,It=/^true\/(.*)/,Ht=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Bt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Bt.optgroup=Bt.option,Bt.tbody=Bt.tfoot=Bt.colgroup=Bt.caption=Bt.thead,Bt.th=Bt.td,Z.extend({clone:function(e,t,n){var i,r,s,o,a=e.cloneNode(!0),l=Z.contains(e.ownerDocument,e);if(!(X.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(o=v(a),s=v(e),i=0,r=s.length;r>i;i++)y(s[i],o[i]);if(t)if(n)for(s=s||v(e),o=o||v(a),i=0,r=s.length;r>i;i++)m(s[i],o[i]);else m(e,a);return o=v(a,"script"),o.length>0&&g(o,!l&&v(e,"script")),a},buildFragment:function(e,t,n,i){for(var r,s,o,a,l,c,u=t.createDocumentFragment(),h=[],d=0,p=e.length;p>d;d++)if(r=e[d],r||0===r)if("object"===Z.type(r))Z.merge(h,r.nodeType?[r]:r);else if(Lt.test(r)){for(s=s||u.appendChild(t.createElement("div")),o=(Rt.exec(r)||["",""])[1].toLowerCase(),a=Bt[o]||Bt._default,s.innerHTML=a[1]+r.replace(Ot,"<$1></$2>")+a[2],c=a[0];c--;)s=s.lastChild;Z.merge(h,s.childNodes),s=u.firstChild,s.textContent=""}else h.push(t.createTextNode(r));for(u.textContent="",d=0;r=h[d++];)if((!i||-1===Z.inArray(r,i))&&(l=Z.contains(r.ownerDocument,r),s=v(u.appendChild(r),"script"),l&&g(s),n))for(c=0;r=s[c++];)Pt.test(r.type||"")&&n.push(r);return u},cleanData:function(e){for(var t,n,i,r,s=Z.event.special,o=0;void 0!==(n=e[o]);o++){if(Z.acceptData(n)&&(r=n[vt.expando],r&&(t=vt.cache[r]))){if(t.events)for(i in t.events)s[i]?Z.event.remove(n,i):Z.removeEvent(n,i,t.handle);vt.cache[r]&&delete vt.cache[r]}delete yt.cache[n[yt.expando]]}}}),Z.fn.extend({text:function(e){return mt(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?Z.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return mt(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Mt.test(e)&&!Bt[(Rt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ot,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=z.apply([],e);var n,i,r,s,o,a,l=0,c=this.length,u=this,h=c-1,d=e[0],g=Z.isFunction(d);if(g||c>1&&"string"==typeof d&&!X.checkClone&&Vt.test(d))return this.each(function(n){var i=u.eq(n);g&&(e[0]=d.call(this,n,i.html())),i.domManip(e,t)});if(c&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Z.map(v(n,"script"),p),s=r.length;c>l;l++)o=n,l!==h&&(o=Z.clone(o,!0,!0),s&&Z.merge(r,v(o,"script"))),t.call(this[l],o,l);if(s)for(a=r[r.length-1].ownerDocument,Z.map(r,f),l=0;s>l;l++)o=r[l],Pt.test(o.type||"")&&!vt.access(o,"globalEval")&&Z.contains(a,o)&&(o.src?Z._evalUrl&&Z._evalUrl(o.src):Z.globalEval(o.textContent.replace(Ht,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,i=[],r=Z(e),s=r.length-1,o=0;s>=o;o++)n=o===s?this:this.clone(!0),Z(r[o])[t](n),U.apply(i,n.get());return this.pushStack(i)}});var qt,jt={},Dt=/^margin/,$t=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),Ft=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(s);var t=e.getComputedStyle(o,null);n="1%"!==t.top,i="4px"===t.width,r.removeChild(s)}var n,i,r=Q.documentElement,s=Q.createElement("div"),o=Q.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle="content-box"===o.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",s.appendChild(o),e.getComputedStyle&&Z.extend(X,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=o.appendChild(Q.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(s),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(s),t}}))}(),Z.swap=function(e,t,n,i){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];r=n.apply(e,i||[]);for(s in t)e.style[s]=o[s];return r};var zt=/^(none|table(?!-c[ea]).+)/,Ut=new RegExp("^("+xt+")(.*)$","i"),Wt=new RegExp("^([+-])=("+xt+")","i"),Gt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=x(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=Z.camelCase(t),l=e.style;return t=Z.cssProps[a]||(Z.cssProps[a]=S(l,a)),o=Z.cssHooks[t]||Z.cssHooks[a],void 0===n?o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:l[t]:(s=typeof n,"string"===s&&(r=Wt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Z.css(e,t)),s="number"),null!=n&&n===n&&("number"!==s||Z.cssNumber[a]||(n+="px"),X.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(l[t]=n)),void 0)}},css:function(e,t,n,i){var r,s,o,a=Z.camelCase(t);return t=Z.cssProps[a]||(Z.cssProps[a]=S(e.style,a)),o=Z.cssHooks[t]||Z.cssHooks[a],o&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=x(e,t,i)),"normal"===r&&t in Kt&&(r=Kt[t]),""===n||n?(s=parseFloat(r),n===!0||Z.isNumeric(s)?s||0:r):r}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){return n?zt.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Gt,function(){return C(e,t,i)}):C(e,t,i):void 0},set:function(e,n,i){var r=i&&Ft(e);return E(e,n,i?T(e,t,i,"border-box"===Z.css(e,"boxSizing",!1,r),r):0)}}}),Z.cssHooks.marginRight=k(X.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},x,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+kt[i]+t]=s[i]||s[i-2]||s[0];return r}},Dt.test(e)||(Z.cssHooks[e+t].set=E)}),Z.fn.extend({css:function(e,t){return mt(this,function(e,t,n){var i,r,s={},o=0;if(Z.isArray(t)){for(i=Ft(e),r=t.length;r>o;o++)s[t[o]]=Z.css(e,t[o],!1,i);return s}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){St(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=N,N.prototype={constructor:N,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(Z.cssNumber[n]?"":"px")},cur:function(){var e=N.propHooks[this.prop];return e&&e.get?e.get(this):N.propHooks._default.get(this)},run:function(e){var t,n=N.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=N.prototype.init,Z.fx.step={};var Xt,Qt,Jt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[L],nn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Zt.exec(t),s=r&&r[3]||(Z.cssNumber[e]?"":"px"),o=(Z.cssNumber[e]||"px"!==s&&+i)&&Zt.exec(Z.css(n.elem,e)),a=1,l=20;if(o&&o[3]!==s){s=s||o[3],r=r||[],o=+i||1;do a=a||".5",o/=a,Z.style(n.elem,e,o+s);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(o=n.start=+o||+i||0,n.unit=s,n.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]};Z.Animation=Z.extend(V,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),Z.speed=function(e,t,n){var i=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter(St).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Z.isEmptyObject(e),s=Z.speed(t,n,i),o=function(){var t=V(this,Z.extend({},e),s);(r||vt.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=Z.timers,o=vt.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&en.test(r)&&i(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(n),t=!1,s.splice(r,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=vt.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],s=Z.timers,o=i?i.length:0;for(n.finish=!0,Z.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,i,r)}}),Z.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Xt=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Xt=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Qt||(Qt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Qt),Qt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),n=t.appendChild(Q.createElement("option"));e.type="checkbox",X.checkOn=""!==e.value,X.optSelected=n.selected,t.disabled=!0,X.optDisabled=!n.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",X.radioValue="t"===e.value}();var rn,sn,on=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return mt(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var i,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===Tt?Z.prop(e,t,n):(1===s&&Z.isXMLDoc(e)||(t=t.toLowerCase(),i=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?sn:rn)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Z.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,s=t&&t.match(pt);if(s&&1===e.nodeType)for(;n=s[r++];)i=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!X.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),sn={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=on[t]||Z.find.attr;on[t]=function(e,t,i){var r,s;return i||(s=on[t],on[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,on[t]=s),r}});var an=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return mt(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!Z.isXMLDoc(e),s&&(t=Z.propFix[t]||t,r=Z.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||an.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),X.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var ln=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,i,r,s,o,a="string"==typeof e&&e,l=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(pt)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):" ")){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=Z.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,i,r,s,o,a=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(pt)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):"")){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");o=e?Z.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=Z(this),s=e.match(pt)||[];t=s[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Tt||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ln," ").indexOf(t)>=0)return!0;return!1}});var cn=/\r/g;Z.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=Z.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,Z(this).val()):e,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(cn,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,o=s?null:[],a=s?r+1:i.length,l=0>r?a:s?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(X.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,s=Z.makeArray(t),o=r.length;o--;)i=r[o],(i.selected=Z.inArray(i.value,s)>=0)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},X.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var un=Z.now(),hn=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var dn,pn,fn=/#.*$/,gn=/([?&])_=[^&]*/,mn=/^(.*?):[ \t]*([^\r\n]*)$/gm,vn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yn=/^(?:GET|HEAD)$/,bn=/^\/\//,wn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xn={},kn={},Sn="*/".concat("*");try{pn=location.href}catch(En){pn=Q.createElement("a"),pn.href="",pn=pn.href}dn=wn.exec(pn.toLowerCase())||[],Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pn,type:"GET",isLocal:vn.test(dn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,Z.ajaxSettings),t):H(Z.ajaxSettings,e)},ajaxPrefilter:P(xn),ajaxTransport:P(kn),ajax:function(e,t){function n(e,t,n,o){var l,u,v,y,w,k=t;2!==b&&(b=2,a&&clearTimeout(a),i=void 0,s=o||"",x.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(y=B(h,x,n)),y=q(h,y,x,l),l?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(Z.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(Z.etag[r]=w)),204===e||"HEAD"===h.type?k="nocontent":304===e?k="notmodified":(k=y.state,u=y.data,v=y.error,l=!v)):(v=k,(e||!k)&&(k="error",0>e&&(e=0))),x.status=e,x.statusText=(t||k)+"",l?f.resolveWith(d,[u,k,x]):f.rejectWith(d,[x,k,v]),x.statusCode(m),m=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,h,l?u:v]),g.fireWith(d,[x,k]),c&&(p.trigger("ajaxComplete",[x,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,s,o,a,l,c,u,h=Z.ajaxSetup({},t),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?Z(d):Z.event,f=Z.Deferred(),g=Z.Callbacks("once memory"),m=h.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o)for(o={};t=mn.exec(s);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),n(0,t),this}};if(f.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||pn)+"").replace(fn,"").replace(bn,dn[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().match(pt)||[""],null==h.crossDomain&&(l=wn.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===dn[1]&&l[2]===dn[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(dn[3]||("http:"===dn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),I(xn,h,t,x),2===b)return x;c=h.global,c&&0===Z.active++&&Z.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!yn.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(hn.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=gn.test(r)?r.replace(gn,"$1_="+un++):r+(hn.test(r)?"&":"?")+"_="+un++)),h.ifModified&&(Z.lastModified[r]&&x.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&x.setRequestHeader("If-None-Match",Z.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Sn+"; q=0.01":""):h.accepts["*"]);for(u in h.headers)x.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(h.beforeSend.call(d,x,h)===!1||2===b))return x.abort();w="abort";for(u in{success:1,error:1,complete:1})x[u](h[u]);if(i=I(kn,h,t,x)){x.readyState=1,c&&p.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,i.send(v,n)}catch(k){if(!(2>b))throw k;n(-1,k)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,i,r){return Z.isFunction(n)&&(r=r||i,i=n,n=void 0),Z.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Tn=/%20/g,Cn=/\[\]$/,_n=/\r?\n/g,Nn=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,i=[],r=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){r(this.name,this.value)});else for(n in e)j(n,e[n],t,r);return i.join("&").replace(Tn,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&An.test(this.nodeName)&&!Nn.test(e)&&(this.checked||!Et.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(_n,"\r\n")}}):{name:t.name,value:n.replace(_n,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var On=0,Rn={},Ln={0:200,1223:204},Mn=Z.ajaxSettings.xhr();e.ActiveXObject&&Z(e).on("unload",function(){for(var e in Rn)Rn[e]()}),X.cors=!!Mn&&"withCredentials"in Mn,X.ajax=Mn=!!Mn,Z.ajaxTransport(function(e){var t;return X.cors||Mn&&!e.crossDomain?{send:function(n,i){var r,s=e.xhr(),o=++On;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");
for(r in n)s.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete Rn[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?i(s.status,s.statusText):i(Ln[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=Rn[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Vn=[],Pn=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vn.pop()||Z.expando+"_"+un++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,i){var r,s,o,a=t.jsonp!==!1&&(Pn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Pn,"$1"+r):t.jsonp!==!1&&(t.url+=(hn.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||Z.error(r+" was not called"),o[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){o=arguments},i.always(function(){e[r]=s,t[r]&&(t.jsonpCallback=n.jsonpCallback,Vn.push(r)),o&&Z.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var i=ot.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,r),r&&r.length&&Z(r).remove(),Z.merge([],i.childNodes))};var In=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&In)return In.apply(this,arguments);var i,r,s,o=this,a=e.indexOf(" ");return a>=0&&(i=Z.trim(e.slice(a)),e=e.slice(0,a)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&Z.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){s=arguments,o.html(i?Z("<div>").append(Z.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Hn=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var i,r,s,o,a,l,c,u=Z.css(e,"position"),h=Z(e),d={};"static"===u&&(e.style.position="relative"),a=h.offset(),s=Z.css(e,"top"),l=Z.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(s+l).indexOf("auto")>-1,c?(i=h.position(),o=i.top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),Z.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):h.css(d)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},s=i&&i.ownerDocument;if(s)return t=s.documentElement,Z.contains(t,i)?(typeof i.getBoundingClientRect!==Tt&&(r=i.getBoundingClientRect()),n=D(s),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(i=e.offset()),i.top+=Z.css(e[0],"borderTopWidth",!0),i.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-Z.css(n,"marginTop",!0),left:t.left-i.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Hn;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Hn})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;Z.fn[t]=function(r){return mt(this,function(t,r,s){var o=D(t);return void 0===s?o?o[n]:t[r]:void(o?o.scrollTo(i?e.pageXOffset:s,i?s:e.pageYOffset):t[r]=s)},t,r,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=k(X.pixelPosition,function(e,n){return n?(n=x(e,t),$t.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Z.fn[i]=function(i,r){var s=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||r===!0?"margin":"border");return mt(this,function(t,n,i){var r;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?Z.css(t,n,o):Z.style(t,n,i,o)},t,s?i:void 0,s,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Bn=e.jQuery,qn=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=qn),t&&e.jQuery===Z&&(e.jQuery=Bn),Z},typeof t===Tt&&(e.jQuery=e.$=Z),Z}),function(){var e=this,t=e._,n=Array.prototype,i=Object.prototype,r=Function.prototype,s=n.push,o=n.slice,a=n.concat,l=i.toString,c=i.hasOwnProperty,u=Array.isArray,h=Object.keys,d=r.bind,p=function(e){return e instanceof p?e:this instanceof p?void(this._wrapped=e):new p(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=p),exports._=p):e._=p,p.VERSION="1.6.0";var f=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,s){return e.call(t,n,i,r,s)}}return function(){return e.apply(t,arguments)}},g=function(e,t,n){return null==e?p.identity:p.isFunction(e)?f(e,t,n):p.isObject(e)?p.matches(e):p.property(e)};p.each=p.forEach=function(e,t,n){if(null==e)return e;t=f(t,n);var i,r=e.length;if(r===+r)for(i=0;r>i;i++)t(e[i],i,e);else{var s=p.keys(e);for(i=0,r=s.length;r>i;i++)t(e[s[i]],s[i],e)}return e},p.map=p.collect=function(e,t,n){if(null==e)return[];t=g(t,n);var i,r,s=e.length;s!==+s&&(r=p.keys(e),s=r.length);for(var o=Array(s),a=0;s>a;a++)i=r?r[a]:a,o[a]=t(e[i],i,e);return o};var m="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(e,t,n,i){null==e&&(e=[]),t=f(t,i,4);var r,s,o=0,a=e.length;if(a!==+a&&(s=p.keys(e),a=s.length),arguments.length<3){if(!a)throw TypeError(m);n=e[s?s[o++]:o++]}for(;a>o;o++)r=s?s[o]:o,n=t(n,e[r],r,e);return n},p.reduceRight=p.foldr=function(e,t,n,i){null==e&&(e=[]),t=f(t,i,4);var r,s,o=e.length;if(o!==+o&&(s=p.keys(e),o=s.length),arguments.length<3){if(!o)throw TypeError(m);n=e[s?s[--o]:--o]}for(;o--;)r=s?s[o]:o,n=t(n,e[r],r,e);return n},p.find=p.detect=function(e,t,n){var i;return t=g(t,n),p.some(e,function(e,n,r){return t(e,n,r)?(i=e,!0):void 0}),i},p.filter=p.select=function(e,t,n){var i=[];return null==e?i:(t=g(t,n),p.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i)},p.reject=function(e,t,n){return p.filter(e,p.negate(g(t)),n)},p.every=p.all=function(e,t,n){if(null==e)return!0;t=g(t,n);var i,r,s,o=e.length;for(o!==+o&&(s=p.keys(e),o=s.length),i=0;o>i;i++)if(r=s?s[i]:i,!t(e[r],r,e))return!1;return!0},p.some=p.any=function(e,t,n){if(null==e)return!1;t=g(t,n);var i,r,s,o=e.length;for(o!==+o&&(s=p.keys(e),o=s.length),i=0;o>i;i++)if(r=s?s[i]:i,t(e[r],r,e))return!0;return!1},p.contains=p.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=p.values(e)),p.indexOf(e,t)>=0)},p.invoke=function(e,t){var n=o.call(arguments,2),i=p.isFunction(t);return p.map(e,function(e){return(i?t:e[t]).apply(e,n)})},p.pluck=function(e,t){return p.map(e,p.property(t))},p.where=function(e,t){return p.filter(e,p.matches(t))},p.findWhere=function(e,t){return p.find(e,p.matches(t))},p.max=function(e,t,n){var i,r,s=-1/0,o=-1/0;if(null==t&&null!=e){e=e.length===+e.length?e:p.values(e);for(var a=0,l=e.length;l>a;a++)i=e[a],i>s&&(s=i)}else t=g(t,n),p.each(e,function(e,n,i){r=t(e,n,i),(r>o||r===-1/0&&s===-1/0)&&(s=e,o=r)});return s},p.min=function(e,t,n){var i,r,s=1/0,o=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:p.values(e);for(var a=0,l=e.length;l>a;a++)i=e[a],s>i&&(s=i)}else t=g(t,n),p.each(e,function(e,n,i){r=t(e,n,i),(o>r||1/0===r&&1/0===s)&&(s=e,o=r)});return s},p.shuffle=function(e){for(var t,n=e&&e.length===+e.length?e:p.values(e),i=n.length,r=Array(i),s=0;i>s;s++)t=p.random(0,s),t!==s&&(r[s]=r[t]),r[t]=n[s];return r},p.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=p.values(e)),e[p.random(e.length-1)]):p.shuffle(e).slice(0,Math.max(0,t))},p.sortBy=function(e,t,n){return t=g(t,n),p.pluck(p.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var v=function(e){return function(t,n,i){var r={};return n=g(n,i),p.each(t,function(i,s){var o=n(i,s,t);e(r,i,o)}),r}};p.groupBy=v(function(e,t,n){p.has(e,n)?e[n].push(t):e[n]=[t]}),p.indexBy=v(function(e,t,n){e[n]=t}),p.countBy=v(function(e,t,n){p.has(e,n)?e[n]++:e[n]=1}),p.sortedIndex=function(e,t,n,i){n=g(n,i,1);for(var r=n(t),s=0,o=e.length;o>s;){var a=s+o>>>1;n(e[a])<r?s=a+1:o=a}return s},p.toArray=function(e){return e?p.isArray(e)?o.call(e):e.length===+e.length?p.map(e,p.identity):p.values(e):[]},p.size=function(e){return null==e?0:e.length===+e.length?e.length:p.keys(e).length},p.partition=function(e,t,n){t=g(t,n);var i=[],r=[];return p.each(e,function(e,n,s){(t(e,n,s)?i:r).push(e)}),[i,r]},p.first=p.head=p.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:o.call(e,0,t)},p.initial=function(e,t,n){return o.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},p.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:o.call(e,Math.max(e.length-t,0))},p.rest=p.tail=p.drop=function(e,t,n){return o.call(e,null==t||n?1:t)},p.compact=function(e){return p.filter(e,p.identity)};var y=function(e,t,n,i){if(t&&p.every(e,p.isArray))return a.apply(i,e);for(var r=0,o=e.length;o>r;r++){var l=e[r];p.isArray(l)||p.isArguments(l)?t?s.apply(i,l):y(l,t,n,i):n||i.push(l)}return i};p.flatten=function(e,t){return y(e,t,!1,[])},p.without=function(e){return p.difference(e,o.call(arguments,1))},p.uniq=p.unique=function(e,t,n,i){if(null==e)return[];p.isFunction(t)&&(i=n,n=t,t=!1),n&&(n=g(n,i));for(var r=[],s=[],o=0,a=e.length;a>o;o++){var l=e[o];if(t)o&&s===l||r.push(l),s=l;else if(n){var c=n(l,o,e);p.indexOf(s,c)<0&&(s.push(c),r.push(l))}else p.indexOf(r,l)<0&&r.push(l)}return r},p.union=function(){return p.uniq(y(arguments,!0,!0,[]))},p.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,i=0,r=e.length;r>i;i++){var s=e[i];if(!p.contains(t,s)){for(var o=1;n>o&&p.contains(arguments[o],s);o++);o===n&&t.push(s)}}return t},p.difference=function(e){var t=y(o.call(arguments,1),!0,!0,[]);return p.filter(e,function(e){return!p.contains(t,e)})},p.zip=function(e){if(null==e)return[];for(var t=p.max(arguments,"length").length,n=Array(t),i=0;t>i;i++)n[i]=p.pluck(arguments,i);return n},p.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},p.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=p.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}for(;r>i;i++)if(e[i]===t)return i;return-1},p.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=e.length;for("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1));--i>=0;)if(e[i]===t)return i;return-1},p.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),s=0;i>s;s++,e+=n)r[s]=e;return r};var b=function(){};p.bind=function(e,t){var n,i;if(d&&e.bind===d)return d.apply(e,o.call(arguments,1));if(!p.isFunction(e))throw TypeError("Bind must be called on a function");return n=o.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(o.call(arguments)));b.prototype=e.prototype;var r=new b;b.prototype=null;var s=e.apply(r,n.concat(o.call(arguments)));return p.isObject(s)?s:r}},p.partial=function(e){var t=o.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,s=i.length;s>r;r++)i[r]===p&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},p.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=p.bind(e[n],e);return e},p.memoize=function(e,t){var n=function(i){var r=n.cache,s=t?t.apply(this,arguments):i;return p.has(r,s)||(r[s]=e.apply(this,arguments)),r[s]};return n.cache={},n},p.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},p.defer=function(e){return p.delay.apply(p,[e,1].concat(o.call(arguments,1)))},p.throttle=function(e,t,n){var i,r,s,o=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:p.now(),o=null,s=e.apply(i,r),o||(i=r=null)};return function(){var c=p.now();a||n.leading!==!1||(a=c);var u=t-(c-a);return i=this,r=arguments,0>=u||u>t?(clearTimeout(o),o=null,a=c,s=e.apply(i,r),o||(i=r=null)):o||n.trailing===!1||(o=setTimeout(l,u)),s}},p.debounce=function(e,t,n){var i,r,s,o,a,l=function(){var c=p.now()-o;t>c&&c>0?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(s,r),i||(s=r=null)))};return function(){s=this,r=arguments,o=p.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(s,r),s=r=null),a}},p.wrap=function(e,t){return p.partial(t,e)},p.negate=function(e){return function(){return!e.apply(this,arguments)}},p.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},p.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},p.before=function(e,t){var n;return function(){return--e>0?n=t.apply(this,arguments):t=null,n}},p.once=p.partial(p.before,2),p.keys=function(e){if(!p.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)p.has(e,n)&&t.push(n);return t},p.values=function(e){for(var t=p.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},p.pairs=function(e){for(var t=p.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},p.invert=function(e){for(var t={},n=p.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},p.functions=p.methods=function(e){var t=[];for(var n in e)p.isFunction(e[n])&&t.push(n);return t.sort()},p.extend=function(e){if(!p.isObject(e))return e;for(var t,n,i=1,r=arguments.length;r>i;i++){t=arguments[i];for(n in t)e[n]=t[n]}return e},p.pick=function(e,t,n){var i,r={};if(null==e)return r;if(p.isFunction(t)){t=f(t,n);for(i in e){var s=e[i];t(s,i,e)&&(r[i]=s)}}else{var l=a.apply([],o.call(arguments,1));e=Object(e);for(var c=0,u=l.length;u>c;c++)i=l[c],i in e&&(r[i]=e[i])}return r},p.omit=function(e,t,n){if(p.isFunction(t))t=p.negate(t);else{var i=p.map(a.apply([],o.call(arguments,1)),String);t=function(e,t){return!p.contains(i,t)}}return p.pick(e,t,n)},p.defaults=function(e){if(!p.isObject(e))return e;for(var t=1,n=arguments.length;n>t;t++){var i=arguments[t];for(var r in i)void 0===e[r]&&(e[r]=i[r])}return e},p.clone=function(e){return p.isObject(e)?p.isArray(e)?e.slice():p.extend({},e):e},p.tap=function(e,t){return t(e),e};var w=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof p&&(e=e._wrapped),t instanceof p&&(t=t._wrapped);var r=l.call(e);if(r!==l.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]===e)return i[s]===t;var o=e.constructor,a=t.constructor;if(o!==a&&"constructor"in e&&"constructor"in t&&!(p.isFunction(o)&&o instanceof o&&p.isFunction(a)&&a instanceof a))return!1;n.push(e),i.push(t);var c,u;if("[object Array]"===r){if(c=e.length,u=c===t.length)for(;c--&&(u=w(e[c],t[c],n,i)););}else{var h,d=p.keys(e);if(c=d.length,u=p.keys(t).length===c)for(;c--&&(h=d[c],u=p.has(t,h)&&w(e[h],t[h],n,i)););}return n.pop(),i.pop(),u};p.isEqual=function(e,t){return w(e,t,[],[])},p.isEmpty=function(e){if(null==e)return!0;if(p.isArray(e)||p.isString(e)||p.isArguments(e))return 0===e.length;for(var t in e)if(p.has(e,t))return!1;return!0},p.isElement=function(e){return!(!e||1!==e.nodeType)},p.isArray=u||function(e){return"[object Array]"===l.call(e)},p.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},p.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){p["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),p.isArguments(arguments)||(p.isArguments=function(e){return p.has(e,"callee")}),"function"!=typeof/./&&(p.isFunction=function(e){return"function"==typeof e}),p.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},p.isNaN=function(e){return p.isNumber(e)&&e!==+e},p.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},p.isNull=function(e){return null===e},p.isUndefined=function(e){return void 0===e},p.has=function(e,t){return null!=e&&c.call(e,t)},p.noConflict=function(){return e._=t,this},p.identity=function(e){return e},p.constant=function(e){return function(){return e}},p.noop=function(){},p.property=function(e){return function(t){return t[e]}},p.matches=function(e){var t=p.pairs(e),n=t.length;return function(e){if(null==e)return!n;e=Object(e);for(var i=0;n>i;i++){var r=t[i],s=r[0];if(r[1]!==e[s]||!(s in e))return!1}return!0}},p.times=function(e,t,n){var i=Array(Math.max(0,e));t=f(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i},p.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},p.now=Date.now||function(){return(new Date).getTime()};var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},k=p.invert(x),S=function(e){var t=function(t){return e[t]},n="(?:"+p.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};p.escape=S(x),p.unescape=S(k),p.result=function(e,t){if(null==e)return void 0;var n=e[t];return p.isFunction(n)?e[t]():n};var E=0;p.uniqueId=function(e){var t=++E+"";return e?e+t:t},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},_=/\\|'|\r|\n|\u2028|\u2029/g,N=function(e){return"\\"+C[e]};p.template=function(e,t,n){n=p.defaults({},n,p.templateSettings);var i=RegExp([(n.escape||T).source,(n.interpolate||T).source,(n.evaluate||T).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(i,function(t,n,i,o,a){return s+=e.slice(r,a).replace(_,N),r=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(t)return o(t,p);var l=function(e){return o.call(this,e,p)},c=n.variable||"obj";return l.source="function("+c+"){\n"+s+"}",l},p.chain=function(e){var t=p(e);return t._chain=!0,t};var A=function(e){return this._chain?p(e).chain():e};p.mixin=function(e){p.each(p.functions(e),function(t){var n=p[t]=e[t];p.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),A.call(this,n.apply(p,e))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];p.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],A.call(this,n)}}),p.each(["concat","join","slice"],function(e){var t=n[e];p.prototype[e]=function(){return A.call(this,t.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}.call(this),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,r){e.Backbone=t(e,r,n,i)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,i){{var r=e.Backbone,s=[],o=(s.push,s.slice);s.splice}t.VERSION="1.1.2",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,i){if(!c(this,"once",e,[t,i])||!t)return this;var r=this,s=n.once(function(){r.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,i)},off:function(e,t,i){var r,s,o,a,l,u,h,d;if(!this._events||!c(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;for(a=e?[e]:n.keys(this._events),l=0,u=a.length;u>l;l++)if(e=a[l],o=this._events[e]){if(this._events[e]=r=[],t||i)for(h=0,d=o.length;d>h;h++)s=o[h],(t&&t!==s.callback&&t!==s.callback._callback||i&&i!==s.context)&&r.push(s);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&u(n,t),i&&u(i,arguments),this},stopListening:function(e,t,i){var r=this._listeningTo;if(!r)return this;var s=!t&&!i;i||"object"!=typeof t||(i=this),e&&((r={})[e._listenId]=e);for(var o in r)e=r[o],e.off(t,i,this),(s||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,c=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var s=n.split(l),o=0,a=s.length;a>o;o++)e[t].apply(e,[s[o]].concat(i));return!1}return!0},u=function(e,t){var n,i=-1,r=e.length,s=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}},h={listenTo:"on",listenToOnce:"once"};n.each(h,function(e,t){a[t]=function(t,i,r){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return s[o]=t,r||"object"!=typeof i||(r=this),t[e](i,r,this),this}}),a.bind=a.on,a.unbind=a.off,n.extend(t,a);var d=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var r,s,o,a,l,c,u,h;if(null==e)return this;if("object"==typeof e?(s=e,i=t):(s={})[e]=t,i||(i={}),!this._validate(s,i))return!1;o=i.unset,l=i.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(r in s)t=s[r],n.isEqual(h[r],t)||a.push(r),n.isEqual(u[r],t)?delete this.changed[r]:this.changed[r]=t,o?delete h[r]:h[r]=t;if(!l){a.length&&(this._pending=i);for(var d=0,p=a.length;p>d;d++)this.trigger("change:"+a[d],this,h[a[d]],i)}if(c)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var s in e)n.isEqual(r[s],t=e[s])||((i||(i={}))[s]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(i&&i(t,n,e),void t.trigger("sync",t,n,e)):!1},H(this,e),this.sync("read",this,e)},save:function(e,t,i){var r,s,o,a=this.attributes;if(null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},a,r)),void 0===i.parse&&(i.parse=!0);var l=this,c=i.success;return i.success=function(e){l.attributes=a;var t=l.parse(e,i);return i.wait&&(t=n.extend(r||{},t)),n.isObject(t)&&!l.set(t,i)?!1:(c&&c(l,e,i),void l.trigger("sync",l,e,i))},H(this,i),s=this.isNew()?"create":i.patch?"patch":"update","patch"===s&&(i.attrs=r),o=this.sync(s,this,i),r&&i.wait&&(this.attributes=a),o},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&r(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;H(this,e);var s=this.sync("delete",this,e);return e.wait||r(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||I();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];n.each(p,function(e){d.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};n.extend(f.prototype,a,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,m))},remove:function(e,t){var i=!n.isArray(e);e=i?[e]:n.clone(e),t||(t={});var r,s,o,a;for(r=0,s=e.length;s>r;r++)a=e[r]=this.get(e[r]),a&&(delete this._byId[a.id],delete this._byId[a.cid],o=this.indexOf(a),this.models.splice(o,1),this.length--,t.silent||(t.index=o,a.trigger("remove",a,this,t)),this._removeReference(a,t));return i?e[0]:e},set:function(e,t){t=n.defaults({},t,g),t.parse&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:n.clone(e);var r,s,o,a,l,c,u,h=t.at,p=this.model,f=this.comparator&&null==h&&t.sort!==!1,m=n.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=t.add,x=t.merge,k=t.remove,S=!f&&w&&k?[]:!1;for(r=0,s=e.length;s>r;r++){if(l=e[r]||{},o=l instanceof d?a=l:l[p.prototype.idAttribute||"id"],c=this.get(o))k&&(b[c.cid]=!0),x&&(l=l===a?a.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),f&&!u&&c.hasChanged(m)&&(u=!0)),e[r]=c;else if(w){if(a=e[r]=this._prepareModel(l,t),!a)continue;v.push(a),this._addReference(a,t)}a=c||a,!S||!a.isNew()&&b[a.id]||S.push(a),b[a.id]=!0}if(k){for(r=0,s=this.length;s>r;++r)b[(a=this.models[r]).cid]||y.push(a);y.length&&this.remove(y,t)}if(v.length||S&&S.length)if(f&&(u=!0),this.length+=v.length,null!=h)for(r=0,s=v.length;s>r;r++)this.models.splice(h+r,0,v[r]);else{S&&(this.models.length=0);var E=S||v;for(r=0,s=E.length;s>r;r++)this.models.push(E[r])}if(u&&this.sort({silent:!0}),!t.silent){for(r=0,s=v.length;s>r;r++)(a=v[r]).trigger("add",a,this,t);(u||S&&S.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return o.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},H(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,r=t.success;return t.success=function(e,n){t.wait&&i.add(e,t),r&&r(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];
n.each(v,function(e){f.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(e){f.prototype[e]=function(t,i){var r=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,r,i)}});var b=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[e[t]]),i){var r=t.match(w),s=r[1],o=r[2];i=n.bind(i,this),s+=".delegateEvents"+this.cid,""===o?this.$el.on(s,i):this.$el.on(s,o,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,r){var s=S[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||I()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",s),a?a.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"===o.type&&k&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=t.ajax(n.extend(o,r));return i.trigger("request",i,l,r),l};var k=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),S={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var E=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,_=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(E.prototype,a,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(r,o),s.trigger.apply(s,["route:"+i].concat(o)),s.trigger("route",i,o),t.history.trigger("route",s,i,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(N,"\\$&").replace(T,"(?:$1)?").replace(C,function(e,t){return t?e:"([^/?]+)"}).replace(_,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var A=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},O=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,L=/msie [\w.]+/,M=/\/$/,V=/#.*$/;A.started=!1,n.extend(A.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(M,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(O,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,s=L.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);if(this.root=("/"+this.root+"/").replace(R,"/"),s&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(O,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!A.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(V,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new A;var P=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};d.extend=f.extend=E.extend=b.extend=A.extend=P;var I=function(){throw new Error('A "url" property or function must be specified')},H=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};return t}),function(e,t){if("function"==typeof define&&define.amd)define("marionette",["backbone","underscore"],function(n,i){return e.Marionette=t(e,n,i)});else if("undefined"!=typeof exports){var n=require("backbone"),i=require("underscore");module.exports=t(e,n,i)}else e.Marionette=t(e,e.Backbone,e._)}(this,function(e,t,n){function i(e,t){var n=new Error(e);throw n.name=t||"Error",n}!function(e,t){var n=e.ChildViewContainer;return e.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){return e===n?(delete this._indexByCustom[t],!0):void 0},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(i){t.isFunction(i[e])&&i[e].apply(i,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(i,function(e){n.prototype[e]=function(){var n=t.values(this._views),i=[n].concat(t.toArray(arguments));return t[e].apply(t,i)}}),n}(e,t),e.ChildViewContainer.VERSION="0.1.4",e.ChildViewContainer.noConflict=function(){return e.ChildViewContainer=n,this},e.ChildViewContainer}(t,n),function(e,t){var n=e.Wreqr,i=e.Wreqr={};return e.Wreqr.VERSION="1.3.1",e.Wreqr.noConflict=function(){return e.Wreqr=n,this},i.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var i=null;t.isObject(e)&&!t.isFunction(e)&&(i=e.context,e=e.callback),this.setHandler(n,e,i)},this)},setHandler:function(e,t,n){var i={callback:t,context:n};this._wreqrHandlers[e]=i,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,t),i.CommandStorage=function(){var n=function(e){this.options=e,this._commands={},t.isFunction(this.initialize)&&this.initialize(e)};return t.extend(n.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),n}(),i.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,n,i){var r=this.storage.getCommands(e);t.each(r.instances,function(e){n.apply(i,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var n,i=e.storageType||this.storageType;n=t.isFunction(i)?new i:i,this.storage=n}})}(i),i.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.hasHandler(e)?this.getHandler(e).apply(this,t):void 0}})}(i),i.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,t),i.Channel=function(){var n=function(t){this.vent=new e.Wreqr.EventAggregator,this.reqres=new e.Wreqr.RequestResponse,this.commands=new e.Wreqr.Commands,this.channelName=t};return t.extend(n.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(e,t){return this._connect("vent",e,t),this},connectCommands:function(e,t){return this._connect("commands",e,t),this},connectRequests:function(e,t){return this._connect("reqres",e,t),this},_connect:function(e,n,i){if(n){i=i||this;var r="vent"===e?"on":"setHandler";t.each(n,function(n,s){this[e][r](s,t.bind(n,i))},this)}}}),n}(i),i.radio=function(e){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};t.extend(n.prototype,{channel:function(e){if(!e)throw new Error("Channel must receive a name");return this._getChannel(e)},_getChannel:function(t){var n=this._channels[t];return n||(n=new e.Channel(t),this._channels[t]=n),n},_proxyMethods:function(){t.each(["vent","commands","reqres"],function(e){t.each(i[e],function(t){this[e][t]=r(this,e,t)},this)},this)}});var i={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(e,t,n){return function(i){var r=e._getChannel(i)[t],s=Array.prototype.slice.call(arguments,1);return r[n].apply(r,s)}};return new n}(i),e.Wreqr}(t,n);var r=e.Marionette,s=t.Marionette={};s.VERSION="2.0.1",s.noConflict=function(){return e.Marionette=r,this},t.Marionette=s,s.Deferred=t.$.Deferred;var o=Array.prototype.slice;return s.extend=t.Model.extend,s.getOption=function(e,t){if(e&&t){var n;return n=e.options&&void 0!==e.options[t]?e.options[t]:e[t]}},s.proxyGetOption=function(e){return s.getOption(this,e)},s.normalizeMethods=function(e){var t,i={};return n.each(e,function(e,r){t=e,n.isFunction(t)||(t=this[t]),t&&(i[r]=t)},this),i},s.normalizeUIKeys=function(e,t){return"undefined"!=typeof e?(n.each(n.keys(e),function(n){var i=/@ui.[a-zA-Z_$0-9]*/g;n.match(i)&&(e[n.replace(i,function(e){return t[e.slice(4)]})]=e[n],delete e[n])}),e):void 0},s.actAsCollection=function(e,t){var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(i,function(i){e[i]=function(){var e=n.values(n.result(this,t)),r=[e].concat(n.toArray(arguments));return n[i].apply(n,r)}})},s.triggerMethod=function(){function e(e,t,n){return n.toUpperCase()}var t=/(^|:)(\w)/gi,i=function(i){var r,s="on"+i.replace(t,e),o=this[s];return n.isFunction(o)&&(r=o.apply(this,n.tail(arguments))),n.isFunction(this.trigger)&&this.trigger.apply(this,arguments),r};return i}(),s.MonitorDOMRefresh=function(e){function t(e){e._isShown=!0,r(e)}function i(e){e._isRendered=!0,r(e)}function r(e){e._isShown&&e._isRendered&&s(e)&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}function s(t){return e.contains(t.el)}return function(e){e.listenTo(e,"show",function(){t(e)}),e.listenTo(e,"render",function(){i(e)})}}(document.documentElement),function(e){function t(e,t,r,s){var o=s.split(/\s+/);n.each(o,function(n){var s=e[n];s||i('Method "'+n+'" was configured as an event handler, but does not exist.'),e.listenTo(t,r,s)})}function r(e,t,n,i){e.listenTo(t,n,i)}function s(e,t,i,r){var s=r.split(/\s+/);n.each(s,function(n){var r=e[n];e.stopListening(t,i,r)})}function o(e,t,n,i){e.stopListening(t,n,i)}function a(e,t,i,r,s){t&&i&&(n.isFunction(i)&&(i=i.call(e)),n.each(i,function(i,o){n.isFunction(i)?r(e,t,o,i):s(e,t,o,i)}))}e.bindEntityEvents=function(e,n,i){a(e,n,i,r,t)},e.unbindEntityEvents=function(e,t,n){a(e,t,n,o,s)},e.proxyBindEntityEvents=function(t,n){return e.bindEntityEvents(this,t,n)},e.proxyUnbindEntityEvents=function(t,n){return e.unbindEntityEvents(this,t,n)}}(s),s.Callbacks=function(){this._deferred=s.Deferred(),this._callbacks=[]},n.extend(s.Callbacks.prototype,{add:function(e,t){var i=n.result(this._deferred,"promise");this._callbacks.push({cb:e,ctx:t}),i.then(function(n){t&&(n.context=t),e.call(n.context,n.options)})},run:function(e,t){this._deferred.resolve({options:e,context:t})},reset:function(){var e=this._callbacks;this._deferred=s.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),s.Controller=function(e){this.triggerMethod=s.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},s.Controller.extend=s.extend,n.extend(s.Controller.prototype,t.Events,{destroy:function(){var e=Array.prototype.slice.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.triggerMethod.apply(this,["destroy"].concat(e)),this.stopListening(),this.off()},triggerMethod:s.triggerMethod,getOption:s.proxyGetOption}),s.Region=function(e){if(this.options=e||{},this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,this.el||i('An "el" must be specified for a region.',"NoElError"),this.$el=this.getEl(this.el),this.initialize){var n=Array.prototype.slice.apply(arguments);this.initialize.apply(this,n)}},n.extend(s.Region,{buildRegion:function(e,r){var s=n.isString(e),o=n.isString(e.selector),a=n.isUndefined(e.regionClass),l=n.isFunction(e);l||s||o||i("Region must be specified as a Region class,a selector string or an object with selector property");var c,u;s&&(c=e),e.selector&&(c=e.selector,delete e.selector),l&&(u=e),!l&&a&&(u=r),e.regionClass&&(u=e.regionClass,delete e.regionClass),(s||l)&&(e={}),e.el=c;var h=new u(e);return e.parentEl&&(h.getEl=function(i){if(n.isObject(i))return t.$(i);var r=e.parentEl;return n.isFunction(r)&&(r=r()),r.find(i)}),h}}),n.extend(s.Region.prototype,t.Events,{show:function(e,t){this._ensureElement();var i=t||{},r=e!==this.currentView,s=!!i.preventDestroy,o=!!i.forceShow,a=!!this.currentView,l=!s&&r;l&&this.empty();var c=r||o;return c?(e.render(),a&&this.triggerMethod("before:swap",e),this.triggerMethod("before:show",e),this.triggerMethod.call(e,"before:show"),this.attachHtml(e),this.currentView=e,a&&this.triggerMethod("swap",e),this.triggerMethod("show",e),n.isFunction(e.triggerMethod)?e.triggerMethod("show"):this.triggerMethod.call(e,"show"),this):this},_ensureElement:function(){n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),this.$el&&0!==this.$el.length||i('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(e){return t.$(e)},attachHtml:function(e){this.el.innerHTML="",this.el.appendChild(e.el)},empty:function(){var e=this.currentView;e&&!e.isDestroyed&&(this.triggerMethod("before:empty",e),e.destroy?e.destroy():e.remove&&e.remove(),this.triggerMethod("empty",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el},getOption:s.proxyGetOption,triggerMethod:s.triggerMethod}),s.Region.extend=s.extend,s.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.call(this,t)},addRegions:function(e,t){var i={};return n.each(e,function(e,r){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var s=this.addRegion(r,e);i[r]=s},this),i},addRegion:function(t,i){var r,s=n.isObject(i),o=n.isString(i),a=!!i.selector;return r=o||s&&a?e.Region.buildRegion(i,e.Region):n.isFunction(i)?e.Region.buildRegion(i,e.Region):i,this.triggerMethod("before:add:region",t,r),this._store(t,r),this.triggerMethod("add:region",t,r),r},get:function(e){return this._regions[e]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,function(e,t){this._remove(t,e)},this)},emptyRegions:function(){n.each(this._regions,function(e){e.empty()},this)},destroy:function(){this.removeRegions(),e.Controller.prototype.destroy.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){this.triggerMethod("before:remove:region",e,t),t.empty(),t.stopListening(),delete this._regions[e],this._setLength(),this.triggerMethod("remove:region",e,t)},_setLength:function(){this.length=n.size(this._regions)}});return e.actAsCollection(t.prototype,"_regions"),t}(s),s.TemplateCache=function(e){this.templateId=e},n.extend(s.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new s.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=o.call(arguments),n=t.length;if(n>0)for(e=0;n>e;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(s.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var n=t.$(e).html();return n&&0!==n.length||i('Could not find template: "'+e+'"',"NoTemplateError"),n},compileTemplate:function(e){return n.template(e)}}),s.Renderer={render:function(e,t){e||i("Cannot render the template since its false, null or undefined.","TemplateNotFoundError");var n;return(n="function"==typeof e?e:s.TemplateCache.get(e))(t)}},s.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),n.isObject(this.behaviors)&&new s.Behaviors(this),t.View.apply(this,arguments),s.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},mixinTemplateHelpers:function(e){e=e||{};var t=this.getOption("templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=n.result(this,"ui"),i=n.result(this,"_uiBindings");return s.normalizeUIKeys(e,i||t)},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,function(t,i){var r=n.isObject(t),s=r?t.event:t;e[i]=function(e){if(e){var n=e.preventDefault,i=e.stopPropagation,o=r?t.preventDefault:n,a=r?t.stopPropagation:i;o&&n&&n.apply(e),a&&i&&i.apply(e)}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(s,l)}},this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this)),e=this.normalizeUIKeys(e);var i={},r=n.result(this,"behaviorEvents")||{},s=this.configureTriggers();n.extend(i,r,e,s),t.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents"))},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed){var e=new Error("Cannot use a view thats already been destroyed.");throw e.name="ViewDestroyedError",e}},destroy:function(){if(!this.isDestroyed){var e=Array.prototype.slice.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(e)),this.unbindUIElements(),this.remove()}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)},triggerMethod:s.triggerMethod,normalizeMethods:s.normalizeMethods,getOption:s.proxyGetOption,bindEntityEvents:s.proxyBindEntityEvents,unbindEntityEvents:s.proxyUnbindEntityEvents}),s.ItemView=s.View.extend({constructor:function(){s.View.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this._ensureViewIsIntact(),this.triggerMethod("before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=s.Renderer.render(t,e);return this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render",this),this},attachElContent:function(e){return this.$el.html(e),this},destroy:function(){this.isDestroyed||s.View.prototype.destroy.apply(this,arguments)}}),s.CollectionView=s.View.extend({childViewEventPrefix:"childview",constructor:function(e){var t=e||{};this.sort=n.isUndefined(t.sort)?!0:t.sort,this._initChildViewStorage(),s.View.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&n.invoke(this._bufferedChildren,"triggerMethod","before:show")},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,function(e){n.isFunction(e.triggerMethod)?e.triggerMethod("show"):s.triggerMethod.call(e,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(e){this.destroyEmptyView();var t=this.getChildView(e),n=this.collection.indexOf(e);this.addChild(e,t,n)},_onCollectionRemove:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},onShowCalled:function(){this.children.each(function(e){n.isFunction(e.triggerMethod)?e.triggerMethod("show"):s.triggerMethod.call(e,"show")})},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.triggerMethod("render",this),this},_sortViews:function(){var e=this.collection.find(function(e,t){var n=this.children.findByModel(e);return n&&n._index!==t},this);e&&this.render()},_renderChildren:function(){this.startBuffering(),this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.showCollection(),this.triggerMethod("render:collection",this)),this.endBuffering()},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getChildView(t),this.addChild(t,e,n)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new t.Model;this.addEmptyView(n,e),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.destroyChildren(),delete this._showingEmptyView)},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(e,t){var i=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(i)&&(i=i.call(this));var r=this.buildChildView(e,t,i);this._isShown&&this.triggerMethod.call(r,"before:show"),this.children.add(r),this.renderChildView(r,-1),this._isShown&&this.triggerMethod.call(r,"show")},getChildView:function(){var e=this.getOption("childView");return e||i('A "childView" must be specified',"NoChildViewError"),e},addChild:function(e,t,i){var r=this.getOption("childViewOptions");n.isFunction(r)&&(r=r.call(this,e,i));var s=this.buildChildView(e,t,r);return this._updateIndices(s,!0,i),this._addChildView(s,i),s},_updateIndices:function(e,t,n){this.sort&&(t?(e._index=n,this.children.each(function(t){t._index>=e._index&&t._index++})):this.children.each(function(t){t._index>=e._index&&t._index--}))},_addChildView:function(e,t){this.proxyChildEvents(e),this.triggerMethod("before:add:child",e),this.children.add(e),this.renderChildView(e,t),this._isShown&&!this.isBuffering&&(n.isFunction(e.triggerMethod)?e.triggerMethod("show"):s.triggerMethod.call(e,"show")),this.triggerMethod("add:child",e)},renderChildView:function(e,t){e.render(),this.attachHtml(this,e,t)},buildChildView:function(e,t,i){var r=n.extend({model:e},i);return new t(r)},removeChildView:function(e){e&&(this.triggerMethod("before:remove:child",e),e.destroy?e.destroy():e.remove&&e.remove(),this.stopListening(e),this.children.remove(e),this.triggerMethod("remove:child",e),this._updateIndices(e,!1))},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(e,t){e.$el.append(t)},attachHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e._insertBefore(t,n)||e._insertAfter(t)},_insertBefore:function(e,t){var n,i=this.sort&&t<this.children.length-1;return i&&(n=this.children.find(function(e){return e._index===t+1})),n?(n.$el.before(e.el),!0):!1},_insertAfter:function(e){this.$el.append(e.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},destroy:function(){this.isDestroyed||(this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),s.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(){this.children.each(this.removeChildView,this),this.checkEmpty()},proxyChildEvents:function(e){var t=this.getOption("childViewEventPrefix");this.listenTo(e,"all",function(){var i=Array.prototype.slice.call(arguments),r=i[0],s=this.normalizeMethods(n.result(this,"childEvents"));i[0]=t+":"+r,i.splice(1,0,e),"undefined"!=typeof s&&n.isFunction(s[r])&&s[r].apply(this,i.slice(1)),this.triggerMethod.apply(this,i)},this)}}),s.CompositeView=s.CollectionView.extend({constructor:function(){s.CollectionView.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))})},getChildView:function(){var e=this.getOption("childView")||this.constructor;return e||i('A "childView" must be specified',"NoChildViewError"),e},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){return this._ensureViewIsIntact(),this.isRendered=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderRoot(),this._renderChildren(),this.triggerMethod("render",this),this},_renderChildren:function(){this.isRendered&&s.CollectionView.prototype._renderChildren.call(this)},_renderRoot:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e),this.triggerMethod("before:render:template");var t=this.getTemplate(),n=s.Renderer.render(t,e);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(e){return this.$el.html(e),this},attachBuffer:function(e,t){var n=this.getChildViewContainer(e);n.append(t)},_insertAfter:function(e){var t=this.getChildViewContainer(this);t.append(e.el)},getChildViewContainer:function(e){if("$childViewContainer"in e)return e.$childViewContainer;
var t,r=s.getOption(e,"childViewContainer");if(r){var o=n.isFunction(r)?r.call(e):r;t="@"===o.charAt(0)&&e.ui?e.ui[o.substr(4)]:e.$(o),t.length<=0&&i('The specified "childViewContainer" was not found: '+e.childViewContainer,"ChildViewContainerMissingError")}else t=e.$el;return e.$childViewContainer=t,t},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),s.LayoutView=s.ItemView.extend({regionClass:s.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),s.ItemView.call(this,e)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),s.ItemView.prototype.render.apply(this,arguments)},destroy:function(){this.isDestroyed||(this.regionManager.destroy(),s.ItemView.prototype.destroy.apply(this,arguments))},addRegion:function(e,t){this.triggerMethod("before:region:add",e);var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return this.triggerMethod("before:region:remove",e),delete this.regions[e],this.regionManager.removeRegion(e)},getRegion:function(e){return this.regionManager.get(e)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(e){var t=this,n={regionClass:this.getOption("regionClass"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),t=n.isFunction(this.regions)?this.regions(e):this.regions||{};var i=this.getOption.call(e,"regions");n.isFunction(i)&&(i=i.call(this,e)),n.extend(t,i),this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.emptyRegions(),this.regionManager.each(function(e){e.reset()})},getRegionManager:function(){return new s.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.listenTo(this.regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this.regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this.regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this.regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})}}),s.Behavior=function(e,t){function n(t,n){this.view=n,this.defaults=e.result(this,"defaults")||{},this.options=e.extend({},this.defaults,t),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return e.extend(n.prototype,t.Events,{initialize:function(){},destroy:function(){this.stopListening()},triggerMethod:s.triggerMethod,getOption:s.proxyGetOption,bindEntityEvents:s.proxyBindEntityEvents,unbindEntityEvents:s.proxyUnbindEntityEvents}),n.extend=s.extend,n}(n,t),s.Behaviors=function(e,t){function n(e,i){i=n.parseBehaviors(e,i||t.result(e,"behaviors")),n.wrap(e,i,["bindUIElements","unbindUIElements","delegateEvents","undelegateEvents","behaviorEvents","triggerMethod","setElement","destroy"])}var i={setElement:function(e,n){e.apply(this,t.tail(arguments,2)),t.each(n,function(e){e.$el=this.$el},this)},destroy:function(e,n){var i=t.tail(arguments,2);e.apply(this,i),t.invoke(n,"destroy",i)},bindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},unbindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},triggerMethod:function(e,n){var i=t.tail(arguments,2);e.apply(this,i),t.each(n,function(t){e.apply(t,i)})},delegateEvents:function(n,i){var r=t.tail(arguments,2);n.apply(this,r),t.each(i,function(t){e.bindEntityEvents(t,this.model,e.getOption(t,"modelEvents")),e.bindEntityEvents(t,this.collection,e.getOption(t,"collectionEvents"))},this)},undelegateEvents:function(n,i){var r=t.tail(arguments,2);n.apply(this,r),t.each(i,function(t){e.unbindEntityEvents(t,this.model,e.getOption(t,"modelEvents")),e.unbindEntityEvents(t,this.collection,e.getOption(t,"collectionEvents"))},this)},behaviorEvents:function(n,i){var r={},s=t.result(this,"ui");return t.each(i,function(n,i){var o={},a=t.clone(t.result(n,"events"))||{},l=t.result(n,"ui"),c=t.extend({},s,l);a=e.normalizeUIKeys(a,c),t.each(t.keys(a),function(e){var r=new Array(i+2).join(" "),s=e+r,l=t.isFunction(a[e])?a[e]:n[a[e]];o[s]=t.bind(l,n)}),r=t.extend(r,o)}),r}};return t.extend(n,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored.See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(e,i){return e.behaviorClass?e.behaviorClass:t.isFunction(n.behaviorsLookup)?n.behaviorsLookup.apply(this,arguments)[i]:n.behaviorsLookup[i]},parseBehaviors:function(e,i){return t.chain(i).map(function(i,r){var s=n.getBehaviorClass(i,r),o=new s(i,e),a=n.parseBehaviors(e,t.result(o,"behaviors"));return[o].concat(a)}).flatten().value()},wrap:function(e,n,r){t.each(r,function(r){e[r]=t.partial(i[r],e[r],n)})}}),n}(s,n),s.AppRouter=t.Router.extend({constructor:function(e){t.Router.apply(this,arguments),this.options=e||{};var n=this.getOption("appRoutes"),i=this._getController();this.processAppRoutes(i,n),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},_processOnRoute:function(e,t){var i=n.invert(this.appRoutes)[e];n.isFunction(this.onRoute)&&this.onRoute(e,i,t)},processAppRoutes:function(e,t){if(t){var i=n.keys(t).reverse();n.each(i,function(n){this._addAppRoute(e,n,t[n])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(e,t,r){var s=e[r];s||i('Method "'+r+'" was not found on the controller'),this.route(t,r,n.bind(s,e))},getOption:s.proxyGetOption}),s.Application=function(e){this._initRegionManager(),this._initCallbacks=new s.Callbacks;var i=t.Wreqr.radio.channel("global");this.vent=i.vent,this.commands=i.commands,this.reqres=i.reqres,this.submodules={},n.extend(this,e)},n.extend(s.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("before:start",e),this._initCallbacks.run(e,this),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},emptyRegions:function(){this._regionManager.emptyRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},getRegions:function(){return this._regionManager.getRegions()},module:function(e,t){var n=s.Module.getClass(t),i=o.call(arguments);return i.unshift(this),n.create.apply(n,i)},_initRegionManager:function(){this._regionManager=new s.RegionManager,this.listenTo(this._regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this._regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this._regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this._regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})},triggerMethod:s.triggerMethod}),s.Application.extend=s.extend,s.Module=function(e,t,i){this.moduleName=e,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,n.isFunction(this.initialize)&&this.initialize(e,t,this.options)},s.Module.extend=s.extend,n.extend(s.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var r=n.flatten([this,this.app,t,s,t.$,n,i]);e.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new s.Callbacks,this._finalizerCallbacks=new s.Callbacks},triggerMethod:s.triggerMethod}),n.extend(s.Module,{create:function(e,t,i){var r=e,s=o.call(arguments);s.splice(0,3),t=t.split(".");var a=t.length,l=[];return l[a-1]=i,n.each(t,function(t,n){var o=r;r=this._getModule(o,t,e,i),this._addModuleDefinition(o,r,l[n],s)},this),r},_getModule:function(e,t,i,r){var s=n.extend({},r),o=this.getClass(r),a=e[t];return a||(a=new o(t,i,s),e[t]=a,e.submodules[t]=a),a},getClass:function(e){var t=s.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,n,i){var r=this._getDefine(n),s=this._getStartWithParent(n,t);r&&t.addDefinition(r,i),this._addStartWithParent(e,t,s)},_getStartWithParent:function(e,t){var i;return n.isFunction(e)&&e.prototype instanceof s.Module?(i=t.constructor.prototype.startWithParent,n.isUndefined(i)?!0:i):n.isObject(e)?(i=e.startWithParent,n.isUndefined(i)?!0:i):!0},_getDefine:function(e){return!n.isFunction(e)||e.prototype instanceof s.Module?n.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,n){t.startWithParent=t.startWithParent&&n,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),s}),define("app/utils/constants",["require","exports","module"],function(e,t){return t.INITING_CLASS="is-initing",t.READY_CLASS="is-ready",t.VISIBLE_CLASS="is-visible",t.ACTIVE_CLASS="is-active",t.MENU_OPEN_CLASS="menu-is-open",t.INFO_OPEN_CLASS="info-is-open",t.LOADING_ASSETS_CLASS="is-loading-assets",t.TRANSITION_IN_CLASS="is-transitioning-in",t.floodlight={SITE_LOAD:"HR-VL0",MENU_SUBMIT:"HR-VL0",NEWS_SUBMIT:"ENDTA000",MENU_CONFIRMATION:"ENDTA00",NEWS_CONFIRMATION:"ENDTA001"},t.omniturePages={INTRO:{pageName:"HR-V:INTRO",channel:"HR-V",prop1:"HR-V",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:INTRO"},STYLING:{pageName:"HR-V:STYLING",channel:"HR-V",prop1:"HR-V",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:STYLING"},VERSATILITY:{pageName:"HR-V:VERSATILITY",channel:"HR-V",prop1:"HR-V",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:VERSATILITY"},SIZE:{pageName:"HR-V:SIZE",channel:"HR-V",prop1:"HR-V",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:SIZE"},INTERIOR:{pageName:"HR-V:INTERIOR",channel:"HR-V",prop1:"HR-V",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:INTERIOR"},FEATURES:{pageName:"HR-V:FEATURES",channel:"HR-V",prop1:"HR-V",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:FEATURES"},NEWS:{pageName:"HR-V:NEWS",channel:"HR-V",prop1:"HR-V",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:NEWS"},CONFIRMATION:{pageName:"HR-V:EMAIL SIGN UP CONFIRMATION",channel:"HR-V",prop1:"HR-V",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:EMAIL SIGN UP"}},t.omnitureLinks={PHOTO_STYLING:{linkName:"HR-V:PHOTO LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:STYLING"},PHOTO_INTERIOR:{linkName:"HR-V:PHOTO LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:INTERIOR"},THREESIXTY:{linkName:"HR-V:360 VIEW LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:STYLING"},VIDEO_START:{linkName:"HR-V:<VIDEO NAME> VIDEO START",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:<SECTION>"},VIDEO_COMPLETE:{linkName:"HR-V:<VIDEO NAME> VIDEO COMPLETE",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>",prop26:"AUTOS:MODEL",prop27:"AUTOS:MODEL:<SECTION>"},HONDA_LOGO:{linkName:"HR-V:HONDA LOGO LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>"},MENU:{linkName:"HR-V:MENU LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>"},NAV:{linkName:"HR-V: <SECTION> LEFT NAVIGATION LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>"},NAV_INTRO:{linkName:"HR-V: INTRO LEFT NAVIGATION LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>"},NAV_STYLING:{linkName:"HR-V: STYLING LEFT NAVIGATION LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>"},NAV_VERSATILITY:{linkName:"HR-V: VERSATILITY LEFT NAVIGATION LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>"},NAV_SIZE:{linkName:"HR-V: SIZE LEFT NAVIGATION LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>"},NAV_INTERIOR:{linkName:"HR-V: INTERIOR LEFT NAVIGATION LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>"},NAV_FEATURES:{linkName:"HR-V: FEATURES LEFT NAVIGATION LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>"},NAV_NEWS:{linkName:"HR-V: NEWS LEFT NAVIGATION LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>"},EMAIL:{linkName:"HR-V:EMAIL SIGN UP LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>"},FACEBOOK:{linkName:"HR-V:FACEBOOK LINK",prop1:"HR-V",prop2:"2015",prop25:"<PAGE URL>"}},t}),function(e){function t(e){var t=e.length,i=n.type(e);return"function"===i||n.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}if(!e.jQuery){var n=function(e,t){return new n.fn.init(e,t)};n.isWindow=function(e){return null!=e&&e==e.window},n.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?r[o.call(e)]||"object":typeof e},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var t;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!s.call(e,"constructor")&&!s.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(t in e);return void 0===t||s.call(e,t)},n.each=function(e,n,i){var r,s=0,o=e.length,a=t(e);if(i){if(a)for(;o>s&&(r=n.apply(e[s],i),r!==!1);s++);else for(s in e)if(r=n.apply(e[s],i),r===!1)break}else if(a)for(;o>s&&(r=n.call(e[s],s,e[s]),r!==!1);s++);else for(s in e)if(r=n.call(e[s],s,e[s]),r===!1)break;return e},n.data=function(e,t,r){if(void 0===r){var s=e[n.expando],o=s&&i[s];if(void 0===t)return o;if(o&&t in o)return o[t]}else if(void 0!==t){var s=e[n.expando]||(e[n.expando]=++n.uuid);return i[s]=i[s]||{},i[s][t]=r,r}},n.removeData=function(e,t){var r=e[n.expando],s=r&&i[r];s&&n.each(t,function(e,t){delete s[t]})},n.extend=function(){var e,t,i,r,s,o,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[l]||{},l++),"object"!=typeof a&&"function"!==n.type(a)&&(a={}),l===c&&(a=this,l--);c>l;l++)if(null!=(s=arguments[l]))for(r in s)e=a[r],i=s[r],a!==i&&(u&&i&&(n.isPlainObject(i)||(t=n.isArray(i)))?(t?(t=!1,o=e&&n.isArray(e)?e:[]):o=e&&n.isPlainObject(e)?e:{},a[r]=n.extend(u,o,i)):void 0!==i&&(a[r]=i));return a},n.queue=function(e,i,r){function s(e,n){var i=n||[];return null!=e&&(t(Object(e))?!function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e}(i,"string"==typeof e?[e]:e):[].push.call(i,e)),i}if(e){i=(i||"fx")+"queue";var o=n.data(e,i);return r?(!o||n.isArray(r)?o=n.data(e,i,s(r)):o.push(r),o):o||[]}},n.dequeue=function(e,t){n.each(e.nodeType?[e]:e,function(e,i){t=t||"fx";var r=n.queue(i,t),s=r.shift();"inprogress"===s&&(s=r.shift()),s&&("fx"===t&&r.unshift("inprogress"),s.call(i,function(){n.dequeue(i,t)}))})},n.fn=n.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),i=this.offset(),r=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:n(e).offset();return i.top-=parseFloat(t.style.marginTop)||0,i.left-=parseFloat(t.style.marginLeft)||0,e.style&&(r.top+=parseFloat(e.style.borderTopWidth)||0,r.left+=parseFloat(e.style.borderLeftWidth)||0),{top:i.top-r.top,left:i.left-r.left}}};var i={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var r={},s=r.hasOwnProperty,o=r.toString,a="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<a.length;l++)r["[object "+a[l]+"]"]=a[l].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={Utilities:n}}}(window),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define("velocity",e):e()}(function(){return function(e,t,n,i){function r(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}function s(e){return g.isWrapped(e)?e=[].slice.call(e):g.isNode(e)&&(e=[e]),e}function o(e){var t=d.data(e,"velocity");return null===t?i:t}function a(e){return function(t){return Math.round(t*e)*(1/e)}}function l(e,n,i,r){function s(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function a(e){return 3*e}function l(e,t,n){return((s(t,n)*e+o(t,n))*e+a(t))*e}function c(e,t,n){return 3*s(t,n)*e*e+2*o(t,n)*e+a(t)}function u(t,n){for(var r=0;g>r;++r){var s=c(n,e,i);if(0===s)return n;var o=l(n,e,i)-t;n-=o/s}return n}function h(){for(var t=0;b>t;++t)S[t]=l(t*w,e,i)}function d(t,n,r){var s,o,a=0;do o=n+(r-n)/2,s=l(o,e,i)-t,s>0?r=o:n=o;while(Math.abs(s)>v&&++a<y);return o}function p(t){for(var n=0,r=1,s=b-1;r!=s&&S[r]<=t;++r)n+=w;--r;var o=(t-S[r])/(S[r+1]-S[r]),a=n+o*w,l=c(a,e,i);return l>=m?u(t,a):0==l?a:d(t,n,n+w)}function f(){E=!0,(e!=n||i!=r)&&h()}var g=4,m=.001,v=1e-7,y=10,b=11,w=1/(b-1),x="Float32Array"in t;if(4!==arguments.length)return!1;for(var k=0;4>k;++k)if("number"!=typeof arguments[k]||isNaN(arguments[k])||!isFinite(arguments[k]))return!1;e=Math.min(e,1),i=Math.min(i,1),e=Math.max(e,0),i=Math.max(i,0);var S=x?new Float32Array(b):new Array(b),E=!1,T=function(t){return E||f(),e===n&&i===r?t:0===t?0:1===t?1:l(p(t),n,r)};T.getControlPoints=function(){return[{x:e,y:n},{x:i,y:r}]};var C="generateBezier("+[e,n,i,r]+")";return T.toString=function(){return C},T}function c(e,t){var n=e;return g.isString(e)?b.Easings[e]||(n=!1):n=g.isArray(e)&&1===e.length?a.apply(null,e):g.isArray(e)&&2===e.length?w.apply(null,e.concat([t])):g.isArray(e)&&4===e.length?l.apply(null,e):!1,n===!1&&(n=b.Easings[b.defaults.easing]?b.defaults.easing:y),n}function u(e){if(e)for(var t=(new Date).getTime(),n=0,r=b.State.calls.length;r>n;n++)if(b.State.calls[n]){var s=b.State.calls[n],a=s[0],l=s[2],c=s[3],p=!!c;c||(c=b.State.calls[n][3]=t-16);for(var f=Math.min((t-c)/l.duration,1),m=0,v=a.length;v>m;m++){var y=a[m],w=y.element;if(o(w)){var k=!1;if(l.display!==i&&null!==l.display&&"none"!==l.display){if("flex"===l.display){var E=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];d.each(E,function(e,t){x.setPropertyValue(w,"display",t)})}x.setPropertyValue(w,"display",l.display)}l.visibility!==i&&"hidden"!==l.visibility&&x.setPropertyValue(w,"visibility",l.visibility);for(var T in y)if("element"!==T){var C,_=y[T],N=g.isString(_.easing)?b.Easings[_.easing]:_.easing;if(1===f)C=_.endValue;else if(C=_.startValue+(_.endValue-_.startValue)*N(f),!p&&C===_.currentValue)continue;if(_.currentValue=C,x.Hooks.registered[T]){var A=x.Hooks.getRoot(T),O=o(w).rootPropertyValueCache[A];O&&(_.rootPropertyValue=O)}var R=x.setPropertyValue(w,T,_.currentValue+(0===parseFloat(C)?"":_.unitType),_.rootPropertyValue,_.scrollData);x.Hooks.registered[T]&&(o(w).rootPropertyValueCache[A]=x.Normalizations.registered[A]?x.Normalizations.registered[A]("extract",null,R[1]):R[1]),"transform"===R[0]&&(k=!0)}l.mobileHA&&o(w).transformCache.translate3d===i&&(o(w).transformCache.translate3d="(0px, 0px, 0px)",k=!0),k&&x.flushTransformCache(w)}}l.display!==i&&"none"!==l.display&&(b.State.calls[n][2].display=!1),l.visibility!==i&&"hidden"!==l.visibility&&(b.State.calls[n][2].visibility=!1),l.progress&&l.progress.call(s[1],s[1],f,Math.max(0,c+l.duration-t),c),1===f&&h(n)}b.State.isTicking&&S(u)}function h(e,t){if(!b.State.calls[e])return!1;for(var n=b.State.calls[e][0],r=b.State.calls[e][1],s=b.State.calls[e][2],a=b.State.calls[e][4],l=!1,c=0,u=n.length;u>c;c++){var h=n[c].element;if(t||s.loop||("none"===s.display&&x.setPropertyValue(h,"display",s.display),"hidden"===s.visibility&&x.setPropertyValue(h,"visibility",s.visibility)),s.loop!==!0&&(d.queue(h)[1]===i||!/\.velocityQueueEntryFlag/i.test(d.queue(h)[1]))&&o(h)){o(h).isAnimating=!1,o(h).rootPropertyValueCache={};var p=!1;d.each(x.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,r=o(h).transformCache[t];o(h).transformCache[t]!==i&&new RegExp("^\\("+n+"[^.]").test(r)&&(p=!0,delete o(h).transformCache[t])}),s.mobileHA&&(p=!0,delete o(h).transformCache.translate3d),p&&x.flushTransformCache(h),x.Values.removeClass(h,"velocity-animating")}if(!t&&s.complete&&!s.loop&&c===u-1)try{s.complete.call(r,r)}catch(f){setTimeout(function(){throw f},1)}a&&s.loop!==!0&&a(r),s.loop!==!0||t||(d.each(o(h).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360)}),b(h,"reverse",{loop:!0,delay:s.delay})),s.queue!==!1&&d.dequeue(h,s.queue)}b.State.calls[e]=!1;for(var g=0,m=b.State.calls.length;m>g;g++)if(b.State.calls[g]!==!1){l=!0;break}l===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var d,p=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return i}(),f=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,i=(new Date).getTime();return n=Math.max(0,16-(i-e)),e=i+n,setTimeout(function(){t(i+n)},n)}}(),g={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==i&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},m=!1;if(e.fn&&e.fn.jquery?(d=e,m=!0):d=t.Velocity.Utilities,8>=p&&!m)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=p)return void(jQuery.fn.velocity=jQuery.fn.animate);var v=400,y="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:d,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:v,easing:y,begin:i,complete:i,progress:i,display:i,visibility:i,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){d.data(e,"velocity",{isSVG:g.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:1,patch:0},debug:!1};t.pageYOffset!==i?(b.State.scrollAnchor=t,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var w=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,i){var r={x:t.x+i.dx*n,v:t.v+i.dv*n,tension:t.tension,friction:t.friction};return{dx:r.v,dv:e(r)}}function n(n,i){var r={dx:n.v,dv:e(n)},s=t(n,.5*i,r),o=t(n,.5*i,s),a=t(n,i,o),l=1/6*(r.dx+2*(s.dx+o.dx)+a.dx),c=1/6*(r.dv+2*(s.dv+o.dv)+a.dv);return n.x=n.x+l*i,n.v=n.v+c*i,n}return function i(e,t,r){var s,o,a,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,h=1e-4,d=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,r=r||null,l.tension=e,l.friction=t,s=null!==r,s?(u=i(e,t),o=u/r*d):o=d;;)if(a=n(a||l,o),c.push(1+a.x),u+=16,!(Math.abs(a.x)>h&&Math.abs(a.v)>h))break;return s?function(e){return c[e*(c.length-1)|0]}:u}}();b.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},d.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){b.Easings[t[0]]=l.apply(null,t[1])});var x=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<x.Lists.colors.length;e++){var t="color"===x.Lists.colors[e]?"0 0 0 1":"255 255 255 1";x.Hooks.templates[x.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,i,r;if(p)for(n in x.Hooks.templates){i=x.Hooks.templates[n],r=i[0].split(" ");var s=i[1].match(x.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),s.push(s.shift()),x.Hooks.templates[n]=[r.join(" "),s.join(" ")])}for(n in x.Hooks.templates){i=x.Hooks.templates[n],r=i[0].split(" ");for(var e in r){var o=n+r[e],a=e;x.Hooks.registered[o]=[n,a]}}},getRoot:function(e){var t=x.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return x.RegEx.valueUnwrap.test(t)&&(t=t.match(x.RegEx.valueUnwrap)[1]),x.Values.isCSSNullValue(t)&&(t=x.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=x.Hooks.registered[e];if(n){var i=n[0],r=n[1];return t=x.Hooks.cleanRootPropertyValue(i,t),t.toString().match(x.RegEx.valueSplit)[r]}return t},injectValue:function(e,t,n){var i=x.Hooks.registered[e];if(i){var r,s,o=i[0],a=i[1];return n=x.Hooks.cleanRootPropertyValue(o,n),r=n.toString().match(x.RegEx.valueSplit),r[a]=t,s=r.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var i;return x.RegEx.wrappedValueAlreadyExtracted.test(n)?i=n:(i=n.toString().match(x.RegEx.valueUnwrap),i=i?i[1].replace(/,(\s+)?/g," "):n),i;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return"-webkit-filter";case"extract":var i=parseFloat(n);if(!i&&0!==i){var r=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);i=r?r[1]:0}return i;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(8>=p)switch(e){case"name":return"filter";case"extract":var i=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=i?i[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=p||b.State.isGingerbread||(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));for(var e=0;e<x.Lists.transformsBase.length;e++)!function(){var t=x.Lists.transformsBase[e];x.Normalizations.registered[t]=function(e,n,r){switch(e){case"name":return"transform";case"extract":return o(n)===i||o(n).transformCache[t]===i?/^scale/i.test(t)?1:0:o(n).transformCache[t].replace(/[()]/g,"");case"inject":var s=!1;switch(t.substr(0,t.length-1)){case"translate":s=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":b.State.isAndroid&&o(n).transformCache[t]===i&&1>r&&(r=1),s=!/(\d)$/i.test(r);break;case"skew":s=!/(deg|\d)$/i.test(r);break;case"rotate":s=!/(deg|\d)$/i.test(r)}return s||(o(n).transformCache[t]="("+r+")"),o(n).transformCache[t]}}}();for(var e=0;e<x.Lists.colors.length;e++)!function(){var t=x.Lists.colors[e];x.Normalizations.registered[t]=function(e,n,r){switch(e){case"name":return t;case"extract":var s;if(x.RegEx.wrappedValueAlreadyExtracted.test(r))s=r;else{var o,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?o=a[r]!==i?a[r]:a.black:x.RegEx.isHex.test(r)?o="rgb("+x.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(o=a.black),s=(o||r).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=p||3!==s.split(" ").length||(s+=" 1"),s;case"inject":return 8>=p?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(8>=p?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(p||b.State.isAndroid&&!b.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(b.State.prefixMatches[e])return[b.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,i=t.length;i>n;n++){var r;if(r=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),g.isString(b.State.prefixElement.style[r]))return b.State.prefixMatches[e]=r,[r,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(n,function(e,t,n,i){return t+t+n+n+i+i}),t=i.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":"block"
},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,n,r,s){function a(e,n){function r(){c&&x.setPropertyValue(e,"display","none")}var l=0;if(8>=p)l=d.css(e,n);else{var c=!1;if(/^(width|height)$/.test(n)&&0===x.getPropertyValue(e,"display")&&(c=!0,x.setPropertyValue(e,"display",x.Values.getDisplayType(e))),!s){if("height"===n&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var u=e.offsetHeight-(parseFloat(x.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(e,"paddingBottom"))||0);return r(),u}if("width"===n&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var h=e.offsetWidth-(parseFloat(x.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(e,"paddingRight"))||0);return r(),h}}var f;f=o(e)===i?t.getComputedStyle(e,null):o(e).computedStyle?o(e).computedStyle:o(e).computedStyle=t.getComputedStyle(e,null),(p||b.State.isFirefox)&&"borderColor"===n&&(n="borderTopColor"),l=9===p&&"filter"===n?f.getPropertyValue(n):f[n],(""===l||null===l)&&(l=e.style[n]),r()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(n)){var g=a(e,"position");("fixed"===g||"absolute"===g&&/top|left/i.test(n))&&(l=d(e).position()[n]+"px")}return l}var l;if(x.Hooks.registered[n]){var c=n,u=x.Hooks.getRoot(c);r===i&&(r=x.getPropertyValue(e,x.Names.prefixCheck(u)[0])),x.Normalizations.registered[u]&&(r=x.Normalizations.registered[u]("extract",e,r)),l=x.Hooks.extractValue(c,r)}else if(x.Normalizations.registered[n]){var h,f;h=x.Normalizations.registered[n]("name",e),"transform"!==h&&(f=a(e,x.Names.prefixCheck(h)[0]),x.Values.isCSSNullValue(f)&&x.Hooks.templates[n]&&(f=x.Hooks.templates[n][1])),l=x.Normalizations.registered[n]("extract",e,f)}return/^[\d-]/.test(l)||(l=o(e)&&o(e).isSVG&&x.Names.SVGAttribute(n)?/^(height|width)$/i.test(n)?e.getBBox()[n]:e.getAttribute(n):a(e,x.Names.prefixCheck(n)[0])),x.Values.isCSSNullValue(l)&&(l=0),b.debug>=2&&console.log("Get "+n+": "+l),l},setPropertyValue:function(e,n,i,r,s){var a=n;if("scroll"===n)s.container?s.container["scroll"+s.direction]=i:"Left"===s.direction?t.scrollTo(i,s.alternateValue):t.scrollTo(s.alternateValue,i);else if(x.Normalizations.registered[n]&&"transform"===x.Normalizations.registered[n]("name",e))x.Normalizations.registered[n]("inject",e,i),a="transform",i=o(e).transformCache[n];else{if(x.Hooks.registered[n]){var l=n,c=x.Hooks.getRoot(n);r=r||x.getPropertyValue(e,c),i=x.Hooks.injectValue(l,i,r),n=c}if(x.Normalizations.registered[n]&&(i=x.Normalizations.registered[n]("inject",e,i),n=x.Normalizations.registered[n]("name",e)),a=x.Names.prefixCheck(n)[0],8>=p)try{e.style[a]=i}catch(u){b.debug&&console.log("Browser does not support ["+i+"] for ["+a+"]")}else o(e)&&o(e).isSVG&&x.Names.SVGAttribute(n)?e.setAttribute(n,i):e.style[a]=i;b.debug>=2&&console.log("Set "+n+" ("+a+"): "+i)}return[a,i]},flushTransformCache:function(e){function t(t){return parseFloat(x.getPropertyValue(e,t))}var n="";if((p||b.State.isAndroid&&!b.State.isChrome)&&o(e).isSVG){var i={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};d.each(o(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),i[e]&&(n+=e+"("+i[e].join(" ")+") ",delete i[e])})}else{var r,s;d.each(o(e).transformCache,function(t){return r=o(e).transformCache[t],"transformPerspective"===t?(s=r,!0):(9===p&&"rotateZ"===t&&(t="rotate"),void(n+=t+r+" "))}),s&&(n="perspective"+s+" "+n)}x.setPropertyValue(e,"transform",n)}};x.Hooks.register(),x.Normalizations.register(),b.hook=function(e,t,n){var r=i;return e=s(e),d.each(e,function(e,s){if(o(s)===i&&b.init(s),n===i)r===i&&(r=b.CSS.getPropertyValue(s,t));else{var a=b.CSS.setPropertyValue(s,t,n);"transform"===a[0]&&b.CSS.flushTransformCache(s),r=a}}),r};var k=function(){function e(){return l?N.promise||null:p}function a(){function e(){function e(e,t){var n=i,r=i,s=i;return g.isArray(e)?(n=e[0],!g.isArray(e[1])&&/^[\d-]/.test(e[1])||g.isFunction(e[1])||x.RegEx.isHex.test(e[1])?s=e[1]:(g.isString(e[1])&&!x.RegEx.isHex.test(e[1])||g.isArray(e[1]))&&(r=t?e[1]:c(e[1],l.duration),e[2]!==i&&(s=e[2]))):n=e,t||(r=r||l.easing),g.isFunction(n)&&(n=n.call(a,T,E)),g.isFunction(s)&&(s=s.call(a,T,E)),[n||0,r,s]}function p(e,t){var n,i;return i=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=x.Values.getUnitType(e)),[i,n]}function f(){var e={myParent:a.parentNode||n.body,position:x.getPropertyValue(a,"position"),fontSize:x.getPropertyValue(a,"fontSize")},i=e.position===P.lastPosition&&e.myParent===P.lastParent,r=e.fontSize===P.lastFontSize;P.lastParent=e.myParent,P.lastPosition=e.position,P.lastFontSize=e.fontSize;var s=100,l={};if(r&&i)l.emToPx=P.lastEmToPx,l.percentToPxWidth=P.lastPercentToPxWidth,l.percentToPxHeight=P.lastPercentToPxHeight;else{var c=o(a).isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");b.init(c),e.myParent.appendChild(c),d.each(["overflow","overflowX","overflowY"],function(e,t){b.CSS.setPropertyValue(c,t,"hidden")}),b.CSS.setPropertyValue(c,"position",e.position),b.CSS.setPropertyValue(c,"fontSize",e.fontSize),b.CSS.setPropertyValue(c,"boxSizing","content-box"),d.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){b.CSS.setPropertyValue(c,t,s+"%")}),b.CSS.setPropertyValue(c,"paddingLeft",s+"em"),l.percentToPxWidth=P.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(c,"width",null,!0))||1)/s,l.percentToPxHeight=P.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(c,"height",null,!0))||1)/s,l.emToPx=P.lastEmToPx=(parseFloat(x.getPropertyValue(c,"paddingLeft"))||1)/s,e.myParent.removeChild(c)}return null===P.remToPx&&(P.remToPx=parseFloat(x.getPropertyValue(n.body,"fontSize"))||16),null===P.vwToPx&&(P.vwToPx=parseFloat(t.innerWidth)/100,P.vhToPx=parseFloat(t.innerHeight)/100),l.remToPx=P.remToPx,l.vwToPx=P.vwToPx,l.vhToPx=P.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),a),l}if(l.begin&&0===T)try{l.begin.call(m,m)}catch(v){setTimeout(function(){throw v},1)}if("scroll"===A){var k,S,C,_=/^x$/i.test(l.axis)?"Left":"Top",O=parseFloat(l.offset)||0;l.container?g.isWrapped(l.container)||g.isNode(l.container)?(l.container=l.container[0]||l.container,k=l.container["scroll"+_],C=k+d(a).position()[_.toLowerCase()]+O):l.container=null:(k=b.State.scrollAnchor[b.State["scrollProperty"+_]],S=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===_?"Top":"Left")]],C=d(a).offset()[_.toLowerCase()]+O),h={scroll:{rootPropertyValue:!1,startValue:k,currentValue:k,endValue:C,unitType:"",easing:l.easing,scrollData:{container:l.container,direction:_,alternateValue:S}},element:a},b.debug&&console.log("tweensContainer (scroll): ",h.scroll,a)}else if("reverse"===A){if(!o(a).tweensContainer)return void d.dequeue(a,l.queue);"none"===o(a).opts.display&&(o(a).opts.display="auto"),"hidden"===o(a).opts.visibility&&(o(a).opts.visibility="visible"),o(a).opts.loop=!1,o(a).opts.begin=null,o(a).opts.complete=null,w.easing||delete l.easing,w.duration||delete l.duration,l=d.extend({},o(a).opts,l);var R=d.extend(!0,{},o(a).tweensContainer);for(var L in R)if("element"!==L){var M=R[L].startValue;R[L].startValue=R[L].currentValue=R[L].endValue,R[L].endValue=M,g.isEmptyObject(w)||(R[L].easing=l.easing),b.debug&&console.log("reverse tweensContainer ("+L+"): "+JSON.stringify(R[L]),a)}h=R}else if("start"===A){var R;o(a).tweensContainer&&o(a).isAnimating===!0&&(R=o(a).tweensContainer),d.each(y,function(t,n){if(RegExp("^"+x.Lists.colors.join("$|^")+"$").test(t)){var r=e(n,!0),s=r[0],o=r[1],a=r[2];if(x.RegEx.isHex.test(s)){for(var l=["Red","Green","Blue"],c=x.Values.hexToRgb(s),u=a?x.Values.hexToRgb(a):i,h=0;h<l.length;h++){var d=[c[h]];o&&d.push(o),u!==i&&d.push(u[h]),y[t+l[h]]=d}delete y[t]}}});for(var V in y){var H=e(y[V]),B=H[0],q=H[1],j=H[2];V=x.Names.camelCase(V);var D=x.Hooks.getRoot(V),$=!1;if(o(a).isSVG||x.Names.prefixCheck(D)[1]!==!1||x.Normalizations.registered[D]!==i){(l.display!==i&&null!==l.display&&"none"!==l.display||l.visibility!==i&&"hidden"!==l.visibility)&&/opacity|filter/.test(V)&&!j&&0!==B&&(j=0),l._cacheValues&&R&&R[V]?(j===i&&(j=R[V].endValue+R[V].unitType),$=o(a).rootPropertyValueCache[D]):x.Hooks.registered[V]?j===i?($=x.getPropertyValue(a,D),j=x.getPropertyValue(a,V,$)):$=x.Hooks.templates[D][1]:j===i&&(j=x.getPropertyValue(a,V));var F,z,U,W=!1;if(F=p(V,j),j=F[0],U=F[1],F=p(V,B),B=F[0].replace(/^([+-\/*])=/,function(e,t){return W=t,""}),z=F[1],j=parseFloat(j)||0,B=parseFloat(B)||0,"%"===z&&(/^(fontSize|lineHeight)$/.test(V)?(B/=100,z="em"):/^scale/.test(V)?(B/=100,z=""):/(Red|Green|Blue)$/i.test(V)&&(B=B/100*255,z="")),/[\/*]/.test(W))z=U;else if(U!==z&&0!==j)if(0===B)z=U;else{s=s||f();var G=/margin|padding|left|right|width|text|word|letter/i.test(V)||/X$/.test(V)||"x"===V?"x":"y";switch(U){case"%":j*="x"===G?s.percentToPxWidth:s.percentToPxHeight;break;case"px":break;default:j*=s[U+"ToPx"]}switch(z){case"%":j*=1/("x"===G?s.percentToPxWidth:s.percentToPxHeight);break;case"px":break;default:j*=1/s[z+"ToPx"]}}switch(W){case"+":B=j+B;break;case"-":B=j-B;break;case"*":B=j*B;break;case"/":B=j/B}h[V]={rootPropertyValue:$,startValue:j,currentValue:j,endValue:B,unitType:z,easing:q},b.debug&&console.log("tweensContainer ("+V+"): "+JSON.stringify(h[V]),a)}else b.debug&&console.log("Skipping ["+D+"] due to a lack of browser support.")}h.element=a}h.element&&(x.Values.addClass(a,"velocity-animating"),I.push(h),""===l.queue&&(o(a).tweensContainer=h,o(a).opts=l),o(a).isAnimating=!0,T===E-1?(b.State.calls.length>1e4&&(b.State.calls=r(b.State.calls)),b.State.calls.push([I,m,l,null,N.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,u())):T++)}var s,a=this,l=d.extend({},b.defaults,w),h={};switch(o(a)===i&&b.init(a),parseFloat(l.delay)&&l.queue!==!1&&d.queue(a,l.queue,function(e){b.velocityQueueEntryFlag=!0,o(a).delayTimer={setTimeout:setTimeout(e,parseFloat(l.delay)),next:e}}),l.duration.toString().toLowerCase()){case"fast":l.duration=200;break;case"normal":l.duration=v;break;case"slow":l.duration=600;break;default:l.duration=parseFloat(l.duration)||1}b.mock!==!1&&(b.mock===!0?l.duration=l.delay=1:(l.duration*=parseFloat(b.mock)||1,l.delay*=parseFloat(b.mock)||1)),l.easing=c(l.easing,l.duration),l.begin&&!g.isFunction(l.begin)&&(l.begin=null),l.progress&&!g.isFunction(l.progress)&&(l.progress=null),l.complete&&!g.isFunction(l.complete)&&(l.complete=null),l.display!==i&&null!==l.display&&(l.display=l.display.toString().toLowerCase(),"auto"===l.display&&(l.display=b.CSS.Values.getDisplayType(a))),l.visibility!==i&&null!==l.visibility&&(l.visibility=l.visibility.toString().toLowerCase()),l.mobileHA=l.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,l.queue===!1?l.delay?setTimeout(e,l.delay):e():d.queue(a,l.queue,function(t,n){return n===!0?(N.promise&&N.resolver(m),!0):(b.velocityQueueEntryFlag=!0,void e(t))}),""!==l.queue&&"fx"!==l.queue||"inprogress"===d.queue(a)[0]||d.dequeue(a)}var l,p,f,m,y,w,S=arguments[0]&&(d.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||g.isString(arguments[0].properties));if(g.isWrapped(this)?(l=!1,f=0,m=this,p=this):(l=!0,f=1,m=S?arguments[0].elements:arguments[0]),m=s(m)){S?(y=arguments[0].properties,w=arguments[0].options):(y=arguments[f],w=arguments[f+1]);var E=m.length,T=0;if("stop"!==y&&!d.isPlainObject(w)){var C=f+1;w={};for(var _=C;_<arguments.length;_++)g.isArray(arguments[_])||!/^(fast|normal|slow)$/i.test(arguments[_])&&!/^\d/.test(arguments[_])?g.isString(arguments[_])||g.isArray(arguments[_])?w.easing=arguments[_]:g.isFunction(arguments[_])&&(w.complete=arguments[_]):w.duration=arguments[_]}var N={promise:null,resolver:null,rejecter:null};l&&b.Promise&&(N.promise=new b.Promise(function(e,t){N.resolver=e,N.rejecter=t}));var A;switch(y){case"scroll":A="scroll";break;case"reverse":A="reverse";break;case"stop":d.each(m,function(e,t){o(t)&&o(t).delayTimer&&(clearTimeout(o(t).delayTimer.setTimeout),o(t).delayTimer.next&&o(t).delayTimer.next(),delete o(t).delayTimer)});var O=[];return d.each(b.State.calls,function(e,t){t&&d.each(t[1],function(n,r){var s=g.isString(w)?w:"";return w!==i&&t[2].queue!==s?!0:void d.each(m,function(t,n){n===r&&(w!==i&&(d.each(d.queue(n,s),function(e,t){g.isFunction(t)&&t(null,!0)}),d.queue(n,s,[])),o(n)&&""===s&&d.each(o(n).tweensContainer,function(e,t){t.endValue=t.currentValue}),O.push(e))})})}),d.each(O,function(e,t){h(t,!0)}),N.promise&&N.resolver(m),e();default:if(!d.isPlainObject(y)||g.isEmptyObject(y)){if(g.isString(y)&&b.Redirects[y]){var R=d.extend({},w),L=R.duration,M=R.delay||0;return R.backwards===!0&&(m=d.extend(!0,[],m).reverse()),d.each(m,function(e,t){parseFloat(R.stagger)?R.delay=M+parseFloat(R.stagger)*e:g.isFunction(R.stagger)&&(R.delay=M+R.stagger.call(t,e,E)),R.drag&&(R.duration=parseFloat(L)||(/^(callout|transition)/.test(y)?1e3:v),R.duration=Math.max(R.duration*(R.backwards?1-e/E:(e+1)/E),.75*R.duration,200)),b.Redirects[y].call(t,t,R||{},e,E,m,N.promise?N:i)}),e()}var V="Velocity: First argument ("+y+") was not a property map, a known action, or a registered redirect. Aborting.";return N.promise?N.rejecter(new Error(V)):console.log(V),e()}A="start"}var P={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},I=[];d.each(m,function(e,t){g.isNode(t)&&a.call(t)});var H,R=d.extend({},b.defaults,w);if(R.loop=parseInt(R.loop),H=2*R.loop-1,R.loop)for(var B=0;H>B;B++){var q={delay:R.delay,progress:R.progress};B===H-1&&(q.display=R.display,q.visibility=R.visibility,q.complete=R.complete),k(m,"reverse",q)}return e()}};b=d.extend(k,b),b.animate=k;var S=t.requestAnimationFrame||f;return b.State.isMobile||n.hidden===i||n.addEventListener("visibilitychange",function(){n.hidden?(S=function(e){return setTimeout(function(){e(!0)},16)},u()):S=t.requestAnimationFrame||f}),e.Velocity=b,e!==t&&(e.fn.velocity=k,e.fn.velocity.defaults=b.defaults),d.each(["Down","Up"],function(e,t){b.Redirects["slide"+t]=function(e,n,r,s,o,a){var l=d.extend({},n),c=l.begin,u=l.complete,h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},p={};l.display===i&&(l.display="Down"===t?"inline"===b.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){c&&c.call(o,o);for(var n in h){p[n]=e.style[n];var i=b.CSS.getPropertyValue(e,n);h[n]="Down"===t?[i,0]:[0,i]}p.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in p)e.style[t]=p[t];u&&u.call(o,o),a&&a.resolver(o)},b(e,h,l)}}),d.each(["In","Out"],function(e,t){b.Redirects["fade"+t]=function(e,n,r,s,o,a){var l=d.extend({},n),c={opacity:"In"===t?1:0},u=l.complete;l.complete=r!==s-1?l.begin=null:function(){u&&u.call(o,o),a&&a.resolver(o)},l.display===i&&(l.display="In"===t?"auto":"none"),b(this,c,l)}}),b}(window.jQuery||window.Zepto||window,window,document)}),define("app/utils/helpers",["require","exports","module","jquery","app/utils/constants","velocity"],function(e,t){{var n=e("jquery"),i=n("body");e("app/utils/constants")}return e("velocity"),t.coverVideo=function(e,t,i){var r=n(window).height(),s=n(window).width(),o=t,a=i,l=r/a,c=s/o;e.css(c>l?{height:"auto",width:s+"px"}:{height:r+"px",width:"auto"})},t.validEmail=function(e){var t=e.indexOf("@"),n=e.lastIndexOf(".");return 1>t||t+2>n||n+2>=e.length?!1:!0},t.setBackgroundSize=function(e,t){var i=n(window).height(),r=t?t:0;e.css("height",i-r)},t.scrollTo=function(e,t){var r=n(e).offset().top;t||Modernizr.touch?i.scrollTop(r):i.velocity("scroll",{duration:300,easing:"easeInOutCubic",offset:r})},t.prefixedTransEnd=function(){var e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};return e[Modernizr.prefixed("transition")]}(),t.prefixedTransform=function(){var e=Modernizr.prefixed("transform");return e=e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}(),t}),define("app/regions/TransitionRegion",["require","exports","module","marionette","app/utils/helpers","underscore"],function(e){var t=e("marionette"),n=e("app/utils/helpers"),i=e("underscore");return t.Region.extend({initialize:function(){this.transEndEventName=n.prefixedTransEnd,this.transformPropName=n.prefixedTransform},transitionToView:function(e){var n=this,r=$("body").attr("data-page-trans"),s="fade"===r?!0:!1,o=this.currentView;return!o||o.isClosed?void this.show(e):(t.triggerMethod.call(this,"willTransition",o),this.stopListening(e,"render"),this.listenTo(e,"render",function(){n.$el.off(n.transEndEventName),Modernizr&&Modernizr.csstransforms3d?(e.$el.addClass("before-transition"),n.$el.append(e.el),t.triggerMethod.call(e,"before:show",!0),t.triggerMethod.call(this,"before:show",e),$("body").addClass("views-transitioning"),n.currentView.$el.addClass("transitioning-out"),t.triggerMethod.call(n.currentView,"transition:out",!0),s?(n.currentView.$el.on(n.transEndEventName,function(i){i.target===i.currentTarget&&(n.cleanOldView(n.currentView),e.$el.removeClass("before-transition").addClass("transitioning-in"),t.triggerMethod.call(e,"transition:in",!0))}),e.$el.on(n.transEndEventName,function(t){t.target===t.currentTarget&&n.cleanNewView(e)})):(i.delay(function(){e.$el.removeClass("before-transition").addClass("transitioning-in"),t.triggerMethod.call(e,"transition:in",!0)},50),r.indexOf("pop-in-")>-1?n.currentView.$el.on(n.transEndEventName,function(){n.cleanOldView(n.currentView),n.cleanNewView(e)}):(console.log("here"),e.$el.on(n.transEndEventName,function(){n.cleanOldView(n.currentView),n.cleanNewView(e)})))):n.currentView.$el.fadeOut(function(){n.$el.append(e.$el.hide()),e.$el.fadeIn(function(){n.cleanOldView(n.currentView),n.cleanNewView(e)})})}),void e.render())},cleanOldView:function(e){e.$el.off(self.transEndEventName),e.destroy()},cleanNewView:function(e){this.currentView=e,e.$el.off(self.transEndEventName),$("body").removeClass("views-transitioning"),this.currentView.$el.removeClass("transitioning-in"),n.scrollTo("body"),t.triggerMethod.call(e,"show",!0),t.triggerMethod.call(this,"show",e)}})}),define("app/app",["require","exports","module","marionette","app/regions/TransitionRegion"],function(e){var t=e("marionette"),n=e("app/regions/TransitionRegion"),i=new Backbone.Marionette.Application;return i.addRegions({contentRegion:{selector:"#region-content",regionClass:n},headerRegion:"#region-header",footerRegion:"#region-footer"}),i.Behaviors=i.Behaviors||{},t.Behaviors.behaviorsLookup=function(){return i.Behaviors},i.addInitializer(function(){Backbone.history.start({pushState:!0})}),window.app=i,i}),function(e,t){if("function"==typeof define&&define.amd)define("backbone.radio",["backbone","underscore"],function(e,n){return t(e,n)});else if("undefined"!=typeof exports){var n=require("backbone"),i=require("underscore");module.exports=t(n,i)}else t(e.Backbone,e._)}(this,function(e,t){function n(e){return a[e]||(a[e]=t.partial(o.log,e))}function i(e){return t.isFunction(e)?e:t.constant(e)}var r=Array.prototype.slice,s=e.Radio,o=e.Radio={};o.VERSION="0.5.2",o.noConflict=function(){return e.Radio=s,this},t.extend(o,{_channels:{},DEBUG:!1,_debugLog:function(e,t,n){if(this.DEBUG){var i=n?" on the "+n+" channel":"";console.warn(e+i+': "'+t+'"')}},channel:function(e){if(!e)throw new Error("You must provide a name for the channel.");return o._channels[e]||new o.Channel(e)}});var a={};t.extend(o,{log:function(e,t){var n=r.call(arguments,2);console.log("["+e+'] "'+t+'"',n)},tuneIn:function(e){var t=o.channel(e);return t._tunedIn=!0,t.on("all",n(e)),this},tuneOut:function(e){var t=o.channel(e);return t._tunedIn=!1,t.off("all",n(e)),delete a[e],this}}),o.Commands={command:function(e){var t=r.call(arguments,1),n=this._channelName;if(n&&this._tunedIn&&o.log.apply(this,[n,e].concat(t)),this._commands&&this._commands[e]){var i=this._commands[e];i.callback.apply(i.context,t)}else o._debugLog("An unhandled event was fired",e,n);return this},comply:function(e,t,n){return this._commands||(this._commands={}),this._commands[e]={callback:t,context:n||this},this},complyOnce:function(e,n,i){var r=this,s=t.once(function(){return r.stopComplying(e),n.apply(this,arguments)});return this.comply(e,s,i)},stopComplying:function(e){var t=this._commands;return e?t&&t[e]?delete t[e]:o._debugLog("Attempted to remove the unregistered command",e,this._channelName):delete this._commands,this}},o.Requests={request:function(e){var t=r.call(arguments,1),n=this._channelName;if(n&&this._tunedIn&&o.log.apply(this,[n,e].concat(t)),this._requests&&this._requests[e]){var i=this._requests[e];return i.callback.apply(i.context,t)}o._debugLog("An unhandled event was fired",e,n)},reply:function(e,t,n){return this._requests||(this._requests={}),this._requests[e]={callback:i(t),context:n||this},this},replyOnce:function(e,n,r){var s=this,o=t.once(function(){return s.stopReplying(e),i(n).apply(this,arguments)});return this.reply(e,o,r)},stopReplying:function(e){var t=this._requests;return e?t&&t[e]?delete t[e]:o._debugLog("Attempted to remove the unregistered request",e,this._channelName):delete this._requests,this}},o.Channel=function(e){this._channelName=e,o._channels[e]=this},t.extend(o.Channel.prototype,e.Events,o.Commands,o.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopComplying(),this.stopReplying(),this},connectEvents:function(e,t){return this._connect("on",e,t)},connectCommands:function(e,t){return this._connect("comply",e,t)},connectRequests:function(e,t){return this._connect("reply",e,t)},_connect:function(e,n,i){return n?(t.each(n,function(t,n){this[e](n,t,i||this)},this),this):void 0}});var l,c,u=[e.Events,o.Commands,o.Requests];return t.each(u,function(e){t.each(e,function(e,t){o[t]=function(e){return c=r.call(arguments,1),l=this.channel(e),l[t].apply(l,c)}})}),o}),define("app/channels",["require","exports","module","backbone.radio"],function(e,t){return e("backbone.radio"),t.globalChannel=Backbone.Radio.channel("global"),t}),define("async",[],function(){function e(e){var t,n;t=document.createElement("script"),t.type="text/javascript",t.async=!0,t.src=e,n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(t,n)}function t(e,t){var n=/!(.+)/,r=e.replace(n,""),s=n.test(e)?e.replace(/.+!/,""):i;return r+=r.indexOf("?")<0?"?":"&",r+s+"="+t}function n(){return r+=1,"__async_req_"+r+"__"}var i="callback",r=0;return{load:function(i,r,s,o){if(o.isBuild)s(null);else{var a=n();window[a]=s,e(t(r.toUrl(i),a))}}}}),define("app/utils/gmaps",["require","exports","module"],function(e){return{init:function(t){t=t||{},"undefined"==typeof window.google||"undefined"==typeof window.google.maps?e(["async!http://maps.google.com/maps/api/js?sensor=false"],function(){"function"==typeof t.success&&t.success(window.google)}):"function"==typeof t.success&&t.success(window.google)}}}),define("app/models/Address",["require","exports","module","backbone","app/utils/gmaps"],function(e){var t,n=e("backbone"),i=e("app/utils/gmaps");return n.Model.extend({defaults:{active:!1},initialize:function(){var e=this;i.init({success:function(n){t=n.maps,e.on("change:address",e.updateGeo,e),null!==e.get("address")&&e.trigger("change:address")}})},updateGeo:function(){var e=new t.Geocoder;e.geocode({address:this.get("address")},_.bind(this.setlocationsByResults,this))},setlocationsByResults:function(e,t){t==window.google.maps.GeocoderStatus.OK?this.set("location",e[0].geometry.location):this.set("location",null)}})}),define("app/collections/Addresses",["require","exports","module","backbone","app/models/Address"],function(e){var t=e("backbone"),n=e("app/models/Address");return t.Collection.extend({model:n,setActiveModel:function(e){e.set("active",!0),this.each(function(t){t!==e&&t.set("active",!1)})},onReset:function(){console.log("reset")}})}),define("app/views/GlobalView",["require","exports","module","marionette","app/utils/helpers","app/channels","app/utils/constants"],function(e){var t=e("marionette"),n=(e("app/utils/helpers"),e("app/channels")),i=e("app/utils/constants");return t.ItemView.extend({el:"body",ui:{links:'[data-navigate], a[href^="/"]'},events:{"click @ui.links":"onClickNavigate"},initialize:function(){document.addEventListener("touchstart",function(){},!0)},onClickNavigate:function(e){e.preventDefault();var t=$(e.currentTarget).data("navigate")||$(e.currentTarget).attr("href");n.globalChannel.trigger("navigate",{route:t,triggerStatus:!0})},checkAspectRatio:function(){var e=$(window).width()/$(window).height();.5>e||e>=1.5&&$(window).height()<=1024&&$(window).width()<=684?$("html").addClass(i.RESIZE_WARNING_CLASS):$("html").removeClass(i.RESIZE_WARNING_CLASS)},listenForPageVisibility:function(){function e(){document.hidden?n.soundChannel.trigger("mute",{persist:!1}):"true"===localStorage.getItem("isPlaying")&&n.soundChannel.trigger("unmute",{persist:!1})}var t,i;"undefined"!=typeof document.hidden?(t="hidden",i="visibilitychange"):"undefined"!=typeof document.mozHidden?(t="mozHidden",i="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(t="msHidden",i="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(t="webkitHidden",i="webkitvisibilitychange"),document.addEventListener("visibilitychange",e,!1)}})}),define("app/views/BaseView",["require","exports","module","jquery","marionette","app/channels"],function(e){{var t=(e("jquery"),e("marionette"));e("app/channels")}return t.ItemView.extend({initialize:function(){},onShow:function(){this.delegateEvents()}})}),define("Handlebars",[],function(){var e=function(){var e=function(){function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){function t(e){return a[e]||"&amp;"}function n(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function i(e){return e instanceof o?e.toString():e||0===e?(e=""+e,c.test(e)?e.replace(l,t):e):""}function r(e){return e||0===e?d(e)&&0===e.length?!0:!1:!0}var s={},o=e,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/;s.extend=n;var u=Object.prototype.toString;s.toString=u;var h=function(e){return"function"==typeof e};h(/x/)&&(h=function(e){return"function"==typeof e&&"[object Function]"===u.call(e)});var h;s.isFunction=h;var d=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===u.call(e):!1};return s.isArray=d,s.escapeExpression=i,s.isEmpty=r,s}(e),n=function(){function e(e,t){var i;t&&t.firstLine&&(i=t.firstLine,e+=" - "+i+":"+t.firstColumn);for(var r=Error.prototype.constructor.call(this,e),s=0;s<n.length;s++)this[n[s]]=r[n[s]];i&&(this.lineNumber=i,this.column=t.firstColumn)}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),i=function(e,t){function n(e,t){this.helpers=e||{},this.partials=t||{},i(this)}function i(e){e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new a("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse||function(){},r=n.fn;return d(t)&&(t=t.call(this)),t===!0?r(this):t===!1||null==t?i(this):h(t)?t.length>0?e.helpers.each(t,n):i(this):r(t)}),e.registerHelper("each",function(e,t){var n,i=t.fn,r=t.inverse,s=0,o="";if(d(e)&&(e=e.call(this)),t.data&&(n=m(t.data)),e&&"object"==typeof e)if(h(e))for(var a=e.length;a>s;s++)n&&(n.index=s,n.first=0===s,n.last=s===e.length-1),o+=i(e[s],{data:n});else for(var l in e)e.hasOwnProperty(l)&&(n&&(n.key=l,n.index=s,n.first=0===s),o+=i(e[l],{data:n}),s++);return 0===s&&(o=r(this)),o}),e.registerHelper("if",function(e,t){return d(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){return d(e)&&(e=e.call(this)),o.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)})}function r(e,t){g.log(e,t)}var s={},o=e,a=t,l="1.3.0";s.VERSION=l;var c=4;s.COMPILER_REVISION=c;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};s.REVISION_CHANGES=u;var h=o.isArray,d=o.isFunction,p=o.toString,f="[object Object]";s.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:g,log:r,registerHelper:function(e,t,n){if(p.call(e)===f){if(n||t)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){p.call(e)===f?o.extend(this.partials,e):this.partials[e]=t}};var g={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(g.level<=e){var n=g.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};s.logger=g,s.log=r;var m=function(e){var t={};return o.extend(t,e),t};return s.createFrame=m,s}(t,n),r=function(e,t,n){function i(e){var t=e&&e[0]||1,n=d;if(t!==n){if(n>t){var i=p[n],r=p[t];throw new h("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new h("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){if(!t)throw new h("No environment passed to template");var n=function(e,n,i,r,s,o){var a=t.VM.invokePartial.apply(this,arguments);if(null!=a)return a;if(t.compile){var l={helpers:r,partials:s,data:o};return s[n]=t.compile(e,{data:void 0!==o},t),s[n](i,l)}throw new h("The partial "+n+" could not be compiled when running in runtime-only mode")},i={escapeExpression:u.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var i=this.programs[e];return n?i=o(e,t,n):i||(i=this.programs[e]=o(e,t)),i},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},u.extend(n,t),u.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,r){r=r||{};var s,o,a=r.partial?r:t;r.partial||(s=r.helpers,o=r.partials);var l=e.call(i,a,n,s,o,r.data);return r.partial||t.VM.checkRevision(i.compilerInfo),l}}function s(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||n].concat(i))};return r.program=e,r.depth=i.length,r}function o(e,t,n){var i=function(e,i){return i=i||{},t(e,i.data||n)};return i.program=e,i.depth=0,i}function a(e,t,n,i,r,s){var o={partial:!0,helpers:i,partials:r,data:s};if(void 0===e)throw new h("The partial "+t+" could not be found");return e instanceof Function?e(n,o):void 0}function l(){return""}var c={},u=e,h=t,d=n.COMPILER_REVISION,p=n.REVISION_CHANGES;return c.checkRevision=i,c.template=r,c.programWithDepth=s,c.program=o,c.invokePartial=a,c.noop=l,c}(t,n,i),s=function(e,t,n,i,r){var s,o=e,a=t,l=n,c=i,u=r,h=function(){var e=new o.HandlebarsEnvironment;return c.extend(e,o),e.SafeString=a,e.Exception=l,e.Utils=c,e.VM=u,e.template=function(t){return u.template(t,e)},e},d=h();return d.create=h,s=d}(i,e,n,t,r),o=function(e){function t(e){e=e||{},this.firstLine=e.first_line,this.firstColumn=e.first_column,this.lastColumn=e.last_column,this.lastLine=e.last_line}var n,i=e,r={ProgramNode:function(e,n,i,s){var o,a;
3===arguments.length?(s=i,i=null):2===arguments.length&&(s=n,n=null),t.call(this,s),this.type="program",this.statements=e,this.strip={},i?(a=i[0],a?(o={first_line:a.firstLine,last_line:a.lastLine,last_column:a.lastColumn,first_column:a.firstColumn},this.inverse=new r.ProgramNode(i,n,o)):this.inverse=new r.ProgramNode(i,n),this.strip.right=n.left):n&&(this.strip.left=n.right)},MustacheNode:function(e,n,i,s,o){if(t.call(this,o),this.type="mustache",this.strip=s,null!=i&&i.charAt){var a=i.charAt(3)||i.charAt(2);this.escaped="{"!==a&&"&"!==a}else this.escaped=!!i;this.sexpr=e instanceof r.SexprNode?e:new r.SexprNode(e,n),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(e,n,i){t.call(this,i),this.type="sexpr",this.hash=n;var r=this.id=e[0],s=this.params=e.slice(1),o=this.eligibleHelper=r.isSimple;this.isHelper=o&&(s.length||n)},PartialNode:function(e,n,i,r){t.call(this,r),this.type="partial",this.partialName=e,this.context=n,this.strip=i},BlockNode:function(e,n,r,s,o){if(t.call(this,o),e.sexpr.id.original!==s.path.original)throw new i(e.sexpr.id.original+" doesn't match "+s.path.original,this);this.type="block",this.mustache=e,this.program=n,this.inverse=r,this.strip={left:e.strip.left,right:s.strip.right},(n||r).strip.left=e.strip.right,(r||n).strip.right=s.strip.left,r&&!n&&(this.isInverse=!0)},ContentNode:function(e,n){t.call(this,n),this.type="content",this.string=e},HashNode:function(e,n){t.call(this,n),this.type="hash",this.pairs=e},IdNode:function(e,n){t.call(this,n),this.type="ID";for(var r="",s=[],o=0,a=0,l=e.length;l>a;a++){var c=e[a].part;if(r+=(e[a].separator||"")+c,".."===c||"."===c||"this"===c){if(s.length>0)throw new i("Invalid path: "+r,this);".."===c?o++:this.isScoped=!0}else s.push(c)}this.original=r,this.parts=s,this.string=s.join("."),this.depth=o,this.isSimple=1===e.length&&!this.isScoped&&0===o,this.stringModeValue=this.string},PartialNameNode:function(e,n){t.call(this,n),this.type="PARTIAL_NAME",this.name=e.original},DataNode:function(e,n){t.call(this,n),this.type="DATA",this.id=e},StringNode:function(e,n){t.call(this,n),this.type="STRING",this.original=this.string=this.stringModeValue=e},IntegerNode:function(e,n){t.call(this,n),this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},BooleanNode:function(e,n){t.call(this,n),this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},CommentNode:function(e,n){t.call(this,n),this.type="comment",this.comment=e}};return n=r}(n),a=function(){var e,t=function(){function e(e,t){return{left:"~"===e.charAt(2),right:"~"===t.charAt(0)||"~"===t.charAt(1)}}function t(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(t,n,i,r,s,o){var a=o.length-1;switch(s){case 1:return new r.ProgramNode(o[a-1],this._$);case 2:return new r.ProgramNode([],this._$);case 3:this.$=new r.ProgramNode([],o[a-1],o[a],this._$);break;case 4:this.$=new r.ProgramNode(o[a-2],o[a-1],o[a],this._$);break;case 5:this.$=new r.ProgramNode(o[a-1],o[a],[],this._$);break;case 6:this.$=new r.ProgramNode(o[a],this._$);break;case 7:this.$=new r.ProgramNode([],this._$);break;case 8:this.$=new r.ProgramNode([],this._$);break;case 9:this.$=[o[a]];break;case 10:o[a-1].push(o[a]),this.$=o[a-1];break;case 11:this.$=new r.BlockNode(o[a-2],o[a-1].inverse,o[a-1],o[a],this._$);break;case 12:this.$=new r.BlockNode(o[a-2],o[a-1],o[a-1].inverse,o[a],this._$);break;case 13:this.$=o[a];break;case 14:this.$=o[a];break;case 15:this.$=new r.ContentNode(o[a],this._$);break;case 16:this.$=new r.CommentNode(o[a],this._$);break;case 17:this.$=new r.MustacheNode(o[a-1],null,o[a-2],e(o[a-2],o[a]),this._$);break;case 18:this.$=new r.MustacheNode(o[a-1],null,o[a-2],e(o[a-2],o[a]),this._$);break;case 19:this.$={path:o[a-1],strip:e(o[a-2],o[a])};break;case 20:this.$=new r.MustacheNode(o[a-1],null,o[a-2],e(o[a-2],o[a]),this._$);break;case 21:this.$=new r.MustacheNode(o[a-1],null,o[a-2],e(o[a-2],o[a]),this._$);break;case 22:this.$=new r.PartialNode(o[a-2],o[a-1],e(o[a-3],o[a]),this._$);break;case 23:this.$=e(o[a-1],o[a]);break;case 24:this.$=new r.SexprNode([o[a-2]].concat(o[a-1]),o[a],this._$);break;case 25:this.$=new r.SexprNode([o[a]],null,this._$);break;case 26:this.$=o[a];break;case 27:this.$=new r.StringNode(o[a],this._$);break;case 28:this.$=new r.IntegerNode(o[a],this._$);break;case 29:this.$=new r.BooleanNode(o[a],this._$);break;case 30:this.$=o[a];break;case 31:o[a-1].isHelper=!0,this.$=o[a-1];break;case 32:this.$=new r.HashNode(o[a],this._$);break;case 33:this.$=[o[a-2],o[a]];break;case 34:this.$=new r.PartialNameNode(o[a],this._$);break;case 35:this.$=new r.PartialNameNode(new r.StringNode(o[a],this._$),this._$);break;case 36:this.$=new r.PartialNameNode(new r.IntegerNode(o[a],this._$));break;case 37:this.$=new r.DataNode(o[a],this._$);break;case 38:this.$=new r.IdNode(o[a],this._$);break;case 39:o[a-2].push({part:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 40:this.$=[{part:o[a]}];break;case 43:this.$=[];break;case 44:o[a-1].push(o[a]);break;case 47:this.$=[o[a]];break;case 48:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],s=[],o=this.table,a="",l=0,c=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;s.push(h);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,g,m,v,y,b,w,x,k={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===p||"undefined"==typeof p)&&(p=t()),m=o[g]&&o[g][p]),"undefined"==typeof m||!m.length||!m[0]){var S="";if(!u){x=[];for(y in o[g])this.terminals_[y]&&y>2&&x.push("'"+this.terminals_[y]+"'");S=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:h,expected:x})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(m[0]){case 1:i.push(p),r.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(m[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,h=this.lexer.yylloc,u>0&&u--);break;case 2:if(b=this.productions_[m[1]][1],k.$=r[r.length-b],k._$={first_line:s[s.length-(b||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(b||1)].first_column,last_column:s[s.length-1].last_column},d&&(k._$.range=[s[s.length-(b||1)].range[0],s[s.length-1].range[1]]),v=this.performAction.call(k,a,c,l,this.yy,m[1],r,s),"undefined"!=typeof v)return v;b&&(i=i.slice(0,-1*b*2),r=r.slice(0,-1*b),s=s.slice(0,-1*b)),i.push(this.productions_[m[1]][0]),r.push(k.$),s.push(k._$),w=o[i[i.length-2]][i[i.length-1]],i.push(w);break;case 3:return!0}}return!0}},i=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length&&(n=this._input.match(this.rules[s[o]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=o,this.options.flex));o++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){function r(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return r(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return r(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return t.yytext=r(1,2).replace(/\\"/g,'"'),32;case 24:return t.yytext=r(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return t.yytext=r(1,2),40;case 31:return"INVALID";case 32:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},e}();return n.lexer=i,t.prototype=n,n.Parser=t,new t}();return e=t}(),l=function(e,t){function n(e){return e.constructor===s.ProgramNode?e:(r.yy=s,r.parse(e))}var i={},r=e,s=t;return i.parser=r,i.parse=n,i}(a,o),c=function(e){function t(){}function n(e,t,n){if(null==e||"string"!=typeof e&&e.constructor!==n.AST.ProgramNode)throw new s("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var i=n.parse(e),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)}function i(e,t,n){function i(){var i=n.parse(e),r=(new n.Compiler).compile(i,t),s=(new n.JavaScriptCompiler).compile(r,t,void 0,!0);return n.template(s)}if(null==e||"string"!=typeof e&&e.constructor!==n.AST.ProgramNode)throw new s("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var r;return function(e,t){return r||(r=i()),r.call(this,e,t)}}var r={},s=e;return r.Compiler=t,t.prototype={compiler:t,disassemble:function(){for(var e,t,n,i=this.opcodes,r=[],s=0,o=i.length;o>s;s++)if(e=i[s],"DECLARE"===e.opcode)r.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var a=0;a<e.args.length;a++)n=e.args[a],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);r.push(e.opcode+" "+t.join(" "))}return r.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||i.args.length!==r.args.length)return!1;for(var s=0;s<i.args.length;s++)if(i.args[s]!==r.args[s])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.accept(e)},accept:function(e){var t,n=e.strip||{};return n.left&&this.opcode("strip"),t=this[e.type](e),n.right&&this.opcode("strip"),t},program:function(e){for(var t=e.statements,n=0,i=t.length;i>n;n++)this.accept(t[n]);return this.isSimple=1===i,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var r=0,s=n.depths.list.length;s>r;r++)t=n.depths.list[r],2>t||this.addDepth(t-1);return i},block:function(e){var t=e.mustache,n=e.program,i=e.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var r=t.sexpr,s=this.classifySexpr(r);"helper"===s?this.helperSexpr(r,n,i):"simple"===s?(this.simpleSexpr(r),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(r,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,i=e.pairs;this.opcode("pushHash");for(var r=0,s=i.length;s>r;r++)t=i[r],n=t[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type),"sexpr"===n.type&&this.sexpr(n)):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){this.sexpr(e.sexpr),this.opcode(e.escaped&&!this.options.noEscape?"appendEscaped":"append")},ambiguousSexpr:function(e,t,n){var i=e.id,r=i.parts[0],s=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",r,s)},simpleSexpr:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.options.knownHelpersOnly)throw new s("You specified knownHelpersOnly, but used the unknown helper "+r,e);this.opcode("invokeHelper",i.length,r,e.isRoot)}},sexpr:function(e){var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,i=e.parts.length;i>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new s("Scoped data references are not supported: "+e.original,e);this.opcode("lookupData");for(var t=e.id.parts,n=0,i=t.length;i>n;n++)this.opcode("lookup",t[n])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifySexpr:function(e){var t=e.isHelper,n=e.eligibleHelper,i=this.options;if(n&&!t){var r=e.id.parts[0];i.knownHelpers[r]?t=!0:i.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type),"sexpr"===t.type&&this.sexpr(t)):this[t.type](t)},setupFullMustacheParams:function(e,t,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),i}},r.precompile=n,r.compile=i,r}(n),u=function(e,t){function n(e){this.value=e}function i(){}var r,s=e.COMPILER_REVISION,o=e.REVISION_CHANGES,a=e.log,l=t;i.prototype={nameLookup:function(e,t){var n,r;return 0===e.indexOf("depth")&&(n=!0),r=/^[0-9]+$/.test(t)?e+"["+t+"]":i.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']",n?"("+e+" && "+r+")":r},compilerInfo:function(){var e=s,t=o[e];return"this.compilerInfo = ["+e+",'"+t+"'];\n"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,i){this.environment=e,this.options=t||{},a("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t);var r,s=e.opcodes;this.i=0;for(var o=s.length;this.i<o;this.i++)r=s[this.i],"DECLARE"===r.opcode?this[r.name]=r.value:this[r.opcode].apply(this,r.args),r.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");return this.createFunctionContext(i)},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(n+=" data = data || {};"),e.push(n)}e.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);if(t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,s=this.environment.depths.list.length;s>r;r++)i.push("depth"+this.environment.depths.list[r]);var o=this.mergeSource();if(this.isChild||(o=this.compilerInfo()+o),e)return i.push(o),Function.apply(this,i);var l="function "+(this.name||"")+"("+i.join(",")+") {\n  "+o+"}";return a("debug",l+"\n\n"),l},mergeSource:function(){for(var e,t="",n=0,i=this.source.length;i>n;n++){var r=this.source[n];r.appendToBuffer?e=e?e+"\n    + "+r.content:r.content:(e&&(t+="buffer += "+e+";\n  ",e=void 0),t+=r+"\n  ")}return t},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.pendingContent&&(e=this.pendingContent+e),this.stripNext&&(e=e.replace(/^\s+/,"")),this.pendingContent=e},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var e=this.popStack();this.pushSource("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"sexpr"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+e.contexts.join(",")+"}"),this.push("{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){this.pushStackLiteral(null!=e?this.programExpression(e):null)},invokeHelper:function(e,t,n){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var i=this.lastHelper=this.setupHelper(e,t,!0),r=this.nameLookup("depth"+this.lastContext,t,"context"),s="helper = "+i.name+" || "+r;i.paramsInit&&(s+=","+i.paramsInit),this.push("("+s+",helper ? helper.call("+i.callParams+") : helperMissing.call("+i.helperMissingParams+"))"),n||this.flushInline()},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var n=this.setupHelper(0,e,t),i=this.lastHelper=this.nameLookup("helpers",e,"helper"),r=this.nameLookup("depth"+this.lastContext,e,"context"),s=this.nextStack();n.paramsInit&&this.pushSource(n.paramsInit),this.pushSource("if (helper = "+i+") { "+s+" = helper.call("+n.callParams+"); }"),this.pushSource("else { helper = "+r+"; "+s+" = typeof helper === functionType ? helper.call("+n.callParams+") : helper; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,n,i=this.popStack();this.options.stringParams&&(n=this.popStack(),t=this.popStack());var r=this.hash;t&&r.contexts.push("'"+e+"': "+t),n&&r.types.push("'"+e+"': "+n),r.values.push("'"+e+"': ("+i+")")
},compiler:i,compileChildren:function(e,t){for(var n,i,r=e.children,s=0,o=r.length;o>s;s++){n=r[s],i=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=i.compile(n,t,this.context),this.context.environments[a]=n):(n.index=a,n.name="program"+a)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var i=this.context.environments[t];if(i&&i.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],i=n.depths.list,r=[n.index,n.name,"data"],s=0,o=i.length;o>s;s++)t=i[s],r.push(1===t?"depth0":"depth"+(t-1));return(0===i.length?"self.program(":"self.programWithDepth(")+r.join(", ")+")"},register:function(e,t){this.useRegister(e),this.pushSource(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new n(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),e&&this.source.push(e)},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.pushSource(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,i,r,s="",o=this.isInline();if(o){var a=this.popStack(!0);if(a instanceof n)t=a.value,r=!0;else{i=!this.stackSlot;var l=i?this.incrStack():this.topStackName();s="("+this.push(l)+" = "+a+"),",t=this.topStack()}}else t=this.topStack();var c=e.call(this,t);return o?(r||this.popStack(),i&&this.stackSlot--,this.push("("+s+c+")")):(/^stack/.test(t)||(t=this.nextStack()),this.pushSource(t+" = ("+s+c+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,i=e.length;i>t;t++){var r=e[t];r instanceof n?this.compileStack.push(r):this.pushStack(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),i=(t?this.inlineStack:this.compileStack).pop();if(!e&&i instanceof n)return i.value;if(!t){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return i},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,i=t[t.length-1];return!e&&i instanceof n?i.value:i},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,n){var i=[],r=this.setupParams(e,i,n),s=this.nameLookup("helpers",t,"helper");return{params:i,paramsInit:r,name:s,callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(i).join(", ")}},setupOptions:function(e,t){var n,i,r,s=[],o=[],a=[];s.push("hash:"+this.popStack()),this.options.stringParams&&(s.push("hashTypes:"+this.popStack()),s.push("hashContexts:"+this.popStack())),i=this.popStack(),r=this.popStack(),(r||i)&&(r||(this.context.aliases.self="this",r="self.noop"),i||(this.context.aliases.self="this",i="self.noop"),s.push("inverse:"+i),s.push("fn:"+r));for(var l=0;e>l;l++)n=this.popStack(),t.push(n),this.options.stringParams&&(a.push(this.popStack()),o.push(this.popStack()));return this.options.stringParams&&(s.push("contexts:["+o.join(",")+"]"),s.push("types:["+a.join(",")+"]")),this.options.data&&s.push("data:data"),s},setupParams:function(e,t,n){var i="{"+this.setupOptions(e,t).join(",")+"}";return n?(this.useRegister("options"),t.push("options"),"options="+i):(t.push(i),"")}};for(var c="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),u=i.RESERVED_WORDS={},h=0,d=c.length;d>h;h++)u[c[h]]=!0;return i.isValidJavaScriptVariableName=function(e){return!i.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)?!0:!1},r=i}(i,n),h=function(e,t,n,i,r){var s,o=e,a=t,l=n.parser,c=n.parse,u=i.Compiler,h=i.compile,d=i.precompile,p=r,f=o.create,g=function(){var e=f();return e.compile=function(t,n){return h(t,n,e)},e.precompile=function(t,n){return d(t,n,e)},e.AST=a,e.Compiler=u,e.JavaScriptCompiler=p,e.Parser=l,e.parse=c,e};return o=g(),o.create=g,s=o}(s,o,l,c,u);return h}();return e}),define("hbs",[],function(){return{get:function(){return Handlebars},write:function(e,t,n){if(t+customNameExtension in buildMap){var i=buildMap[t+customNameExtension];n.asModule(e+"!"+t,i)}},version:"0.4.0",load:function(){}}}),define("hbs!templates/header",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="toggle-menu">\n    <figure class="hamburger">\n        <div class="bar"></div>\n        <div class="bar"></div>\n        <div class="bar"></div>\n    </figure>\n</div>\n\n<a href="/" class="logo">Kluft</a>\n\n<nav class="main-nav">\n    <ul>\n        <li class="collection-link" >\n            <a href="/collections/">Collections</a>\n            <ul class="sub-nav">\n                <li>\n                    <a class="subtitle small" href="/collections/beyond-luxury/">Beyond Luxury</a>\n                </li>\n                <li>\n                    <a class="subtitle small" href="/collections/kluft-signature/">Kluft Signature</a>\n                </li>\n                <li>\n                    <a class="subtitle small" href="/collections/royal-sovereign/">Royal Sovereign</a>\n                </li>\n                <li>\n                    <a class="subtitle small" href="/collections/royal-sovereign-latex/">Royal Sovereign Latex</a>\n                </li>\n            </ul>\n        </li>\n        <li>\n            <a href="/earl-kluft/">Earl S. Kluft</a>\n        </li>\n        <li>\n            <a href="/method/">The Method</a>\n        </li>\n        <li>\n            <a href="/kluft-standard/">The Kluft Standard</a>\n        </li>\n        <li>\n            <a href="/retailers/">Retailers</a>\n        </li>\n        <li>\n            <a href="/contact/">Contact</a>\n        </li>\n    </ul>\n</nav>'});return t.registerPartial("templates_header",n),n}),define("app/views/HeaderView",["require","exports","module","jquery","app/views/BaseView","app/channels","app/utils/helpers","app/utils/constants","hbs!templates/header"],function(e){var t=e("jquery"),n=e("app/views/BaseView"),i=(e("app/channels"),e("app/utils/helpers"),e("app/utils/constants"),e("hbs!templates/header"));return n.extend({tagName:"header",className:"header",template:i,ui:{menuToggle:".toggle-menu"},events:{"click @ui.menuToggle":"onClickMenuToggle"},initialize:function(){t(window).on("resize",_.bind(this.setMobileMenu,this))},onShow:function(){this.setMobileMenu()},setMobileMenu:function(){var e=(t(window).width(),t(window).height()),n=t("#region-header").height();t(".mobile-menu").css({height:e-n,top:n})},onClickMenuToggle:function(){t("html").toggleClass("menu-is-open")},hasScrolled:function(){var e=t(window).scrollTop();Math.abs(this.lastScrollTop-e)<=this.delta||(e>this.lastScrollTop&&e>this.navbarHeight?this.$el.removeClass("nav-down").addClass("nav-up"):e+this.winHeight<this.docHeight&&this.$el.removeClass("nav-up").addClass("nav-down"),this.lastScrollTop=e)}})}),define("hbs!templates/footer",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="back-to-top">\n    <h6 class="h10 to-top">Back To Top</h6>\n</div>\n\n<nav>\n    <ul>\n        <li>\n            <a href="/collections/">Collections</a>\n        </li>\n        <li>\n            <a href="/earl-kluft/">Earl S. Kluft</a>\n        </li>\n        <li>\n            <a href="/method/">The Method</a>\n        </li>\n        <li>\n            <a href="/kluft-standard/">The Kluft Standard</a>\n        </li>\n        <li>\n            <a href="/retailers/">Retailers</a>\n        </li>\n        <li>\n            <a href="/contact/">Contact</a>\n        </li>\n    </ul>\n</nav>\n\n<h6 class="h10">&copy;2015 E.S. Kluft &amp; Company</h6>'});return t.registerPartial("templates_footer",n),n}),define("app/views/FooterView",["require","exports","module","jquery","app/views/BaseView","app/channels","app/utils/helpers","app/utils/constants","hbs!templates/footer"],function(e){var t=(e("jquery"),e("app/views/BaseView")),n=(e("app/channels"),e("app/utils/helpers")),i=(e("app/utils/constants"),e("hbs!templates/footer"));return t.extend({tagName:"footer",className:"footer",template:i,ui:{scrollBtn:".back-to-top"},events:{"click @ui.scrollBtn":"onClickScrollBtn"},initialize:function(){},onShow:function(){},onClickScrollBtn:function(){n.scrollTo("body")}})}),define("hbs!templates/home",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="grid">\n<section class="section intro">\n    <div class="masthead masthead-1" data-stellar-ratio="0.5">\n        <h6 class="h10 inverted scroll">scroll down</h6>\n    </div>\n</section>\n\n<section class="section has-max second-intro">\n    <div class="headline">\n        <h3>Crafted by masters</h3>\n        <h6 class="h7">for those who never stop dreaming</h6>\n    </div>\n\n    <div class="col-1-2 col-left">\n        <div class="block block-1 block-100 aspect-75 block-image"></div>\n        <div class="block block-2 block-66 aspect-114 block-image"></div>\n    </div>\n\n    <div class="col-1-2 col-right">\n        <div class="block-text block-text-1">\n            <p>There are those who live life without compromise. In pursuit of precision, they dedicate years to honing their craft. Were all born with certain talents. But it takes a lifetime of work to be a master.</p>\n            <p>Kluft craftsmanship sets the master standard for the luxury sleep experience.</p>\n        </div>\n        <div class="block block-link">\n            <a href="/method/" class="btn learn-more">learn more</a>\n        </div>\n        <div class="block block-3 block-100 aspect-58 decoration block-image"></div>\n    </div>\n</section>\n\n<section class="section pull-up">\n    <div class="masthead masthead-2" data-stellar-ratio="0.5">\n        <div class="earl" data-stellar-ratio="0.8"></div>\n        <div class="text-box">\n            <div class="text-wrap">\n                <h3 class="h3 inverted">Earl S. Kluft</h3>\n                <p class="h7 inverted">Throughout three generations, the Kluft family has mastered the luxury mattress. Earl S. Kluft, a world-class master craftsman, has built on this heritage with his opulent, signature creations.</p>\n                <a href="/earl-kluft/" class="btn inverted learn-more">learn more</a>\n            </div>\n        </div>\n    </div>\n</section>\n\n<section class="section has-max">\n    <div class="headline">\n        <h3>Collections</h3>\n    </div>\n\n    <div class="col-1-2 col-left">\n        <div class="block block-4 block-100 aspect-87 block-image"></div>\n    </div>\n\n    <div class="col-1-2 col-right">\n        <div class="block block-text">\n            <p>Our collections are designed and constructed with the worlds most superior materials, tools &amp; craftsmanship.</p>\n        </div>\n        <div class="block-link">\n            <a href="/collections/" class="btn see-collections">see collections</a>\n        </div>\n        <div class="block block-5 block-100 aspect-63 decoration block-image"></div>\n    </div>\n</section>\n\n<!-- <section class="section pull-up">\n    <div class="masthead masthead-3"></div>\n</section> -->\n</div>\n\n<div class="mobile-grid">\n<section class="section intro">\n    <div class="masthead masthead-1">\n        <h6 class="h10 inverted scroll">scroll down</h6>\n    </div>\n</section>\n\n<section class="section">\n    <div class="headline">\n        <h3>Crafted by masters</h3>\n        <h6 class="h7">for those who never stop dreaming</h6>\n    </div>\n\n    <div class="block block-1 block-100 block-image"></div>\n    <div class="block block-2 block-100 block-image"></div>\n\n    <div class="block-text">\n        <p>There are those who live life without compromise. In pursuit of precision, they dedicate years to honing their craft. Were all born with certain talents. But it takes a lifetime of work to be a master.</p>\n        <p>Kluft craftsmanship sets the master standard for the luxury sleep experience.</p>\n    </div>\n    <div class="block block-link">\n        <a href="/method/" class="btn learn-more">learn more</a>\n    </div>\n\n    <div class="masthead masthead-2">\n        <div class="text-box">\n            <div class="text-wrap">\n                <h3 class="h3 inverted">Earl S. Kluft</h3>\n                <p class="h7 inverted">Throughout three generations, the Kluft family has mastered the luxury mattress. Earl S. Kluft, a world-class master craftsman, has built on this heritage with his opulent, signature creations.</p>\n                <a href="/earl-kluft/" class="btn inverted learn-more">learn more</a>\n            </div>\n        </div>\n    </div>\n\n    <div class="headline">\n        <h3>Collections</h3>\n    </div>\n\n    <div class="block block-4 block-100 block-image"></div>\n    <div class="block block-5 block-100 block-image"></div>\n\n    <div class="block block-text block-text-2">\n        <p>Our collections are designed and constructed with the worlds most superior materials, tools &amp; craftsmanship.</p>\n    </div>\n    <div class="block-link">\n        <a href="/collections/" class="btn see-collections">see collections</a>\n    </div>\n</div>'});return t.registerPartial("templates_home",n),n}),!function(e,t,n,i){function r(t,n){this.element=t,this.options=e.extend({},o,n),this._defaults=o,this._name=s,this.init()}var s="stellar",o={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(e){e.hide()},showElement:function(e){e.show()}},a={scroll:{getLeft:function(e){return e.scrollLeft()},setLeft:function(e,t){e.scrollLeft(t)},getTop:function(e){return e.scrollTop()},setTop:function(e,t){e.scrollTop(t)}},position:{getLeft:function(e){return-1*parseInt(e.css("left"),10)},getTop:function(e){return-1*parseInt(e.css("top"),10)}},margin:{getLeft:function(e){return-1*parseInt(e.css("margin-left"),10)},getTop:function(e){return-1*parseInt(e.css("margin-top"),10)}},transform:{getLeft:function(e){var t=getComputedStyle(e[0])[u];return"none"!==t?-1*parseInt(t.match(/(-?[0-9]+)/g)[4],10):0},getTop:function(e){var t=getComputedStyle(e[0])[u];return"none"!==t?-1*parseInt(t.match(/(-?[0-9]+)/g)[5],10):0}}},l={position:{setLeft:function(e,t){e.css("left",t)},setTop:function(e,t){e.css("top",t)}},transform:{setPosition:function(e,t,n,i,r){e[0].style[u]="translate3d("+(t-n)+"px, "+(i-r)+"px, 0)"}}},c=function(){var t,n=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,i=e("script")[0].style,r="";for(t in i)if(n.test(t)){r=t.match(n)[0];break}return"WebkitOpacity"in i&&(r="Webkit"),"KhtmlOpacity"in i&&(r="Khtml"),function(e){return r+(r.length>0?e.charAt(0).toUpperCase()+e.slice(1):e)}}(),u=c("transform"),h=e("<div />",{style:"background:#fff"}).css("background-position-x")!==i,d=h?function(e,t,n){e.css({"background-position-x":t,"background-position-y":n})}:function(e,t,n){e.css("background-position",t+" "+n)},p=h?function(e){return[e.css("background-position-x"),e.css("background-position-y")]}:function(e){return e.css("background-position").split(" ")},f=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};r.prototype={init:function(){this.options.name=s+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===n.body&&(this.element=t),this.$scrollElement=e(this.element),this.$element=this.element===t?e("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==i?e(this.options.viewportElement):this.$scrollElement[0]===t||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var e=this,t=a[e.options.scrollProperty];this._getScrollLeft=function(){return t.getLeft(e.$scrollElement)},this._getScrollTop=function(){return t.getTop(e.$scrollElement)}},_defineSetters:function(){var t=this,n=a[t.options.scrollProperty],i=l[t.options.positionProperty],r=n.setLeft,s=n.setTop;this._setScrollLeft="function"==typeof r?function(e){r(t.$scrollElement,e)}:e.noop,this._setScrollTop="function"==typeof s?function(e){s(t.$scrollElement,e)}:e.noop,this._setPosition=i.setPosition||function(e,n,r,s,o){t.options.horizontalScrolling&&i.setLeft(e,n,r),t.options.verticalScrolling&&i.setTop(e,s,o)}},_handleWindowLoadAndResize:function(){var n=this,i=e(t);n.options.responsive&&i.bind("load."+this.name,function(){n.refresh()}),i.bind("resize."+this.name,function(){n._detectViewport(),n.options.responsive&&n.refresh()})},refresh:function(n){var i=this,r=i._getScrollLeft(),s=i._getScrollTop();n&&n.firstLoad||this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),n&&n.firstLoad&&/WebKit/.test(navigator.userAgent)&&e(t).load(function(){var e=i._getScrollLeft(),t=i._getScrollTop();i._setScrollLeft(e+1),i._setScrollTop(t+1),i._setScrollLeft(e),i._setScrollTop(t)}),this._setScrollLeft(r),this._setScrollTop(s)},_detectViewport:function(){var e=this.$viewportElement.offset(),t=null!==e&&e!==i;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=t?e.top:0,this.viewportOffsetLeft=t?e.left:0},_findParticles:function(){var t=this;if(this._getScrollLeft(),this._getScrollTop(),this.particles!==i)for(var n=this.particles.length-1;n>=0;n--)this.particles[n].$element.data("stellar-elementIsActive",i);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(){var n,r,s,o,a,l,c,u,h,d=e(this),p=0,f=0,g=0,m=0;if(d.data("stellar-elementIsActive")){if(d.data("stellar-elementIsActive")!==this)return}else d.data("stellar-elementIsActive",this);t.options.showElement(d),d.data("stellar-startingLeft")?(d.css("left",d.data("stellar-startingLeft")),d.css("top",d.data("stellar-startingTop"))):(d.data("stellar-startingLeft",d.css("left")),d.data("stellar-startingTop",d.css("top"))),s=d.position().left,o=d.position().top,a="auto"===d.css("margin-left")?0:parseInt(d.css("margin-left"),10),l="auto"===d.css("margin-top")?0:parseInt(d.css("margin-top"),10),u=d.offset().left-a,h=d.offset().top-l,d.parents().each(function(){var t=e(this);return t.data("stellar-offset-parent")===!0?(p=g,f=m,c=t,!1):(g+=t.position().left,void(m+=t.position().top))}),n=d.data("stellar-horizontal-offset")!==i?d.data("stellar-horizontal-offset"):c!==i&&c.data("stellar-horizontal-offset")!==i?c.data("stellar-horizontal-offset"):t.horizontalOffset,r=d.data("stellar-vertical-offset")!==i?d.data("stellar-vertical-offset"):c!==i&&c.data("stellar-vertical-offset")!==i?c.data("stellar-vertical-offset"):t.verticalOffset,t.particles.push({$element:d,$offsetParent:c,isFixed:"fixed"===d.css("position"),horizontalOffset:n,verticalOffset:r,startingPositionLeft:s,startingPositionTop:o,startingOffsetLeft:u,startingOffsetTop:h,parentOffsetLeft:p,parentOffsetTop:f,stellarRatio:d.data("stellar-ratio")!==i?d.data("stellar-ratio"):1,width:d.outerWidth(!0),height:d.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var t,n=this,r=this._getScrollLeft(),s=this._getScrollTop();this.backgrounds=[],this.options.parallaxBackgrounds&&(t=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(t=t.add(this.$element)),t.each(function(){var t,o,a,l,c,u,h,f=e(this),g=p(f),m=0,v=0,y=0,b=0;if(f.data("stellar-backgroundIsActive")){if(f.data("stellar-backgroundIsActive")!==this)return}else f.data("stellar-backgroundIsActive",this);f.data("stellar-backgroundStartingLeft")?d(f,f.data("stellar-backgroundStartingLeft"),f.data("stellar-backgroundStartingTop")):(f.data("stellar-backgroundStartingLeft",g[0]),f.data("stellar-backgroundStartingTop",g[1])),a="auto"===f.css("margin-left")?0:parseInt(f.css("margin-left"),10),l="auto"===f.css("margin-top")?0:parseInt(f.css("margin-top"),10),c=f.offset().left-a-r,u=f.offset().top-l-s,f.parents().each(function(){var t=e(this);return t.data("stellar-offset-parent")===!0?(m=y,v=b,h=t,!1):(y+=t.position().left,void(b+=t.position().top))}),t=f.data("stellar-horizontal-offset")!==i?f.data("stellar-horizontal-offset"):h!==i&&h.data("stellar-horizontal-offset")!==i?h.data("stellar-horizontal-offset"):n.horizontalOffset,o=f.data("stellar-vertical-offset")!==i?f.data("stellar-vertical-offset"):h!==i&&h.data("stellar-vertical-offset")!==i?h.data("stellar-vertical-offset"):n.verticalOffset,n.backgrounds.push({$element:f,$offsetParent:h,isFixed:"fixed"===f.css("background-attachment"),horizontalOffset:t,verticalOffset:o,startingValueLeft:g[0],startingValueTop:g[1],startingBackgroundPositionLeft:isNaN(parseInt(g[0],10))?0:parseInt(g[0],10),startingBackgroundPositionTop:isNaN(parseInt(g[1],10))?0:parseInt(g[1],10),startingPositionLeft:f.position().left,startingPositionTop:f.position().top,startingOffsetLeft:c,startingOffsetTop:u,parentOffsetLeft:m,parentOffsetTop:v,stellarRatio:f.data("stellar-background-ratio")===i?1:f.data("stellar-background-ratio")})}))},_reset:function(){var e,t,n,i,r;for(r=this.particles.length-1;r>=0;r--)e=this.particles[r],t=e.$element.data("stellar-startingLeft"),n=e.$element.data("stellar-startingTop"),this._setPosition(e.$element,t,t,n,n),this.options.showElement(e.$element),e.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(r=this.backgrounds.length-1;r>=0;r--)i=this.backgrounds[r],i.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),d(i.$element,i.startingValueLeft,i.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=e.noop,e(t).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var n=this,i=e(t);i.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),i.bind("resize.horizontal-"+this.name,function(){n.horizontalOffset=n.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),i.bind("resize.vertical-"+this.name,function(){n.verticalOffset=n.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var e,t,n,i,r,s,o,a,l,c,u=this._getScrollLeft(),h=this._getScrollTop(),p=!0,f=!0;if(this.currentScrollLeft!==u||this.currentScrollTop!==h||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=u,this.currentScrollTop=h,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,c=this.particles.length-1;c>=0;c--)e=this.particles[c],t=e.isFixed?1:0,this.options.horizontalScrolling?(s=(u+e.horizontalOffset+this.viewportOffsetLeft+e.startingPositionLeft-e.startingOffsetLeft+e.parentOffsetLeft)*-(e.stellarRatio+t-1)+e.startingPositionLeft,a=s-e.startingPositionLeft+e.startingOffsetLeft):(s=e.startingPositionLeft,a=e.startingOffsetLeft),this.options.verticalScrolling?(o=(h+e.verticalOffset+this.viewportOffsetTop+e.startingPositionTop-e.startingOffsetTop+e.parentOffsetTop)*-(e.stellarRatio+t-1)+e.startingPositionTop,l=o-e.startingPositionTop+e.startingOffsetTop):(o=e.startingPositionTop,l=e.startingOffsetTop),this.options.hideDistantElements&&(f=!this.options.horizontalScrolling||a+e.width>(e.isFixed?0:u)&&a<(e.isFixed?0:u)+this.viewportWidth+this.viewportOffsetLeft,p=!this.options.verticalScrolling||l+e.height>(e.isFixed?0:h)&&l<(e.isFixed?0:h)+this.viewportHeight+this.viewportOffsetTop),f&&p?(e.isHidden&&(this.options.showElement(e.$element),e.isHidden=!1),this._setPosition(e.$element,s,e.startingPositionLeft,o,e.startingPositionTop)):e.isHidden||(this.options.hideElement(e.$element),e.isHidden=!0);for(c=this.backgrounds.length-1;c>=0;c--)n=this.backgrounds[c],t=n.isFixed?0:1,i=this.options.horizontalScrolling?(u+n.horizontalOffset-this.viewportOffsetLeft-n.startingOffsetLeft+n.parentOffsetLeft-n.startingBackgroundPositionLeft)*(t-n.stellarRatio)+"px":n.startingValueLeft,r=this.options.verticalScrolling?(h+n.verticalOffset-this.viewportOffsetTop-n.startingOffsetTop+n.parentOffsetTop-n.startingBackgroundPositionTop)*(t-n.stellarRatio)+"px":n.startingValueTop,d(n.$element,i,r)}},_handleScrollEvent:function(){var e=this,t=!1,n=function(){e._repositionElements(),t=!1},i=function(){t||(f(n),t=!0)};this.$scrollElement.bind("scroll."+this.name,i),i()},_startAnimationLoop:function(){var e=this;this._animationLoop=function(){f(e._animationLoop),e._repositionElements()},this._animationLoop()}},e.fn[s]=function(t){var n=arguments;return t===i||"object"==typeof t?this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new r(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?this.each(function(){var i=e.data(this,"plugin_"+s);i instanceof r&&"function"==typeof i[t]&&i[t].apply(i,Array.prototype.slice.call(n,1)),"destroy"===t&&e.data(this,"plugin_"+s,null)}):void 0},e[s]=function(){var n=e(t);return n.stellar.apply(n,Array.prototype.slice.call(arguments,0))},e[s].scrollProperty=a,e[s].positionProperty=l,t.Stellar=r}(jQuery,this,document),define("stellar",["jquery"],function(){}),function(e){e.belowthefold=function(t,n){var i=e(window).height()+e(window).scrollTop();return i<=e(t).offset().top-n.threshold},e.abovethetop=function(t,n){var i=e(window).scrollTop();return i>=e(t).offset().top+e(t).height()-n.threshold},e.rightofscreen=function(t,n){var i=e(window).width()+e(window).scrollLeft();return i<=e(t).offset().left-n.threshold},e.leftofscreen=function(t,n){var i=e(window).scrollLeft();return i>=e(t).offset().left+e(t).width()-n.threshold},e.inviewport=function(t,n){return!(e.rightofscreen(t,n)||e.leftofscreen(t,n)||e.belowthefold(t,n)||e.abovethetop(t,n))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return e.abovethetop(t,{threshold:0})},"left-of-screen":function(t){return e.leftofscreen(t,{threshold:0})},"right-of-screen":function(t){return e.rightofscreen(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})}})}(jQuery),define("jquery.viewport",["jquery"],function(){}),define("app/views/HomeView",["require","exports","module","jquery","app/views/BaseView","app/channels","app/utils/helpers","app/utils/constants","hbs!templates/home","stellar","jquery.viewport"],function(e){var t=e("jquery"),n=e("app/views/BaseView"),i=(e("app/channels"),e("app/utils/helpers"),e("app/utils/constants"),e("hbs!templates/home"));return e("stellar"),e("jquery.viewport"),n.extend({className:"home page",template:i,ui:{masthead:".grid .intro .masthead",allMastheads:".grid .masthead",intro:".intro"},events:{},initialize:function(){t(window).on("scroll.page",_.bind(this.scrollEffects,this)),t(window).on("resize.page",_.bind(this.handleBackgrounds,this)),this.window=t(window),this.faded=!1,this.scrollPos=0},onShow:function(){t.stellar("refresh"),this.textBox=t(".intro .masthead .h10"),t(".grid .intro").stellar(),t.stellar({horizontalScrolling:!1,verticalOffset:0,horizontalOffset:0,responsive:!0}),t(".block-image:in-viewport").addClass("in-view"),this.handleBackgrounds()},scrollEffects:function(){this.scrollPos=this.window.scrollTop(),this.window.scrollTop()>150&&!this.faded?(this.textBox.addClass("fade-out"),this.faded=!0):this.window.scrollTop()<150&&this.faded&&(this.textBox.removeClass("fade-out"),this.faded=!1),t(".block-image:in-viewport").addClass("in-view")},handleBackgrounds:function(){var e=this.ui.masthead.innerHeight();this.ui.allMastheads.each(function(){t(this).parent().css("height",e)})},onDestroy:function(){t(window).off("page")}})}),define("hbs!templates/collections",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="grid">\n<section class="section intro">\n    <div class="masthead masthead-short masthead-4" data-stellar-ratio="0.5"></div>\n</section>\n\n<section class="section  has-max sub-grid">\n    <div class="col-1-2 col-left">\n        <div class="block block-1 block-86 block-image">\n            <a class="overaly-link" href="/collections/beyond-luxury">\n                <div class="overlay">\n                    <h4>Beyond Luxury</h4>\n                </div>\n            </a>\n        </div>\n        <div class="block block-2 block-66 aspect-114 block-image">\n            <a class="overaly-link" href="/collections/royal-sovereign">\n                <div class="overlay">\n                    <h4>Royal Sovereign</h4>\n                </div>\n            </a>\n        </div>\n        <div class="block-text block-text-1">\n            <h6 class="h8 bold">Royal<br/> Sovereign</h6>\n            <p>Handcrafted with natural materials for refined comfort. Sold exclusively at Bloomingdales.</p>\n        </div>\n        <div class="block block-link block-link-1">\n            <a href="/collections/royal-sovereign/" class="btn learn-more">learn more</a>\n        </div>\n        <div class="block block-3 block-66 aspect-1 block-image"></div>\n    </div>\n\n    <div class="col-1-2 col-right">\n        <div class="block-text block-text-2">\n            <h6 class="h8 bold">Beyond Luxury</h6>\n            <p>The worlds most luxurious materials woven with unparalleled craftsmanship. Sold exclusively at Bloomingdales.</p>\n        </div>\n        <div class="block block-link block-link-2">\n            <a href="/collections/beyond-luxury/" class="btn learn-more">learn more</a>\n        </div>\n        <div class="block block-4 block-100 aspect-75 block-image">\n            <a class="overaly-link" href="/collections/kluft-signature">\n                <div class="overlay">\n                    <h4>Kluft Signature</h4>\n                </div>\n            </a>\n        </div>\n        <div class="block-text block-text-3">\n            <h6 class="h8 bold">Kluft<br/> Signature</h6>\n            <p>Classic luxury interwoven with modern sophistication. Sold exclusively at Bloomingdales.</p>\n        </div>\n        <div class="block block-link block-link-3">\n            <a href="/collections/kluft-signature/" class="btn learn-more">learn more</a>\n        </div>\n        <div class="block block-5 block-66 aspect-114 block-image">\n            <a class="overaly-link" href="/collections/royal-sovereign-latex">\n                <div class="overlay">\n                    <h4>Royal Sovereign Latex</h4>\n                </div>\n            </a>\n        </div>\n        <div class="block-text block-text-4">\n            <h6 class="h8 bold">Royal<br/> Sovereign Latex</h6>\n            <p>Our bestselling collection handcrafted with man-made and natural materials. Sold exclusively at Bloomingdales.</p>\n        </div>\n        <div class="block block-link block-link-4">\n            <a href="/collections/royal-sovereign-latex/" class="btn learn-more">learn more</a>\n        </div>\n    </div>\n</section>\n</div>\n\n<div class="mobile-grid">\n    <section class="section intro">\n        <div class="masthead masthead-4"></div>\n    </section>\n\n    <div class="block block-1 block-image"></div>\n    <div class="block-text block-text-2">\n        <h6 class="h8 bold">Beyond Luxury</h6>\n        <p>The worlds most luxurious materials woven with unparalleled craftsmanship. Sold exclusively at Bloomingdales.</p>\n    </div>\n    <div class="block block-link">\n        <a href="/collections/beyond-luxury/" class="btn learn-more">learn more</a>\n    </div>\n\n    <div class="block block-2 block-image"></div>\n    <div class="block-text block-text-1">\n        <h6 class="h8 bold">Royal<br/> Sovereign</h6>\n        <p>Handcrafted with natural materials for refined comfort. Sold exclusively at Bloomingdales.</p>\n    </div>\n    <div class="block block-link">\n        <a href="/collections/royal-sovereign/" class="btn learn-more">learn more</a>\n    </div>\n\n    <div class="block block-4 block-image"></div>\n    <div class="block-text block-text-3">\n        <h6 class="h8 bold">Kluft<br/> Signature</h6>\n        <p>Classic luxury interwoven with modern sophistication. Sold exclusively at Bloomingdales.</p>\n    </div>\n    <div class="block block-link">\n        <a href="/collections/kluft-signature/" class="btn learn-more">learn more</a>\n    </div>\n    <div class="block block-5 block-image"></div>\n    <div class="block-text block-text-4">\n        <h6 class="h8 bold">Royal<br/> Sovereign Latex</h6>\n        <p>Our bestselling collection handcrafted with man-made and natural materials. Sold exclusively at Bloomingdales.</p>\n    </div>\n    <div class="block block-link block-link-4">\n        <a href="/collections/royal-sovereign-latex/" class="btn learn-more">learn more</a>\n    </div>\n</div>'
});return t.registerPartial("templates_collections",n),n}),define("app/views/CollectionView",["require","exports","module","jquery","app/views/BaseView","app/channels","app/utils/helpers","app/utils/constants","hbs!templates/collections","stellar","jquery.viewport"],function(e){var t=e("jquery"),n=e("app/views/BaseView"),i=(e("app/channels"),e("app/utils/helpers"),e("app/utils/constants"),e("hbs!templates/collections"));return e("stellar"),e("jquery.viewport"),n.extend({className:"collections page",template:i,ui:{masthead:".grid .intro .masthead"},events:{},initialize:function(){t(window).on("scroll.page",_.bind(this.scrollEffects,this)),t(window).on("resize.page",_.bind(this.handleBackgrounds,this)),this.window=t(window),this.faded=!1},onShow:function(){t.stellar("refresh"),this.textBox=t(".intro .masthead .text-box"),t.stellar({horizontalScrolling:!1,verticalOffset:0,horizontalOffset:0,responsive:!0}),t(".block-image:in-viewport").addClass("in-view"),this.handleBackgrounds()},scrollEffects:function(){this.window.scrollTop()>150&&!this.faded?(this.textBox.addClass("fade-out"),this.faded=!0):this.window.scrollTop()<150&&this.faded&&(this.textBox.removeClass("fade-out"),this.faded=!1),t(".block-image:in-viewport").addClass("in-view")},handleBackgrounds:function(){var e=this.ui.masthead.innerHeight();this.ui.masthead.parent().css("height",e)},onDestroy:function(){t(window).off("page")}})}),define("hbs!templates/about",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="grid">\n<section class="section intro">\n    <div class="masthead masthead-4" data-stellar-ratio="0.5">\n        <div class="text-box">\n            <div class="text-wrap">\n                <h2 class="h2 inverted">Earl S. Kluft</h2>\n                <h6 class="h7 inverted">A life dedicated to evolving the luxury sleep experience.</h6>\n            </div>\n        </div>\n    </div>\n</section>\n\n<section class="section  has-max sub-grid">\n    <div class="col-1-2 col-left">\n        <div class="block block-1 block-100 aspect-92 block-image"></div>\n        <div class="block-text block-text-1">\n        <h6 class="h8 bold">Kluft Heritage</h6>\n            <p>Through three generations, the Kluft family has mastered the luxury mattress. As a world-class master craftsman, Earl S. Kluft has built on this heritage with his opulent, signature creations. Early in his career he single-handedly defined world-class comfort with the first of his many masterpieces. Kluft craftsmanship now sets the universal standard for sophistication and refinement.</p>\n        </div>\n        <div class="block-text block-text-2">\n            <h6 class="h8 bold">Kluft Today</h6>\n            <p>For Earl, perfection is a journey, not a destination. He pushes the boundaries of craftsmanship and technology, fusing all-natural materials with a passion for design innovation. His latest endeavor is the culmination of generations of hard work, knowledge and experience that could only be called by his own name, Kluft.</p>\n        </div>\n    </div>\n\n    <div class="col-1-2 col-right">\n        <div class="block-text block-text-3">\n            <h6 class="h6 bold">"Its taken a lot of<br/> sleepless nights<br/> to craft the perfect<br/> night\'s sleep."</h6>\n            <h6 class="h7">- Earl S. Kluft</h6>\n        </div>\n        <div class="block block-2 block-100 aspect-58 block-image"></div>\n        <div class="block block-3 block-70 aspect-114 block-image"></div>\n    </div>\n</section>\n</div>\n\n<div class="mobile-grid">\n    <section class="section intro">\n        <div class="masthead masthead-4">\n            <div class="text-box">\n                <div class="text-wrap">\n                    <h2 class="h2 inverted">Earl S. Kluft</h2>\n                    <h6 class="h7 inverted">A life dedicated to evolving the luxury sleep experience.</h6>\n                </div>\n            </div>\n        </div>\n    </section>\n\n    <div class="block block-1 block-image"></div>\n    <div class="block-text block-text-1">\n        <h6 class="h8 bold">Kluft Heritage</h6>\n        <p>Through three generations, the Kluft family has mastered the luxury mattress. As a world-class master craftsman, Earl S. Kluft has built on this heritage with his opulent, signature creations. Early in his career he single-handedly defined world-class comfort with the first of his many masterpieces. Kluft craftsmanship now sets the universal standard for sophistication and refinement.</p>\n    </div>\n\n    <div class="block block-2 block-image"></div>\n    <div class="block-text block-text-2">\n        <h6 class="h8 bold">Kluft Today</h6>\n        <p>For Earl, perfection is a journey, not a destination. He pushes the boundaries of craftsmanship and technology, fusing all-natural materials with a passion for design innovation. His latest endeavor is the culmination of generations of hard work, knowledge and experience that could only be called by his own name, Kluft.</p>\n    </div>\n\n    <div class="block block-3 block-image"></div>\n\n    <div class="block-text block-text-3">\n        <h6 class="h6 bold">"Its taken a lot of<br/> sleepless nights<br/> to craft the perfect<br/> night\'s sleep."</h6>\n        <h6 class="h7">- Earl S. Kluft</h6>\n    </div>\n\n</div>'});return t.registerPartial("templates_about",n),n}),define("app/views/AboutView",["require","exports","module","jquery","app/views/BaseView","app/channels","app/utils/helpers","app/utils/constants","hbs!templates/about","stellar","jquery.viewport"],function(e){var t=e("jquery"),n=e("app/views/BaseView"),i=(e("app/channels"),e("app/utils/helpers"),e("app/utils/constants"),e("hbs!templates/about"));return e("stellar"),e("jquery.viewport"),n.extend({className:"about page",template:i,ui:{masthead:".grid .intro .masthead"},events:{},initialize:function(){t(window).on("scroll.page",_.bind(this.scrollEffects,this)),t(window).on("resize.page",_.bind(this.handleBackgrounds,this)),this.window=t(window),this.faded=!1},onShow:function(){t.stellar("refresh"),this.textBox=t(".grid .intro .masthead .text-box"),t.stellar({horizontalScrolling:!1,verticalOffset:0,horizontalOffset:0,responsive:!0}),t(".block-image:in-viewport").addClass("in-view"),this.handleBackgrounds()},scrollEffects:function(){this.window.scrollTop()>150&&!this.faded?(this.textBox.addClass("fade-out"),this.faded=!0):this.window.scrollTop()<150&&this.faded&&(this.textBox.removeClass("fade-out"),this.faded=!1),t(".block-image:in-viewport").addClass("in-view")},handleBackgrounds:function(){var e=this.ui.masthead.innerHeight();this.ui.masthead.parent().css("height",e)},onDestroy:function(){t(window).off("page")}})}),define("hbs!templates/kluft-standard",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="grid">\n<section class="section intro">\n    <div class="masthead  masthead-short masthead-4" data-stellar-ratio="0.5">\n        <div class="text-box">\n            <div class="text-wrap">\n                <h2 class="h2">The Kluft Standard&trade;</h2>\n                <h6 class="h7">The patent by which we measure the perfect nights sleep.</h6>\n            </div>\n        </div>\n    </div>\n</section>\n\n<section class="section  has-max sub-grid">\n    <div class="col-1-2 col-left">\n        <div class="block block-1 block-87 block-image"></div>\n    </div>\n\n    <div class="col-1-2 col-right">\n        <div class="block-text block-text-1">\n            <h6 class="h8 bold">The Kluft Standard&trade;</h6>\n            <p>Earl S. Kluft has reimagined the industry with The Kluft Standard, a natural chamber of air between the springs and the mattress-top. When this chamber meets the adaptive layers of plush materials, the bed completely synchronizes with your body creating the most refined luxury sleep ever devised. Unmistakably the work of a master.</p>\n            <p>This patented process and construction can only be found on the mattresses made by E.S. Kluft and Co.</p>\n        </div>\n        <div class="block block-link block-link-1">\n            <a href="/retailers/" class="btn learn-more">Find a Retailer</a>\n        </div>\n    </div>\n</section>\n</div>\n\n<div class="mobile-grid">\n    <section class="section intro">\n        <div class="masthead masthead-4">\n            <div class="text-box">\n                <div class="text-wrap">\n                    <h2 class="h2">The Kluft Standard&trade;</h2>\n                    <h6 class="h7">The patent by which we measure the perfect nights sleep.</h6>\n                </div>\n            </div>\n        </div>\n    </section>\n\n\n\n    <div class="block-text block-text-1">\n        <h6 class="h8 bold">The Kluft Standard&trade;</h6>\n        <p>Earl S. Kluft has reimagined the industry with The Kluft Standard, a natural chamber of air between the springs and the mattress-top. When this chamber meets the adaptive layers of plush materials, the bed completely synchronizes with your body creating the most refined luxury sleep ever devised. Unmistakably the work of a master.</p>\n        <p>This patented process and construction can only be found on the mattresses made by E.S. Kluft and Co.</p>\n    </div>\n    <div class="block block-link block-link-1">\n        <a href="/retailers/" class="btn learn-more">Find a Retailer</a>\n    </div>\n\n    <div class="block block-1 block-image"></div>\n</div>'});return t.registerPartial("templates_kluft-standard",n),n}),define("app/views/KluftStandardView",["require","exports","module","jquery","app/views/BaseView","app/channels","app/utils/helpers","app/utils/constants","hbs!templates/kluft-standard","stellar","jquery.viewport"],function(e){var t=e("jquery"),n=e("app/views/BaseView"),i=(e("app/channels"),e("app/utils/helpers"),e("app/utils/constants"),e("hbs!templates/kluft-standard"));return e("stellar"),e("jquery.viewport"),n.extend({className:"kluft-standard page",template:i,ui:{masthead:".grid .intro .masthead"},events:{},initialize:function(){t(window).on("scroll.page",_.bind(this.scrollEffects,this)),t(window).on("resize.page",_.bind(this.handleBackgrounds,this)),this.window=t(window),this.faded=!1},onShow:function(){t.stellar("refresh"),this.textBox=t(".intro .masthead .text-box"),t(".block-image:in-viewport").addClass("in-view"),t.stellar({horizontalScrolling:!1,verticalOffset:0,horizontalOffset:0,responsive:!0}),this.handleBackgrounds()},scrollEffects:function(){this.window.scrollTop()>150&&!this.faded?(this.textBox.addClass("fade-out"),this.faded=!0):this.window.scrollTop()<150&&this.faded&&(this.textBox.removeClass("fade-out"),this.faded=!1),t(".block-image:in-viewport").addClass("in-view")},onDestroy:function(){t(window).off("page")},handleBackgrounds:function(){var e=this.ui.masthead.innerHeight();this.ui.masthead.parent().css("height",e)}})}),define("hbs!templates/beyond-luxury",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="grid">\n<section class="section intro">\n    <div class="masthead masthead-1" data-stellar-ratio="0.5">\n        <div class="text-box">\n            <div class="text-wrap">\n                <h4 class="h4 inverted">Beyond<br/> Luxury</h4>\n                <h6 class="h7 inverted">The worlds most luxurious materials woven with unparalleled craftsmanship. Sold exclusively at Bloomingdale\'s.</h6>\n            </div>\n        </div>\n    </div>\n</section>\n\n<section class="section  has-max sub-grid">\n    <div class="col-1-2 col-left">\n        <div class="block block-1 block-100 aspect-92 block-image"></div>\n        <div class="block-text block-text-1">\n            <h6 class="h8 bold">Beyond<br/> Comfort</h6>\n            <p>The Beyond Luxury collection is a marriage of old world artisanship and new world technique. Designed with the aid of a sophisticated body mapping system, its the most advanced mattress ever designed. Weve brought rigorous tailoring with a mind for the details: traditional hand side-stitching, individually inserted hand tufts and an unmatched imported nested coil system.</p>\n        </div>\n    </div>\n\n    <div class="col-1-2 col-right">\n        <div class="block-text block-text-2">\n            <h6 class="h8 bold">Featuring<br/> The Palais Royale</h6>\n            <p>Made by masters. Fit for a king. The Palais Royale is truly Beyond Luxury. Its handcrafted with layer upon layer of the worlds finest materials to provide maximum pressure relief, extraordinary support and unsurpassed comfort. Inside youll find luxurious cashmere, Joma wool, prime cotton and Talalay latex, materials that cradle the body in total lavishness.</p>\n        </div>\n        <div class="block block-2 block-100 aspect-58 block-image"></div>\n        <div class="block block-3 block-60 aspect-1 block-image"></div>\n    </div>\n</section>\n</div>\n\n<div class="mobile-grid">\n    <section class="section intro">\n        <div class="masthead masthead-1">\n            <div class="text-box">\n                <div class="text-wrap">\n                    <h4 class="h4 inverted">Beyond<br/> Luxury</h4>\n                    <h6 class="h7 inverted">The worlds most luxurious materials woven with unparalleled craftsmanship.</h6>\n                </div>\n            </div>\n        </div>\n    </section>\n\n\n    <div class="block-text block-text-1">\n        <h6 class="h8 bold">Beyond<br/> Comfort</h6>\n        <p>The Beyond Luxury collection is a marriage of old world artisanship and new world technique. Designed with the aid of a sophisticated body mapping system, its the most advanced mattress ever designed. Weve brought rigorous tailoring with a mind for the details: traditional hand side-stitching, individually inserted hand tufts and an unmatched imported nested coil system.</p>\n    </div>\n    <div class="block block-1 block-100 block-image"></div>\n\n\n    <div class="block-text block-text-2">\n        <h6 class="h8 bold">Featuring<br/> The Palais Royal</h6>\n        <p>Made by masters. Fit for a king. The Palais Royale is truly Beyond Luxury. Its handmade with layer upon layer of the worlds finest materials to provide maximum pressure relief, extraordinary support and unsurpassed comfort. Inside youll find luxurious cashmere, Joma wool, prime cotton and Talalay latex, materials that cradle the body in total lavishness.</p>\n    </div>\n    <div class="block block-2 block-image"></div>\n    <div class="block block-3 block-image"></div>\n</div>'});return t.registerPartial("templates_beyond-luxury",n),n}),define("app/views/BeyondLuxuryView",["require","exports","module","jquery","app/views/BaseView","app/channels","app/utils/helpers","app/utils/constants","hbs!templates/beyond-luxury","stellar","jquery.viewport"],function(e){var t=e("jquery"),n=e("app/views/BaseView"),i=(e("app/channels"),e("app/utils/helpers"),e("app/utils/constants"),e("hbs!templates/beyond-luxury"));return e("stellar"),e("jquery.viewport"),n.extend({className:"beyond-luxury page",template:i,ui:{masthead:".grid .intro .masthead"},events:{},initialize:function(){t(window).on("scroll.page",_.bind(this.scrollEffects,this)),t(window).on("resize.page",_.bind(this.handleBackgrounds,this)),this.window=t(window),this.faded=!1},onShow:function(){t.stellar("refresh"),this.textBox=t(".intro .masthead .text-box"),t(".block-image:in-viewport").addClass("in-view"),t.stellar({horizontalScrolling:!1,verticalOffset:0,horizontalOffset:0,responsive:!0}),this.handleBackgrounds()},scrollEffects:function(){this.window.scrollTop()>250&&!this.faded?(this.textBox.addClass("fade-out"),this.faded=!0):this.window.scrollTop()<250&&this.faded&&(this.textBox.removeClass("fade-out"),this.faded=!1),t(".block-image:in-viewport").addClass("in-view")},handleBackgrounds:function(){var e=this.ui.masthead.innerHeight();this.ui.masthead.parent().css("height",e)},onDestroy:function(){t(window).off("page")}})}),define("hbs!templates/kluft-signature",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="grid">\n<section class="section intro">\n    <div class="masthead masthead-1" data-stellar-ratio="0.5">\n        <div class="text-box">\n            <div class="text-wrap">\n                <h4 class="h4 inverted">Kluft<br/> Signature</h4>\n                <h6 class="h7 inverted">Classic luxury interwoven with modern sophistication. Sold exclusively at Bloomingdale\'s.</h6>\n            </div>\n        </div>\n    </div>\n</section>\n\n<section class="section  has-max sub-grid">\n    <div class="col-1-2 col-left">\n        <div class="block block-1 block-100 aspect-75"></div>\n        <div class="block-text block-text-1">\n            <h6 class="h8 bold">Superior<br/> Craftsmanship</h6>\n            <p>Signed by the master himself, Earl S. Klufts singular construction techniques help the Signature Collection leave a lasting impression. The hand tufting secures the inner layers and enhances performance and durability while a reinforced perimeter support design increases the sleeping area and gives the mattress long life.</p>\n        </div>\n        <div class="block block-2 block-70 aspect-58 block-image"></div>\n    </div>\n\n    <div class="col-1-2 col-right">\n        <div class="block-text block-text-2">\n            <h6 class="h8 bold">The<br/> Finest Materials</h6>\n            <p>True to Earl S. Klufts roots, while exploring the latest innovations, the materials in the Kluft Signature collection represent the full spectrum of master inspiration. Inside youll find the naturally cooling properties of horsetail, over five pounds of cashmere to reduce pressure points and natural Talalay latex to give a fully responsive surface.</p>\n        </div>\n        <div class="block block-3 block-66 aspect-114 block-image"></div>\n    </div>\n</section>\n</div>\n\n<div class="mobile-grid">\n    <section class="section intro">\n        <div class="masthead masthead-1">\n            <div class="text-box">\n                <div class="text-wrap">\n                    <h4 class="h4 inverted">Kluft<br/> Signature</h4>\n                    <h6 class="h7 inverted">Classic luxury interwoven with modern sophistication.</h6>\n                </div>\n            </div>\n        </div>\n    </section>\n\n    <div class="block block-1 block-image"></div>\n    <div class="block-text block-text-1">\n        <h6 class="h8 bold">Superior<br/> Craftsmanship</h6>\n        <p>Signed by the master himself, Earl S. Klufts singular construction techniques help the Signature Collection leave a lasting impression. The hand tufting secures the inner layers and enhances their performance and durability while flexible cross lacing widens the sleeping area and gives the mattress long life.</p>\n    </div>\n    <div class="block block-2 block-image"></div>\n\n    <div class="block-text block-text-2">\n        <h6 class="h8 bold">The<br/> Finest Materials</h6>\n        <p>True to Earl S. Klufts roots, while exploring the latest innovations, the materials in the Kluft Signature collection represent the full spectrum of master inspiration. Inside youll find the naturally cooling properties of horsetail, over five pounds of cashmere to reduce pressure points and natural Talalay latex to give a fully responsive surface.</p>\n    </div>\n    <div class="block block-3 block-image"></div>\n</div>'});return t.registerPartial("templates_kluft-signature",n),n}),define("app/views/KluftSignatureView",["require","exports","module","jquery","app/views/BaseView","app/channels","app/utils/helpers","app/utils/constants","hbs!templates/kluft-signature","stellar","jquery.viewport"],function(e){var t=e("jquery"),n=e("app/views/BaseView"),i=(e("app/channels"),e("app/utils/helpers"),e("app/utils/constants"),e("hbs!templates/kluft-signature"));return e("stellar"),e("jquery.viewport"),n.extend({className:"kluft-signature page",template:i,ui:{masthead:".grid .intro .masthead"},events:{},initialize:function(){t(window).on("scroll.page",_.bind(this.scrollEffects,this)),t(window).on("resize.page",_.bind(this.handleBackgrounds,this)),this.window=t(window),this.faded=!1},onShow:function(){t.stellar("refresh"),this.textBox=t(".intro .masthead .text-box"),t.stellar({horizontalScrolling:!1,verticalOffset:0,horizontalOffset:0,responsive:!0}),t(".block-image:in-viewport").addClass("in-view"),this.handleBackgrounds()},scrollEffects:function(){this.window.scrollTop()>250&&!this.faded?(this.textBox.addClass("fade-out"),this.faded=!0):this.window.scrollTop()<250&&this.faded&&(this.textBox.removeClass("fade-out"),this.faded=!1),t(".block-image:in-viewport").addClass("in-view")},onDestroy:function(){t(window).off("page")},handleBackgrounds:function(){var e=this.ui.masthead.innerHeight();this.ui.masthead.parent().css("height",e)}})}),define("hbs!templates/royal-sovereign",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="grid">\n<section class="section intro">\n    <div class="masthead masthead-1" data-stellar-ratio="0.5">\n        <div class="text-box light">\n            <div class="text-wrap">\n                <h4 class="h4">Royal<br/> Sovereign</h4>\n                <h6 class="h7">Handcrafted with natural materials for refined comfort. Sold exclusively at Bloomingdale\'s.</h6>\n            </div>\n        </div>\n    </div>\n</section>\n\n<section class="section  has-max sub-grid">\n    <div class="col-1-2 col-left">\n\n        <div class="block-text block-text-1">\n            <h6 class="h8 bold">Sophisticated<br/> Layers of Comfort</h6>\n            <p>The Royal Sovereign collection is made with a focus on natural materials that have defined international luxury for decades. Enjoy a sleeping surface of rich Belgian damasks quilted with high performance foams for maximum comfort and pressure relief. Inside you\'ll find layers of ventilated Talalay latex, quilted cotton and visco elastic memory foam.</p>\n        </div>\n        <div class="block block-1 block-70 aspect-114 block-image"></div>\n    </div>\n\n    <div class="col-1-2 col-right">\n        <div class="block block-2 block-100 aspect-75 block-image"></div>\n        <div class="block-text block-text-2">\n            <h6 class="h8 bold">Constructed<br/> for Royalty</h6>\n            <p>The Royal Sovereign collection is built on top of an 8-way hand-tied foundation on sustainable forest lumber. This level of master precision supports the entirety of the mattress, allowing for an even, exact construction that remains durable and beautiful. Then, we add individually wrapped coils to provide a reactive system that enhances every nights sleep to perfection.</p>\n        </div>\n    </div>\n</section>\n</div>\n\n<div class="mobile-grid">\n    <section class="section intro">\n        <div class="masthead masthead-1">\n            <div class="text-box light">\n                <div class="text-wrap">\n                    <h4 class="h4">Royal<br/> Sovereign</h4>\n                    <h6 class="h7">Handcrafted with natural materials for refined comfort. Sold exclusively at Bloomingdales.</h6>\n                </div>\n            </div>\n        </div>\n    </section>\n\n    <div class="block block-2 block-image"></div>\n    <div class="block-text block-text-1">\n        <h6 class="h8 bold">Sophisticated<br/> Layers of Comfort</h6>\n        <p>The Royal Sovereign collection is made with a focus on natural materials that have defined international luxury for decades. Inside youll find layers of imported horsetail, cashmere, quilted cotton, Visco elastic memory foam and Joma wool. Enjoy a sleeping surface of rich Belgian damasks quilted with high performance foams for maximum comfort and pressure relief.</p>\n    </div>\n\n    <div class="block block-1 block-image"></div>\n\n    <div class="block-text block-text-2">\n        <h6 class="h8 bold">Constructed<br/> for Royalty</h6>\n        <p>The Royal Sovereign collection is built on top of an 8-way hand-tied foundation on sustainable forest lumber. This level of master precision supports the entirety of the mattress, allowing for an even, exact construction that remains durable and beautiful. Then, we add individually wrapped coils to provide a reactive system that enhances every nights sleep to perfection.</p>\n    </div>\n</div>'});return t.registerPartial("templates_royal-sovereign",n),n}),define("app/views/RoyalSovereignView",["require","exports","module","jquery","app/views/BaseView","app/channels","app/utils/helpers","app/utils/constants","hbs!templates/royal-sovereign","stellar","jquery.viewport"],function(e){var t=e("jquery"),n=e("app/views/BaseView"),i=(e("app/channels"),e("app/utils/helpers"),e("app/utils/constants"),e("hbs!templates/royal-sovereign"));return e("stellar"),e("jquery.viewport"),n.extend({className:"royal-sovereign page",template:i,ui:{masthead:".grid .intro .masthead"},events:{},initialize:function(){t(window).on("scroll.page",_.bind(this.scrollEffects,this)),t(window).on("resize.page",_.bind(this.handleBackgrounds,this)),this.window=t(window),this.faded=!1},onShow:function(){t.stellar("refresh"),this.textBox=t(".intro .masthead .text-box"),t(".block-image:in-viewport").addClass("in-view"),t.stellar({horizontalScrolling:!1,verticalOffset:0,horizontalOffset:0,responsive:!0}),this.handleBackgrounds()},scrollEffects:function(){this.window.scrollTop()>250&&!this.faded?(this.textBox.addClass("fade-out"),this.faded=!0):this.window.scrollTop()<250&&this.faded&&(this.textBox.removeClass("fade-out"),this.faded=!1),t(".block-image:in-viewport").addClass("in-view")},onDestroy:function(){t(window).off("page")},handleBackgrounds:function(){var e=this.ui.masthead.innerHeight();this.ui.masthead.parent().css("height",e)}})}),define("hbs!templates/royal-sovereign-latex",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="grid">\n<section class="section intro">\n    <div class="masthead masthead-1" data-stellar-ratio="0.5">\n        <div class="text-box light">\n            <div class="text-wrap">\n                <h4 class="h4">Royal<br/> Sovereign<br/> Latex</h4>\n                <h6 class="h7">Our bestselling collection, handcrafted with man-made and natural materials. Sold exclusively at Bloomingdale\'s.</h6>\n            </div>\n        </div>\n    </div>\n</section>\n\n<section class="section  has-max sub-grid">\n    <div class="col-1-2 col-left">\n\n        <div class="block-text block-text-1">\n            <h6 class="h8 bold">Renowned<br/> Comfort</h6>\n            <p>Earl S. Kluft crafted the Royal Sovereign Latex collection to excel in adaptive comfort. The surface conforms to your body with a special 4-way heavyweight knit that is unmatched in the industry. A layer of QuiltFlex&trade;, combined with 100% cotton Tricot layer creates the ultimate sleeping surface.</p>\n        </div>\n        <div class="block block-1 block-70 aspect-114 block-image"></div>\n    </div>\n\n    <div class="col-1-2 col-right">\n        <div class="block block-2 block-100 aspect-75 block-image"></div>\n        <div class="block-text block-text-2">\n            <h6 class="h8 bold">The Royal<br/> Treatment</h6>\n            <p>Inside every Royal Soveign Latex, there are layers of natural Talalay latex, the finest natural support system. Its open-cell structure allows for excellent airflow and responsive support that minimizes pressure points.  Then we add tiers of luxurious upholstery and Visco elastic memory foam to assist the latex for a healthier sleep that lasts the lifetime of the mattress.</p>\n        </div>\n    </div>\n</section>\n</div>\n\n<div class="mobile-grid">\n    <section class="section intro">\n        <div class="masthead masthead-1">\n            <div class="text-box light">\n                <div class="text-wrap">\n                    <h4 class="h4">Royal<br/> Sovereign<br/> Latex</h4>\n                    <h6 class="h7">Our bestselling collection, handcrafted with man-made and natural materials. Sold exclusively at Bloomingdales.</h6>\n                </div>\n            </div>\n        </div>\n    </section>\n\n    <div class="block block-2 block-image"></div>\n    <div class="block-text">\n        <h6 class="h8 bold">Renowned<br/> Comfort</h6>\n        <p>Earl S. Kluft crafted the Royal Sovereign Latex collection to excel in adaptive comfort. The surface conforms to your body with a special 4-way heavyweight knit that is unmatched in the industry. Beneath the surface, youll find individually wrapped coils and 8-way hand-tied foundations that respond to every sleep position for luxurious support.</p>\n    </div>\n\n    <div class="block block-1 block-image"></div>\n    <div class="block-text">\n        <h6 class="h8 bold">The Royal<br/> Treatment</h6>\n        <p>Inside every Royal Soveign Latex, there are layers of natural Talalay latex, the finest natural support system. Its open-cell structure allows for excellent airflow and responsive support that minimizes pressure points.  Then we add tiers of luxurious upholstery and Visco elastic memory foam to assist the latex for a healthier sleep that lasts the lifetime of the mattress.</p>\n    </div>\n</div>'});return t.registerPartial("templates_royal-sovereign-latex",n),n}),define("app/views/RoyalSovereignLatexView",["require","exports","module","jquery","app/views/BaseView","app/channels","app/utils/helpers","app/utils/constants","hbs!templates/royal-sovereign-latex","stellar","jquery.viewport"],function(e){var t=e("jquery"),n=e("app/views/BaseView"),i=(e("app/channels"),e("app/utils/helpers"),e("app/utils/constants"),e("hbs!templates/royal-sovereign-latex"));return e("stellar"),e("jquery.viewport"),n.extend({className:"royal-sovereign-latex page",template:i,ui:{masthead:".grid .intro .masthead"},events:{},initialize:function(){t(window).on("scroll.page",_.bind(this.scrollEffects,this)),t(window).on("resize.page",_.bind(this.handleBackgrounds,this)),this.window=t(window),this.faded=!1},onShow:function(){t.stellar("refresh"),this.textBox=t(".intro .masthead .text-box"),t.stellar({horizontalScrolling:!1,verticalOffset:0,horizontalOffset:0,responsive:!0}),t(".block-image:in-viewport").addClass("in-view"),this.handleBackgrounds()},scrollEffects:function(){this.window.scrollTop()>250&&!this.faded?(this.textBox.addClass("fade-out"),this.faded=!0):this.window.scrollTop()<250&&this.faded&&(this.textBox.removeClass("fade-out"),this.faded=!1),t(".block-image:in-viewport").addClass("in-view")},onDestroy:function(){t(window).off("page")},handleBackgrounds:function(){var e=this.ui.masthead.innerHeight();this.ui.masthead.parent().css("height",e)}})}),define("hbs!templates/contact",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<section class="section intro">\n    <div class="masthead masthead-short " data-stellar-ratio="0.5">\n        <div class="text-box">\n            <div class="text-wrap">\n                <h2 class="h2">Contact Kluft</h2>\n            </div>\n        </div>\n    </div>\n</section>\n\n<div class="form-wrapper">\n\n    <h4>Questions? Comments? Fill out the form below and a customer service representative will answer your inquiry.</h4>\n\n    <form action="" method="post" class="contact-form">\n        <input type="text" class="email" name="email" placeholder="Your email address" id="email" />\n        <textarea class="message" name="message" rows="20" placeholder="Enter your message here." cols="20" id="message"></textarea>\n        <div class="errors"></div>\n        <div class="success"></div>\n        <input class="btn submit" type="submit" name="submit" value="Submit" />\n    </form>\n\n</div>'
});return t.registerPartial("templates_contact",n),n}),define("app/views/ContactView",["require","exports","module","jquery","app/views/BaseView","app/channels","app/utils/helpers","app/utils/constants","hbs!templates/contact","jquery.viewport"],function(e){var t=e("jquery"),n=e("app/views/BaseView"),i=(e("app/channels"),e("app/utils/helpers")),r=(e("app/utils/constants"),e("hbs!templates/contact"));return e("jquery.viewport"),n.extend({className:"contact page",template:r,ui:{email:".email",submitBtn:".submit",form:"form",errors:".errors",success:".success",masthead:".grid .intro .masthead",intro:".intro"},events:{"click @ui.submitBtn":"onFormSubmit"},initialize:function(){t(window).on("scroll.page",_.bind(this.scrollEffects,this)),t(window).on("resize.page",_.bind(this.handleBackgrounds,this)),this.window=t(window),this.faded=!1},scrollEffects:function(){this.scrollPos=this.window.scrollTop(),this.window.scrollTop()>150&&!this.faded?(this.textBox.addClass("fade-out"),this.faded=!0):this.window.scrollTop()<150&&this.faded&&(this.textBox.removeClass("fade-out"),this.faded=!1),t(".block-image:in-viewport").addClass("in-view")},onShow:function(){this.textBox=t(".intro .masthead .text-box"),t(".block-image:in-viewport").addClass("in-view")},setBackgroundSize:function(){},onFormSubmit:function(e){if(console.log("SUBMIT"),e.stopPropagation(),e.preventDefault(),this.resetErrors(),i.validEmail(this.ui.email.val())!==!0&&this.addError("Please enter a valid email address",this.ui.email),0===this.errors.length){var n=this;console.log("NO ERRORS"),t.ajax({url:window.location.origin+"/form",type:"post",dataType:"json",data:this.ui.form.serialize(),success:function(){n.onSuccess()}}),this.onSuccess()}else this.showErrors()},resetErrors:function(){this.errors=[],this.ui.errors.empty(),t(".error").removeClass(".error")},addError:function(e,t){this.errors.push(e),t.addClass("error")},showErrors:function(){var e=t("<p>").addClass("error");e.text("Please provide a valid email").appendTo(this.ui.errors),e.appendTo(this.ui.errors),this.$el.addClass("errors-showing")},onSuccess:function(){var e=t("<p>");this.$el.addClass("success-showing"),e.text("Message sent.").appendTo(this.ui.success),e.appendTo(this.ui.success)},handleBackgrounds:function(){var e=this.ui.masthead.innerHeight();this.ui.masthead.parent().css("height",e)}})}),define("hbs!templates/method",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="grid">\n<section class="section intro">\n    <div class="masthead  masthead-short masthead-4" data-stellar-ratio="0.5">\n        <div class="text-box">\n            <div class="text-wrap">\n                <h2 class="h2 inverted">The Method</h2>\n                <h6 class="h7 inverted">There is a method to our mastery. Its how we bring sophistication and precision to every mattress.</h6>\n            </div>\n        </div>\n    </div>\n</section>\n\n<section class="section  has-max sub-grid">\n    <div class="col-1-2 col-left">\n        <div class="block block-1 block-86 block-image"></div>\n        <div class="block-text block-text-1">\n            <h6 class="h8 bold">Superior Materials</h6>\n            <p>We set the highest standard for the materials that are selected. Spanning the globe, weve found the finest natural and modern fabrics and fibers to ensure the ultimate in quality.</p>\n        </div>\n        <div class="block block-2 block-66 aspect-114 block-image"></div>\n        <div class="block-text block-text-2">\n            <h6 class="h8 bold">Tradition of Excellence</h6>\n            <p>Led by Earl S. Kluft, our team masters have dedicated their lives to the craft of mattress making. Were forever evolving luxury to keep pace with changing ideals.</p>\n        </div>\n    </div>\n\n    <div class="col-1-2 col-right">\n        <div class="block-text block-text-3">\n            <h6 class="h8 bold">Hand Craftsmanship</h6>\n            <p>Crafting every mattress by hand ensures the highest attention is paid to every detail. This master level of precision and artistry influences everything we create.</p>\n        </div>\n        <div class="block block-3 block-70 aspect-1 block-image"></div>\n        <div class="block-text block-text-4">\n            <h6 class="h8 bold">Luxury Comfort</h6>\n            <p>Kluft mattresses set the universal standard for living life at its most luxurious. This high-class level of comfort is for those who demand the very best.</p>\n        </div>\n        <div class="block block-4 block-100 aspect-58 block-image"></div>\n        <div class="block-double">\n            <div class="block block-5 block-40 aspect-1"></div>\n            <div class="block block-6 block-40 aspect-1"></div>\n        </div>\n    </div>\n</section>\n</div>\n\n<div class="mobile-grid">\n<section class="section intro">\n    <div class="masthead masthead-4">\n        <div class="text-box">\n            <div class="text-wrap">\n                <h2 class="h2 inverted">The Method</h2>\n                <h6 class="h7 inverted">There is a method to our mastery. Its how we bring sophistication and precision to every mattress.</h6>\n            </div>\n        </div>\n    </div>\n</section>\n\n\n    <div class="block block-4 block-100 aspect-58"></div>\n    <div class="block-text block-text-1">\n        <h6 class="h8 bold">Superior Materials</h6>\n        <p>We set the highest standard for the materials that are selected. Spanning the globe, weve found the finest natural and modern fabrics and fibers to ensure the ultimate in quality.</p>\n    </div>\n    <div class="block block-2 block-66 aspect-114"></div>\n    <div class="block-text block-text-2">\n        <h6 class="h8 bold">Tradition of Excellence</h6>\n        <p>Led by Earl S. Kluft, our team masters have dedicated their lives to the craft of mattress making. Were forever evolving luxury to keep pace with changing ideals.</p>\n    </div>\n    <div class="block block-1 block-86"></div>\n    <div class="block block-3 block-70"></div>\n\n    <div class="block-text block-text-3">\n        <h6 class="h8 bold">Hand Craftsmanship</h6>\n        <p>Crafting every mattress by hand ensures the highest attention is paid to every detail. This master level of precision and artistry influences everything we create.</p>\n    </div>\n    <div class="block block-5 block-100"></div>\n\n    <div class="block-text block-text-4">\n        <h6 class="h8 bold">Luxury Comfort</h6>\n        <p>Kluft mattresses set the universal standard for living life at its most luxurious. This high-class level of comfort is for those who demand the very best.</p>\n    </div>\n\n    <div class="block block-6 block-40 aspect-1"></div>\n</div>'});return t.registerPartial("templates_method",n),n}),define("app/views/MethodView",["require","exports","module","jquery","app/views/BaseView","app/channels","app/utils/helpers","app/utils/constants","hbs!templates/method","stellar","jquery.viewport"],function(e){var t=e("jquery"),n=e("app/views/BaseView"),i=(e("app/channels"),e("app/utils/helpers"),e("app/utils/constants"),e("hbs!templates/method"));return e("stellar"),e("jquery.viewport"),n.extend({className:"method page",template:i,ui:{masthead:".grid .intro .masthead"},events:{},initialize:function(){t(window).on("scroll.page",_.bind(this.scrollEffects,this)),t(window).on("resize.page",_.bind(this.handleBackgrounds,this)),this.window=t(window),this.faded=!1},onShow:function(){t.stellar("refresh"),this.textBox=t(".intro .masthead .text-box"),t.stellar({horizontalScrolling:!1,verticalOffset:0,horizontalOffset:0,responsive:!0}),t(".block-image:in-viewport").addClass("in-view"),this.handleBackgrounds()},scrollEffects:function(){this.window.scrollTop()>150&&!this.faded?(this.textBox.addClass("fade-out"),this.faded=!0):this.window.scrollTop()<150&&this.faded&&(this.textBox.removeClass("fade-out"),this.faded=!1),t(".block-image:in-viewport").addClass("in-view")},onDestroy:function(){t(window).off("page")},handleBackgrounds:function(){var e=this.ui.masthead.innerHeight();this.ui.masthead.parent().css("height",e)}})}),define("app/behaviors/Map",["require","exports","module","marionette","app/channels","app/utils/helpers","app/utils/constants","app/utils/gmaps"],function(e){var t,n=e("marionette"),i=(e("app/channels"),e("app/utils/helpers"),e("app/utils/constants"),e("app/utils/gmaps"));return n.Behavior.extend({defaults:{zoom:12},ui:{map:".map"},modelEvents:{"change:location":"centerMap"},markers:[],centerMap:function(){this.latLngBounds=new t.LatLngBounds,this.removeAllMarkers(),this.checkResize();var e=this.view.model.get("location");return e?(this.map.setCenter(e),void this.plotLocations()):void this.showInitialMap()},onCenterLocation:function(e){this.map.setCenter(new t.LatLng(e.get("lat"),e.get("lng")))},onRender:function(){i.init({success:_.bind(this.showMap,this)})},removeAllMarkers:function(){_.each(this.markers,function(e){e.setMap(null)})},makeMarker:function(e){var n=this,i=new t.LatLng(e.get("lat"),e.get("lng"));this.latLngBounds.extend(i);{var r=new t.Marker({position:i,map:this.map,title:e.get("title"),visible:!0,location:e});this.map}t.event.addListener(r,"click",function(){n.view.triggerMethod("LocationMarkerClicked",e)}),this.markers.push(r),e.marker=r},plotLocations:function(){this.view.collection.each(this.makeMarker,this);this.map.fitBounds(this.latLngBounds)},showMap:function(e){t=e.maps;var n=this.options,i=this;this.map=new t.Map(i.ui.map.get(0),n),this.mapStyles(),setTimeout(function(){i.showInitialMap()},1500)},showInitialMap:function(){var e=new t.LatLng(34.09541,-117.56289),n=e,i=new t.Marker({position:n,map:this.map,visible:!0,location:location});this.map.setCenter(e);this.map;this.markers.push(i),location.marker=i},mapStyles:function(){this.mapStyles=[{featureType:"administrative",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"administrative.locality",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"administrative.locality",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry",stylers:[{weight:"0.36"},{gamma:"1.43"},{lightness:"17"},{saturation:"14"}]},{featureType:"landscape.man_made",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape.natural.landcover",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.stroke",stylers:[{visibility:"on"},{lightness:"0"}]},{featureType:"landscape.natural.terrain",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"on"},{lightness:"40"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{lightness:"0"},{weight:"1.00"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{lightness:"26"}]}],this.map.setOptions({styles:this.mapStyles})},checkResize:function(){var e=this;google.maps.event.trigger(e.map,"resize")}})}),define("app/data/locations",["require","exports","module"],function(e,t,n){n.exports=[{title:"BLOOMINGDALE'S Bergen County",street:"400 Hackensack Ave. Riverside Square Mall",city:"Hackensack",state:"NJ",zip:3969,country:"US",phone:"201-457-2257",url:"www.bloomingdales.com",lng:-74.032418,lat:40.908011},{title:"BLOOMINGDALE'S Medinah Temple",street:"600 North Wabash Ave",city:"Chicago",state:"IL",zip:60611,country:"US",phone:"312-324-7600",url:"www.bloomingdales.com",lng:-87.626775,lat:41.89253},{title:"BLOOMINGDALE'S Boca Raton",street:"5840 Glades Road",city:"Boca Raton",state:"FL",zip:33487,country:"US",phone:"561-394-2083",url:"www.bloomingdales.com",lng:-80.13772,lat:26.36858},{title:"BLOOMINGDALE'S Aventura",street:"19555 Biscayne Blvd",city:"Aventura",state:"FL",zip:33180,country:"US",phone:"305-792-1226",url:"www.bloomingdales.com",lng:-80.146695,lat:25.957177},{title:"BLOOMINGDALE'S Miami",street:"8778 SW 136 St.",city:"Miami",state:"FL",zip:33176,country:"US",phone:"305-252-6240",url:"www.bloomingdales.com",lng:-80.336346,lat:25.642713},{title:"BLOOMINGDALE'S Orlando",street:"4152 Conroy Road - Millenia Mall",city:"Orlando",state:"FL",zip:32839,country:"US",phone:"407-264-2400",url:"www.bloomingdales.com",lng:-81.429312,lat:28.488806},{title:"BLOOMINGDALE'S White Plains",street:"175 Bloomingdale Road",city:"White Plains",state:"NY",zip:10605,country:"US",phone:"914-684-6311",url:"www.bloomingdales.com",lng:-73.756595,lat:41.022996},{title:"BLOOMINGDALE'S Newport Beach",street:"701 Newport Center Drive",city:"Newport Beach",state:"CA",zip:92660,country:"US",phone:"949-729-6834",url:"www.bloomingdales.com",lng:-117.875747,lat:33.617405},{title:"BLOOMINGDALE'S South Coast Plaza",street:"3333 S. Bristol Street",city:"Costa Mesa",state:"CA",zip:92626,country:"US",phone:"714-824-4732",url:"www.bloomingdales.com",lng:-117.887141,lat:33.69353},{title:"BLOOMINGDALE'S Sherman Oaks",street:"14060 Riverside Drive",city:"Sherman Oaks",state:"CA",zip:91423,country:"US",phone:"818-325-2200",url:"www.bloomingdales.com",lng:-118.440014,lat:34.157403},{title:"BLOOMINGDALE'S Century City",street:"10250 Santa Monica Blvd.",city:"Los Angeles",state:"CA",zip:90067,country:"US",phone:"310-772-2100",url:"www.bloomingdales.com",lng:-118.419497,lat:34.059682},{title:"BLOOMINGDALE'S Willowbrook",street:"3 Willowbrook Blvd-Willowbrook Mall 3rd Floor",city:"Wayne",state:"NJ",zip:7470,country:"US",phone:"973-582-2594",url:"www.bloomingdales.com",lng:-74.259047,lat:40.888636},{title:"BLOOMINGDALE'S New York",street:"1000 Third Ave - 5th Floor",city:"New York",state:"NY",zip:10022,country:"US",phone:"212-705-2645",url:"www.bloomingdales.com",lng:-73.966343,lat:40.761863},{title:"BLOOMINGDALE'S Roosevelt Field",street:"630 Old Country Road - Roos. Field 'Furniture Gall",city:"Garden City",state:"NY",zip:11530,country:"US",phone:"516-873-2774",url:"www.bloomingdales.com",lng:-73.634295,lat:40.726768},{title:"BLOOMINGDALE'S Willow Grove",street:"2400 Moreland Park",city:"Willow Grove",state:"PA",zip:19090,country:"US",phone:"215-706-3349",url:"www.bloomingdales.com",lng:-75.123227,lat:40.137804},{title:"BLOOMINGDALE'S Chestnut Hill",street:"175 Boylston St - The Mall at Chestnut Hill",city:"Newton",state:"MA",zip:2467,country:"US",phone:"617-630-6075",url:"www.bloomingdales.com",lng:-71.175992,lat:42.321402},{title:"BLOOMINGDALE'S King of Prussia",street:"660 West Dekalb Pike",city:"King of Prussia",state:"PA",zip:19406,country:"US",phone:"610-337-6245",url:"www.bloomingdales.com",lng:-75.385906,lat:40.089173},{title:"BLOOMINGDALES - San Francisco",street:"845 Market Street",city:"San Francisco",state:"CA",zip:94103,country:"US",phone:"415-856-5333",url:"www.bloomingdales.com",lng:-122.406965,lat:37.784829},{title:"BLOOMINGDALE'S Tysons Corner",street:"8100 Tysons Corner Center",city:"McLean",state:"VA",zip:22102,country:"US",phone:"703-556-4557",url:"www.bloomingdales.com",lng:-77.221188,lat:38.918768},{title:"Bloomingdale's - Palo Alto",street:"1 Stanford Shopping Center",city:"Palo Alto",state:"CA",zip:94304,country:"US",phone:"650 463 2000",url:"www.bloomingdales.com",lng:-122.17127,lat:37.44291},{title:"BLOOMINGDALE'S - OLD ORCHARD",street:"4963 OLD ORCHARD CENTER",city:"SKOKIE",state:"IL",zip:60077,country:"US",phone:"847-568-6559",url:"www.bloomingdales.com",lng:-87.75074,lat:42.06129},{title:"BLOOMINGDALE'S - PALM BEACH",street:"3105 PGA BLVD",city:"PALM BEACH GARDENS",state:"FL",zip:33410,country:"US",phone:"561-625-2000",url:"www.bloomingdales.com",lng:-80.08315,lat:26.84633}]}),define("templates/helpers/round",["Handlebars"],function(e){function t(e,t){return e.toFixed(t)}return e.registerHelper("round",t),t}),define("hbs!templates/retailer",["hbs","Handlebars","templates/helpers/round"],function(e,t){var n=t.template(function(e,t,n,i,r){function s(e){var t,i,r="";return r+='<a target="_blank" href="http://',(i=n.url)?t=i.call(e,{hash:{}}):(i=e&&e.url,t=typeof i===u?i.call(e,{hash:{}}):i),r+=h(t)+'">',(i=n.url)?t=i.call(e,{hash:{}}):(i=e&&e.url,t=typeof i===u?i.call(e,{hash:{}}):i),r+=h(t)+"</a></br>"}function o(e){var t,i,r="";return r+=' <span class="distance">'+h((t=n.round||e&&e.round,i={hash:{}},t?t.call(e,e&&e.distance,1,i):d.call(e,"round",e&&e.distance,1,i)))+" miles</span>"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var a,l,c="",u="function",h=this.escapeExpression,d=n.helperMissing,p=this;return c+='<h6 class="h9">',(l=n.title)?a=l.call(t,{hash:{}}):(l=t&&t.title,a=typeof l===u?l.call(t,{hash:{}}):l),c+=h(a)+"</h6>\n<address>\n    ",(l=n.street)?a=l.call(t,{hash:{}}):(l=t&&t.street,a=typeof l===u?l.call(t,{hash:{}}):l),c+=h(a)+"</br>\n    ",(l=n.city)?a=l.call(t,{hash:{}}):(l=t&&t.city,a=typeof l===u?l.call(t,{hash:{}}):l),c+=h(a)+", ",(l=n.state)?a=l.call(t,{hash:{}}):(l=t&&t.state,a=typeof l===u?l.call(t,{hash:{}}):l),c+=h(a)+" ",(l=n.zip)?a=l.call(t,{hash:{}}):(l=t&&t.zip,a=typeof l===u?l.call(t,{hash:{}}):l),c+=h(a)+"</br>\n    ",(l=n.phone)?a=l.call(t,{hash:{}}):(l=t&&t.phone,a=typeof l===u?l.call(t,{hash:{}}):l),c+=h(a)+"</br>\n    ",a=n["if"].call(t,t&&t.url,{hash:{},inverse:p.noop,fn:p.program(1,s,r)}),(a||0===a)&&(c+=a),c+="\n    ",a=n["if"].call(t,t&&t.distance,{hash:{},inverse:p.noop,fn:p.program(3,o,r)}),(a||0===a)&&(c+=a),c+='\n    <a href="https://maps.google.com?daddr=',(l=n.street)?a=l.call(t,{hash:{}}):(l=t&&t.street,a=typeof l===u?l.call(t,{hash:{}}):l),c+=h(a)+"+",(l=n.city)?a=l.call(t,{hash:{}}):(l=t&&t.city,a=typeof l===u?l.call(t,{hash:{}}):l),c+=h(a)+"+",(l=n.state)?a=l.call(t,{hash:{}}):(l=t&&t.state,a=typeof l===u?l.call(t,{hash:{}}):l),c+=h(a)+"+",(l=n.zip)?a=l.call(t,{hash:{}}):(l=t&&t.zip,a=typeof l===u?l.call(t,{hash:{}}):l),c+=h(a)+'" class="directions" target="_blank">Directions</a>\n</address>\n'});return t.registerPartial("templates_retailer",n),n}),define("hbs!templates/retailers",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n,i,r){function s(e){var t,i;return(i=n.address)?t=i.call(e,{hash:{}}):(i=e&&e.address,t=typeof i===l?i.call(e,{hash:{}}):i),c(t)}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var o,a="",l="function",c=this.escapeExpression,u=this;return a+='<section class="section intro">\n    <div class="masthead  masthead-short masthead-5"  data-stellar-ratio="0.5">\n        <div class="text-box">\n            <div class="text-wrap">\n                <h2 class="h2">Find a Kluft<br/> near you</h2>\n            </div>\n        </div>\n        <div class="map"></div>\n    </div>\n</section>\n\n<section class="section">\n    <div class="headline">\n        <form class="zipcode-form js-search">\n            <h6 class="h10">Enter your zip code</h6>\n            <div class="zipcode-wrapper">\n                <div class="errors"></div>\n                <input class="btn zipcode" id="zipcode" type="text" name="address" data-model-bind="address" placeholder="zip code" value="',o=n["if"].call(t,t&&t.address,{hash:{},inverse:u.noop,fn:u.program(1,s,r)}),(o||0===o)&&(a+=o),a+='">\n            </div>\n            <button class="btn search btn-submit">Search</button>\n        </form>\n    </div>\n</section>\n\n<div class="col-1-1 retail-locations">\n    <ol class="results location-list"></ol>\n</div>'});return t.registerPartial("templates_retailers",n),n}),define("app/views/RetailersView",["require","exports","module","jquery","marionette","app/channels","app/utils/helpers","app/utils/constants","app/behaviors/Map","app/data/locations","hbs!templates/retailer","hbs!templates/retailers","jquery.viewport"],function(e){var t=e("jquery"),n=e("marionette"),i=(e("app/channels"),e("app/utils/helpers"),e("app/utils/constants"),e("app/behaviors/Map")),r=e("app/data/locations"),s=e("hbs!templates/retailer"),o=e("hbs!templates/retailers");e("jquery.viewport");var a=n.ItemView.extend({template:s,tagName:"li",modelEvents:{"change:active":"setActiveClass"},events:{},setActiveClass:function(){},onClick:function(){}});return n.CompositeView.extend({className:"page retailers",template:o,childViewContainer:".results",childView:a,ui:{results:".results",form:".js-search",inputAddress:"input[name=address]",errors:".errors",masthead:".grid .intro .masthead",intro:".intro",submitBtn:".submit"},events:{"focus @ui.inputAddress":"onFormFocus"},behaviors:{Map:{behaviorClass:i}},childEvents:{"reset:classes":"resetChildClasses","center:location":"centerLocation"},resetChildClasses:function(){this.children.each(this.resetChildClass)},resetChildClass:function(e){e.$el.removeClass("active")},centerLocation:function(e){this.ui.results.addClass("location-centered"),this.triggerMethod("CenterLocation",e.model)},collectionEvents:{reset:"collectionReset"},collectionReset:function(){this.triggerMethod("CollectionReset")},initialize:function(){this.locations=r,this.listenTo(this.model,"change:location",this.onUpdateAddress),t(window).on("scroll.page",_.bind(this.scrollEffects,this)),t(window).on("resize.page",_.bind(this.handleBackgrounds,this)),this.window=t(window),this.faded=!1},onShow:function(){var e=this;_.isUndefined(this.model.get("location"))||this.model.trigger("change:location"),this.textBox=t(".intro .masthead .text-box"),t(".block-image:in-viewport").addClass("in-view"),this.ui.form=t("form"),this.ui.form.on("submit",function(t){return t.preventDefault(),e.onFormSubmit(t),!1})},scrollEffects:function(){this.scrollPos=this.window.scrollTop(),this.window.scrollTop()>150&&!this.faded?(this.textBox.addClass("fade-out"),this.faded=!0):this.window.scrollTop()<150&&this.faded&&(this.textBox.removeClass("fade-out"),this.faded=!1),t(".block-image:in-viewport").addClass("in-view")},onUpdateAddress:function(){if(_.isUndefined(this.model.get("location"))||null===this.model.get("location"))return this.ui.inputAddress.val(""),this.$el.removeClass("showing-results");_.each(this.locations,this.setDistance,this);var e=_.sortBy(this.locations,this.sortLocations);this.collection.reset(e.slice(0,6)),this.checkResults(e.slice(0,6))},checkResults:function(e){console.log(e),this.$el.addClass("showing-results")},sortLocations:function(e){return e.distance},setDistance:function(e){var t=this.model.get("location").lat(),n=this.model.get("location").lng();e.distance=180*Math.acos(Math.sin(t*Math.PI/180)*Math.sin(e.lat*Math.PI/180)+Math.cos(t*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*Math.cos((n-e.lng)*Math.PI/180))/Math.PI*60*1.1515},onFormSubmit:function(e){e.stopPropagation(),e.preventDefault(),console.log("form submit");var n=t(e.currentTarget).find("input[name=address]").val();this.resetErrors(),this.isFormValid(n)?this.model.set("address",n):(console.log("error"),this.addError("Please enter a zip code",this.ui.inputAddress),this.showErrors())},onFormFocus:function(){this.ui.inputAddress.val("")},resetErrors:function(){this.errors=[],this.ui.errors.empty(),t(".error").removeClass(".error")},addError:function(e){this.errors.push(e),this.$el.addClass("error")},showErrors:function(){var e=t("<p>").addClass("error");e.text("Please provide a valid zip code").appendTo(this.ui.errors),e.appendTo(this.ui.errors)},onLocationMarkerClicked:function(e){var t=this.collection.get(e);t.collection.setActiveModel(t)},isFormValid:function(e){var t=/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(parseInt(e,10));return t},handleBackgrounds:function(){var e=this.ui.masthead.innerHeight();this.ui.masthead.parent().css("height",e)}})}),define("app/controllers/AppController",["require","app/app","marionette","app/utils/helpers","app/utils/constants","app/channels","app/models/Address","app/collections/Addresses","app/views/GlobalView","app/views/HeaderView","app/views/FooterView","app/views/HomeView","app/views/CollectionView","app/views/AboutView","app/views/KluftStandardView","app/views/BeyondLuxuryView","app/views/KluftSignatureView","app/views/RoyalSovereignView","app/views/RoyalSovereignLatexView","app/views/ContactView","app/views/MethodView","app/views/RetailersView"],function(e){var t=e("app/app"),n=e("marionette"),i=(e("app/utils/helpers"),e("app/utils/constants")),r=e("app/channels"),s=e("app/models/Address"),o=e("app/collections/Addresses"),a=e("app/views/GlobalView"),l=e("app/views/HeaderView"),c=e("app/views/FooterView"),u=e("app/views/HomeView"),h=e("app/views/CollectionView"),d=e("app/views/AboutView"),p=e("app/views/KluftStandardView"),f=e("app/views/BeyondLuxuryView"),g=e("app/views/KluftSignatureView"),m=e("app/views/RoyalSovereignView"),v=e("app/views/RoyalSovereignLatexView"),y=e("app/views/ContactView"),b=e("app/views/MethodView"),w=e("app/views/RetailersView");return n.Controller.extend({initialize:function(){t.onload=!0,this.bootstrap()},bootstrap:function(){r.globalChannel.on("navigate",this.navigate,this),this.globalView=new a,this.headerView=new l,this.footerView=new c,t.headerRegion.show(this.headerView),t.footerRegion.show(this.footerView),this.onappReady()},navigate:function(e){t.onload=!1,this.url=e.route,this.triggerStatus=e.triggerStatus,t.appRouter.navigate(this.url,{trigger:this.triggerStatus}),$("html").removeClass("menu-is-open")},onappReady:function(){$("body").removeClass(i.INITING_CLASS),$(".preloader").velocity({opacity:0},{delay:500,duration:600,display:"none"})},index:function(){this.homeView=new u,t.contentRegion.transitionToView(this.homeView)},collections:function(){this.collectionView=new h,t.contentRegion.transitionToView(this.collectionView)},beyondLuxury:function(){this.beyondLuxuryView=new f,t.contentRegion.transitionToView(this.beyondLuxuryView)},kluftSignature:function(){this.kluftSignatureView=new g,t.contentRegion.transitionToView(this.kluftSignatureView)},royalSovereign:function(){this.royalSovereignView=new m,t.contentRegion.transitionToView(this.royalSovereignView)},royalSovereignLatex:function(){this.royalSovereignLatexView=new v,t.contentRegion.transitionToView(this.royalSovereignLatexView)},about:function(){this.aboutView=new d,t.contentRegion.transitionToView(this.aboutView)},method:function(){this.methodView=new b,t.contentRegion.transitionToView(this.methodView)},kluftStandard:function(){this.kluftStandardView=new p,t.contentRegion.transitionToView(this.kluftStandardView)},retailers:function(e){this.address=this.address||new s,this.address.set("address",e),this.retailersView=new w({model:this.address,collection:new o({})}),t.contentRegion.transitionToView(this.retailersView)},contact:function(){this.contactView=new y,t.contentRegion.transitionToView(this.contactView)}})}),define("app/routers/AppRouter",["require","exports","module","marionette","app/controllers/AppController"],function(e){var t=e("marionette"),n=e("app/controllers/AppController");return t.AppRouter.extend({appRoutes:{"(/)":"index","collections(/)":"collections","collections(/):beyond-luxury(/)":"beyondLuxury","collections(/):kluft-signature(/)":"kluftSignature","collections(/):royal-sovereign(/)":"royalSovereign","collections(/):royal-sovereign-latex(/)":"royalSovereignLatex","earl-kluft(/)":"about","method(/)":"method","kluft-standard(/)":"kluftStandard","retailers(/)(/:address)":"retailers","contact(/)":"contact"},controller:new n})}),require(["./config"],function(){require(["app/app","app/routers/AppRouter"],function(e,t){e.appRouter=new t,e.start()})}),define("main",function(){})}();